5d881fd6d6e3e60553d672240fbd6b27
/**
 * OpenAI Environment Configuration Helper
 * 
 * Centralized retrieval and validation of OpenAI secrets for all server code.
 * This helper provides fail-fast validation to ensure required environment
 * variables are present before the application starts.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    getEnv: function() {
        return getEnv;
    },
    getEnvOptional: function() {
        return getEnvOptional;
    }
});
const getEnv = ()=>{
    const key = process.env.OPENAI_API_KEY;
    if (!key || key.trim() === '') {
        throw new Error('OPENAI_API_KEY not found');
    }
    const model = process.env.OPENAI_MODEL;
    const defaultModel = 'gpt-image-1';
    return {
        key,
        model: model && model.trim() !== '' ? model : defaultModel
    };
};
const getEnvOptional = ()=>{
    const key = process.env.OPENAI_API_KEY;
    if (!key || key.trim() === '') {
        return undefined;
    }
    const model = process.env.OPENAI_MODEL;
    const defaultModel = 'gpt-image-1';
    return {
        key,
        model: model && model.trim() !== '' ? model : defaultModel
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3Avc3JjL2xpYi9nZXRFbnYudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBPcGVuQUkgRW52aXJvbm1lbnQgQ29uZmlndXJhdGlvbiBIZWxwZXJcbiAqIFxuICogQ2VudHJhbGl6ZWQgcmV0cmlldmFsIGFuZCB2YWxpZGF0aW9uIG9mIE9wZW5BSSBzZWNyZXRzIGZvciBhbGwgc2VydmVyIGNvZGUuXG4gKiBUaGlzIGhlbHBlciBwcm92aWRlcyBmYWlsLWZhc3QgdmFsaWRhdGlvbiB0byBlbnN1cmUgcmVxdWlyZWQgZW52aXJvbm1lbnRcbiAqIHZhcmlhYmxlcyBhcmUgcHJlc2VudCBiZWZvcmUgdGhlIGFwcGxpY2F0aW9uIHN0YXJ0cy5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5BSUVudiB7XG4gIGtleTogc3RyaW5nO1xuICBtb2RlbDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyBhbmQgdmFsaWRhdGVzIE9wZW5BSSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAqIEByZXR1cm5zIE9wZW5BSUVudiBvYmplY3Qgd2l0aCB2YWxpZGF0ZWQgQVBJIGtleSBhbmQgbW9kZWxcbiAqIEB0aHJvd3MgRXJyb3IgaWYgT1BFTkFJX0FQSV9LRVkgaXMgbm90IGZvdW5kXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFbnYgPSAoKTogT3BlbkFJRW52ID0+IHtcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVk7XG4gIFxuICBpZiAoIWtleSB8fCBrZXkudHJpbSgpID09PSAnJykge1xuICAgIHRocm93IG5ldyBFcnJvcignT1BFTkFJX0FQSV9LRVkgbm90IGZvdW5kJyk7XG4gIH1cbiAgXG4gIGNvbnN0IG1vZGVsID0gcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMO1xuICBjb25zdCBkZWZhdWx0TW9kZWwgPSAnZ3B0LWltYWdlLTEnO1xuICBcbiAgcmV0dXJuIHtcbiAgICBrZXksXG4gICAgbW9kZWw6IG1vZGVsICYmIG1vZGVsLnRyaW0oKSAhPT0gJycgPyBtb2RlbCA6IGRlZmF1bHRNb2RlbCxcbiAgfTtcbn07XG5cbi8qKlxuICogQWx0ZXJuYXRpdmUgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHRocm93aW5nXG4gKiBVc2VmdWwgZm9yIG9wdGlvbmFsIE9wZW5BSSBmZWF0dXJlc1xuICovXG5leHBvcnQgY29uc3QgZ2V0RW52T3B0aW9uYWwgPSAoKTogT3BlbkFJRW52IHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVk7XG4gIFxuICBpZiAoIWtleSB8fCBrZXkudHJpbSgpID09PSAnJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgXG4gIGNvbnN0IG1vZGVsID0gcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMO1xuICBjb25zdCBkZWZhdWx0TW9kZWwgPSAnZ3B0LWltYWdlLTEnO1xuICBcbiAgcmV0dXJuIHtcbiAgICBrZXksXG4gICAgbW9kZWw6IG1vZGVsICYmIG1vZGVsLnRyaW0oKSAhPT0gJycgPyBtb2RlbCA6IGRlZmF1bHRNb2RlbCxcbiAgfTtcbn07ICJdLCJuYW1lcyI6WyJnZXRFbnYiLCJnZXRFbnZPcHRpb25hbCIsImtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsInRyaW0iLCJFcnJvciIsIm1vZGVsIiwiT1BFTkFJX01PREVMIiwiZGVmYXVsdE1vZGVsIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0NBTUM7Ozs7Ozs7Ozs7O0lBWVlBLE1BQU07ZUFBTkE7O0lBb0JBQyxjQUFjO2VBQWRBOzs7QUFwQk4sTUFBTUQsU0FBUztJQUNwQixNQUFNRSxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLGNBQWM7SUFFdEMsSUFBSSxDQUFDSCxPQUFPQSxJQUFJSSxJQUFJLE9BQU8sSUFBSTtRQUM3QixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFFQSxNQUFNQyxRQUFRTCxRQUFRQyxHQUFHLENBQUNLLFlBQVk7SUFDdEMsTUFBTUMsZUFBZTtJQUVyQixPQUFPO1FBQ0xSO1FBQ0FNLE9BQU9BLFNBQVNBLE1BQU1GLElBQUksT0FBTyxLQUFLRSxRQUFRRTtJQUNoRDtBQUNGO0FBTU8sTUFBTVQsaUJBQWlCO0lBQzVCLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztJQUV0QyxJQUFJLENBQUNILE9BQU9BLElBQUlJLElBQUksT0FBTyxJQUFJO1FBQzdCLE9BQU9LO0lBQ1Q7SUFFQSxNQUFNSCxRQUFRTCxRQUFRQyxHQUFHLENBQUNLLFlBQVk7SUFDdEMsTUFBTUMsZUFBZTtJQUVyQixPQUFPO1FBQ0xSO1FBQ0FNLE9BQU9BLFNBQVNBLE1BQU1GLElBQUksT0FBTyxLQUFLRSxRQUFRRTtJQUNoRDtBQUNGIn0=