{"version":3,"names":["ErrorBoundary","DefaultErrorFallback","error","resetError","cov_28pdawfymh","f","title","message","actions","canRetry","s","_errorHandling","formatErrorForDisplay","handleActionClick","action","type","b","window","open","console","log","_jsxruntime","jsxs","className","jsx","code","map","index","onClick","description","some","a","_react","default","Component","constructor","props","setState","hasError","undefined","state","getDerivedStateFromError","businessError","name","timestamp","Date","toISOString","details","cause","componentDidCatch","errorInfo","componentStack","logAndClassifyError","errorBoundary","onError","process","env","NODE_ENV","render","FallbackComponent","fallback","children"],"sources":["/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/src/business-layer/providers/ErrorBoundary.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport type { BusinessLayerError } from '../types/error.types';\nimport { \n  formatErrorForDisplay, \n  logAndClassifyError,\n  type ErrorRecoveryAction \n} from '../utils/errorHandling';\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error?: BusinessLayerError;\n}\n\ninterface ErrorBoundaryProps {\n  children: React.ReactNode;\n  fallback?: React.ComponentType<{ error: BusinessLayerError; resetError: () => void }>;\n  onError?: (error: BusinessLayerError, errorInfo: React.ErrorInfo) => void;\n}\n\nconst DefaultErrorFallback: React.FC<{ error: BusinessLayerError; resetError: () => void }> = ({ \n  error, \n  resetError \n}) => {\n  // Use comprehensive error handling to format the error\n  const { title, message, actions, canRetry } = formatErrorForDisplay(error);\n\n  const handleActionClick = (action: ErrorRecoveryAction) => {\n    switch (action.type) {\n      case 'retry':\n        resetError();\n        break;\n      case 'check_connection':\n        // Could open a help modal or redirect to network troubleshooting\n        window.open('https://support.google.com/chrome/answer/95669', '_blank');\n        break;\n      case 'contact_support':\n        // Could open support modal or redirect to support page\n        console.log('Contact support requested');\n        break;\n      default:\n        console.log(`Action not implemented: ${action.type}`);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-[200px] p-6 bg-red-50 border border-red-200 rounded-lg\">\n      <div className=\"text-red-600 text-lg font-semibold mb-2\">\n        {title}\n      </div>\n      <div className=\"text-red-500 text-sm mb-4 text-center max-w-md\">\n        {message}\n      </div>\n      {error.code && (\n        <div className=\"text-red-400 text-xs mb-4\">\n          Error Code: {error.code}\n        </div>\n      )}\n      \n      {/* Recovery Actions */}\n      <div className=\"flex flex-col gap-2 w-full max-w-sm\">\n        {actions.map((action, index) => (\n          <button\n            key={index}\n            onClick={() => handleActionClick(action)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm\"\n          >\n            {action.description}\n          </button>\n        ))}\n        \n        {/* Always show reset button if no other retry action */}\n        {canRetry && !actions.some(a => a.type === 'retry') && (\n          <button\n            onClick={resetError}\n            className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n          >\n            Try Again\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    const businessError: BusinessLayerError = {\n      name: error.name,\n      message: error.message,\n      code: 'COMPONENT_ERROR',\n      timestamp: new Date().toISOString(),\n      ...(('cause' in error) && { details: { cause: (error as Error & { cause?: unknown }).cause } }),\n    };\n\n    return {\n      hasError: true,\n      error: businessError,\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    const businessError: BusinessLayerError = {\n      name: error.name,\n      message: error.message,\n      code: 'COMPONENT_ERROR',\n      timestamp: new Date().toISOString(),\n      details: {\n        componentStack: errorInfo.componentStack,\n      },\n    };\n\n    // Use comprehensive error logging system\n    logAndClassifyError(businessError, {\n      errorBoundary: true,\n      componentStack: errorInfo.componentStack,\n      timestamp: new Date().toISOString()\n    });\n\n    this.props.onError?.(businessError, errorInfo);\n    \n    // Log to console in development for debugging\n    if (process.env.NODE_ENV === 'development') {\n      console.error('ErrorBoundary caught an error:', error, errorInfo);\n    }\n  }\n\n  resetError = () => {\n    this.setState({ hasError: false, error: undefined });\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      const FallbackComponent = this.props.fallback || DefaultErrorFallback;\n      return <FallbackComponent error={this.state.error} resetError={this.resetError} />;\n    }\n\n    return this.props.children;\n  }\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAsFa;;;;;;WAAAA,aAAA;;;;;;;;wEApFK;;;kCAMX;;;;;;;;;;;;;;;;;AAaP,MAAMC,oBAAA,GAAwFA,CAAC;EAC7FC,KAAK;EACLC;AAAU,CACX;EAAA;EAAAC,cAAA,GAAAC,CAAA;EACC;EACA,MAAM;IAAEC,KAAK;IAAEC,OAAO;IAAEC,OAAO;IAAEC;EAAQ,CAAE;EAAA;EAAA,CAAAL,cAAA,GAAAM,CAAA,OAAG,IAAAC,cAAA,CAAAC,qBAAqB,EAACV,KAAA;EAAA;EAAAE,cAAA,GAAAM,CAAA;EAEpE,MAAMG,iBAAA,GAAqBC,MAAA;IAAA;IAAAV,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAM,CAAA;IACzB,QAAQI,MAAA,CAAOC,IAAI;MACjB,KAAK;QAAA;QAAAX,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAM,CAAA;QACHP,UAAA;QAAA;QAAAC,cAAA,GAAAM,CAAA;QACA;MACF,KAAK;QAAA;QAAAN,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAM,CAAA;QACH;QACAO,MAAA,CAAOC,IAAI,CAAC,kDAAkD;QAAA;QAAAd,cAAA,GAAAM,CAAA;QAC9D;MACF,KAAK;QAAA;QAAAN,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAM,CAAA;QACH;QACAS,OAAA,CAAQC,GAAG,CAAC;QAAA;QAAAhB,cAAA,GAAAM,CAAA;QACZ;MACF;QAAA;QAAAN,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAM,CAAA;QACES,OAAA,CAAQC,GAAG,CAAC,2BAA2BN,MAAA,CAAOC,IAAI,EAAE;IACxD;EACF;EAAA;EAAAX,cAAA,GAAAM,CAAA;EAEA,oBACE,IAAAW,WAAA,CAAAC,IAAA,EAAC;IAAIC,SAAA,EAAU;4BACb,IAAAF,WAAA,CAAAG,GAAA,EAAC;MAAID,SAAA,EAAU;gBACZjB;qBAEH,IAAAe,WAAA,CAAAG,GAAA,EAAC;MAAID,SAAA,EAAU;gBACZhB;;IAEF;IAAA,CAAAH,cAAA,GAAAY,CAAA,UAAAd,KAAA,CAAMuB,IAAI;IAAA;IAAA,CAAArB,cAAA,GAAAY,CAAA,uBACT,IAAAK,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;iBAA4B,gBAC5BrB,KAAA,CAAMuB,IAAI;sBAK3B,IAAAJ,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;iBACZf,OAAA,CAAQkB,GAAG,CAAC,CAACZ,MAAA,EAAQa,KAAA,KACpB;QAAA;QAAAvB,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAM,CAAA;QAAA,OADoB,aACpB,IAAAW,WAAA,CAAAG,GAAA,EAAC;UAECI,OAAA,EAASA,CAAA,KAAM;YAAA;YAAAxB,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAM,CAAA;YAAA,OAAAG,iBAAA,CAAkBC,MAAA;UAAA;UACjCS,SAAA,EAAU;oBAETT,MAAA,CAAOe;WAJHF,KAAA;MAAA;MASR;MAAA,CAAAvB,cAAA,GAAAY,CAAA,UAAAP,QAAA;MAAA;MAAA,CAAAL,cAAA,GAAAY,CAAA,UAAY,CAACR,OAAA,CAAQsB,IAAI,CAACC,CAAA,IAAK;QAAA;QAAA3B,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAM,CAAA;QAAA,OAAAqB,CAAA,CAAEhB,IAAI,KAAK;MAAA;MAAA;MAAA,CAAAX,cAAA,GAAAY,CAAA,uBACzC,IAAAK,WAAA,CAAAG,GAAA,EAAC;QACCI,OAAA,EAASzB,UAAA;QACToB,SAAA,EAAU;kBACX;;;;AAOX;AAEO,MAAMvB,aAAA;AAAA;AAAA,CAAsBgC,MAAA,CAAAC,OAAK,CAACC,SAAS;EAChDC,YAAYC,KAAyB,EAAE;IAAA;IAAAhC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAM,CAAA;IACrC,KAAK,CAAC0B,KAAA,QA6CRjC,UAAA,GAAa;MAAA;MAAAC,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAM,CAAA;MACX,IAAI,CAAC2B,QAAQ,CAAC;QAAEC,QAAA,EAAU;QAAOpC,KAAA,EAAOqC;MAAU;IACpD;IAAA;IAAAnC,cAAA,GAAAM,CAAA;IA9CE,IAAI,CAAC8B,KAAK,GAAG;MAAEF,QAAA,EAAU;IAAM;EACjC;EAEA,OAAOG,yBAAyBvC,KAAY,EAAsB;IAAA;IAAAE,cAAA,GAAAC,CAAA;IAChE,MAAMqC,aAAA;IAAA;IAAA,CAAAtC,cAAA,GAAAM,CAAA,QAAoC;MACxCiC,IAAA,EAAMzC,KAAA,CAAMyC,IAAI;MAChBpC,OAAA,EAASL,KAAA,CAAMK,OAAO;MACtBkB,IAAA,EAAM;MACNmB,SAAA,EAAW,IAAIC,IAAA,GAAOC,WAAW;MACjC;MAAI;MAAA,CAAA1C,cAAA,GAAAY,CAAA,iBAAC,IAAWd,KAAA;MAAA;MAAA,CAAAE,cAAA,GAAAY,CAAA,UAAU;QAAE+B,OAAA,EAAS;UAAEC,KAAA,EAAO9C,KAAC,CAAsC8C;QAAM;MAAE,CAAC;IAChG;IAAA;IAAA5C,cAAA,GAAAM,CAAA;IAEA,OAAO;MACL4B,QAAA,EAAU;MACVpC,KAAA,EAAOwC;IACT;EACF;EAEAO,kBAAkB/C,KAAY,EAAEgD,SAA0B,EAAE;IAAA;IAAA9C,cAAA,GAAAC,CAAA;IAC1D,MAAMqC,aAAA;IAAA;IAAA,CAAAtC,cAAA,GAAAM,CAAA,QAAoC;MACxCiC,IAAA,EAAMzC,KAAA,CAAMyC,IAAI;MAChBpC,OAAA,EAASL,KAAA,CAAMK,OAAO;MACtBkB,IAAA,EAAM;MACNmB,SAAA,EAAW,IAAIC,IAAA,GAAOC,WAAW;MACjCC,OAAA,EAAS;QACPI,cAAA,EAAgBD,SAAA,CAAUC;MAC5B;IACF;IAEA;IAAA;IAAA/C,cAAA,GAAAM,CAAA;IACA,IAAAC,cAAA,CAAAyC,mBAAmB,EAACV,aAAA,EAAe;MACjCW,aAAA,EAAe;MACfF,cAAA,EAAgBD,SAAA,CAAUC,cAAc;MACxCP,SAAA,EAAW,IAAIC,IAAA,GAAOC,WAAW;IACnC;IAAA;IAAA1C,cAAA,GAAAM,CAAA;IAEA,IAAI,CAAC0B,KAAK,CAACkB,OAAO,GAAGZ,aAAA,EAAeQ,SAAA;IAEpC;IAAA;IAAA9C,cAAA,GAAAM,CAAA;IACA,IAAI6C,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;MAAA;MAAArD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAM,CAAA;MAC1CS,OAAA,CAAQjB,KAAK,CAAC,kCAAkCA,KAAA,EAAOgD,SAAA;IACzD;IAAA;IAAA;MAAA9C,cAAA,GAAAY,CAAA;IAAA;EACF;EAMA0C,OAAA,EAAS;IAAA;IAAAtD,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAM,CAAA;IACP;IAAI;IAAA,CAAAN,cAAA,GAAAY,CAAA,cAAI,CAACwB,KAAK,CAACF,QAAQ;IAAA;IAAA,CAAAlC,cAAA,GAAAY,CAAA,UAAI,IAAI,CAACwB,KAAK,CAACtC,KAAK,GAAE;MAAA;MAAAE,cAAA,GAAAY,CAAA;MAC3C,MAAM2C,iBAAA;MAAA;MAAA,CAAAvD,cAAA,GAAAM,CAAA;MAAoB;MAAA,CAAAN,cAAA,GAAAY,CAAA,cAAI,CAACoB,KAAK,CAACwB,QAAQ;MAAA;MAAA,CAAAxD,cAAA,GAAAY,CAAA,UAAIf,oBAAA;MAAA;MAAAG,cAAA,GAAAM,CAAA;MACjD,oBAAO,IAAAW,WAAA,CAAAG,GAAA,EAACmC,iBAAA;QAAkBzD,KAAA,EAAO,IAAI,CAACsC,KAAK,CAACtC,KAAK;QAAEC,UAAA,EAAY,IAAI,CAACA;;IACtE;IAAA;IAAA;MAAAC,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAM,CAAA;IAEA,OAAO,IAAI,CAAC0B,KAAK,CAACyB,QAAQ;EAC5B;AACF","ignoreList":[]}