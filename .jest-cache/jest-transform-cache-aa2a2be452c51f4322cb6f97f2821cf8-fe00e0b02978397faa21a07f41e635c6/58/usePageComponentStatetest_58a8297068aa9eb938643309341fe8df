fcc7007fbb74b54cadde10da953dee28
/**
 * @jest-environment jsdom
 */ "use strict";
// Mock business layer dependencies
jest.mock('../../src/business-layer', ()=>({
        useTryonMutation: jest.fn(()=>({
                mutate: jest.fn(),
                mutateAsync: jest.fn(),
                data: undefined,
                error: null,
                isError: false,
                isSuccess: false,
                isLoading: false,
                reset: jest.fn()
            })),
        useImageProcessing: jest.fn(()=>({
                processImage: jest.fn(),
                processBasic: jest.fn(),
                isProcessing: false,
                error: null
            })),
        useImageValidation: jest.fn(()=>({
                data: {
                    isValid: true,
                    errors: []
                },
                error: null,
                isLoading: false,
                isError: false
            })),
        useImageMetadata: jest.fn(()=>({
                data: {
                    dimensions: {
                        width: 1024,
                        height: 768
                    },
                    format: 'image/jpeg',
                    size: 102400
                },
                error: null,
                isLoading: false,
                isError: false
            })),
        useImageThumbnail: jest.fn(()=>({
                data: 'data:image/jpeg;base64,mock-thumbnail',
                error: null,
                isLoading: false,
                isError: false
            })),
        processImageForTryon: jest.fn(),
        resizeImageTo1024x1536: jest.fn()
    }));
// Mock utility dependencies
jest.mock('../../src/utils/image', ()=>({
        fileToBase64: jest.fn().mockResolvedValue('data:image/jpeg;base64,mock-data'),
        compressBase64: jest.fn().mockReturnValue('data:image/jpeg;base64,compressed-mock-data'),
        CompressionFailedError: class extends Error {
            constructor(msg){
                super(msg);
            }
        }
    }));
jest.mock('../../src/lib/errorToMessage', ()=>({
        errorToMessage: jest.fn().mockReturnValue('Mock error message')
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _index = require("../test-utils/index");
const _useBackwardCompatibility = require("../../src/hooks/useBackwardCompatibility");
// Mock browser APIs for image processing
beforeAll(()=>{
    // Mock fetch for createFileFromImageUrl
    global.fetch = jest.fn().mockImplementation(()=>Promise.resolve({
            blob: ()=>Promise.resolve(new Blob([
                    'mock-image-data'
                ], {
                    type: 'image/jpeg'
                }))
        }));
    // Mock Image constructor for resizeImage
    global.Image = class MockImage {
        set src(value) {
            setTimeout(()=>{
                if (this.onload) this.onload();
            }, 0);
        }
        constructor(){
            this.onload = null;
            this.onerror = null;
            this.width = 1024;
            this.height = 1536;
            this.crossOrigin = '';
        }
    };
    // Mock Canvas and CanvasRenderingContext2D
    global.HTMLCanvasElement.prototype.getContext = jest.fn(()=>({
            drawImage: jest.fn()
        }));
    global.HTMLCanvasElement.prototype.toDataURL = jest.fn(()=>'data:image/jpeg;base64,resized-image-data');
    // Mock document.createElement for canvas
    const originalCreateElement = document.createElement;
    document.createElement = jest.fn((tagName)=>{
        if (tagName === 'canvas') {
            return {
                width: 0,
                height: 0,
                getContext: ()=>({
                        drawImage: jest.fn()
                    }),
                toDataURL: ()=>'data:image/jpeg;base64,resized-image-data'
            };
        }
        return originalCreateElement.call(document, tagName);
    });
});
// Setup test environment
(0, _index.setupTestEnvironment)();
describe('usePageComponentState', ()=>{
    // Setup MSW server hooks at describe level
    _index.MockAPIUtils.setupServer();
    describe('Initialization', ()=>{
        it('should initialize with correct default state', ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            expect(result.current.isCapturing).toBe(false);
            expect(result.current.leftCardImage).toBeNull();
            expect(result.current.rightCardImage).toBeNull();
            expect(result.current.showPolaroid).toBe(false);
            expect(result.current.userImageFile).toBeNull();
            expect(result.current.apparelImageFile).toBeNull();
            expect(result.current.generatedImage).toBeNull();
            expect(result.current.hasError).toBe(false);
        });
        it('should provide all required handler functions', ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            expect(typeof result.current.handleUserFileUpload).toBe('function');
            expect(typeof result.current.handleApparelFileUpload).toBe('function');
            expect(typeof result.current.handleLeftCardImageUpload).toBe('function');
            expect(typeof result.current.handleRightCardImageUpload).toBe('function');
            expect(typeof result.current.handleCameraButtonClick).toBe('function');
            expect(typeof result.current.handleGenerationStart).toBe('function');
            expect(typeof result.current.handleGenerationComplete).toBe('function');
            expect(typeof result.current.handleClosePolaroid).toBe('function');
            expect(typeof result.current.handleRetryGeneration).toBe('function');
        });
    });
    describe('File Upload Handling', ()=>{
        it('should handle user file upload correctly', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Mock file reading
            testUtils.mockFileRead('data:image/jpeg;base64,user-image-data');
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
            });
        });
        it('should handle apparel file upload correctly', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Mock file reading
            testUtils.mockFileRead('data:image/jpeg;base64,apparel-image-data');
            (0, _react.act)(()=>{
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
        });
        it('should handle left card image upload', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockImageUrl = 'data:image/jpeg;base64,left-card-image';
            // Mock file reading and URL creation
            testUtils.mockFileRead('data:image/jpeg;base64,processed-left-image');
            await (0, _react.act)(async ()=>{
                await result.current.handleLeftCardImageUpload(mockImageUrl);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.leftCardImage).toBeTruthy();
                expect(result.current.leftCardImage).toContain('data:image/jpeg;base64');
            });
        });
        it('should handle right card image upload', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockImageUrl = 'data:image/jpeg;base64,right-card-image';
            // Mock file reading and URL creation
            testUtils.mockFileRead('data:image/jpeg;base64,processed-right-image');
            await (0, _react.act)(async ()=>{
                await result.current.handleRightCardImageUpload(mockImageUrl);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.rightCardImage).toBeTruthy();
                expect(result.current.rightCardImage).toContain('data:image/jpeg;base64');
            });
        });
    });
    describe('Try-on Generation Workflow', ()=>{
        it('should handle complete try-on workflow successfully', async ()=>{
            const { result, testUtils, waitForWorkflow } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup successful API response
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,generated-image-data'
            });
            // Mock file reading
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            // Upload files
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            // Wait for files to be uploaded
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
            // Start generation
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            // Wait for capturing state
            await (0, _react.waitFor)(()=>{
                expect(result.current.isCapturing).toBe(true);
                expect(result.current.showPolaroid).toBe(true);
            });
            // Wait for generation completion
            await (0, _react.waitFor)(()=>{
                expect(result.current.isCapturing).toBe(false);
                expect(result.current.generatedImage).toBeTruthy();
            }, {
                timeout: 10000
            });
        });
        it('should handle API errors gracefully', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup API error response
            testUtils.mockApiError('Server error', 500);
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            // Upload files
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
            // Start generation
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            // Wait for error state
            await (0, _react.waitFor)(()=>{
                expect(result.current.hasError).toBe(true);
                expect(result.current.isCapturing).toBe(false);
            }, {
                timeout: 10000
            });
        });
        it('should handle retry generation', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // First attempt fails
            testUtils.mockApiError('Server error', 500);
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            // Upload files and generate (will fail)
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.hasError).toBe(true);
            });
            // Setup successful retry
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,retry-generated-image'
            });
            // Retry generation
            (0, _react.act)(()=>{
                result.current.handleRetryGeneration();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.hasError).toBe(false);
                expect(result.current.generatedImage).toBeTruthy();
            }, {
                timeout: 10000
            });
        });
    });
    describe('Modal State Management', ()=>{
        it('should handle polaroid close correctly', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            // Setup successful generation first
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockSuccessfulApiCall();
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            // Complete workflow
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.showPolaroid).toBe(true);
            });
            // Close polaroid
            (0, _react.act)(()=>{
                result.current.handleClosePolaroid();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.showPolaroid).toBe(false);
            });
        });
        it('should handle generation callbacks correctly', async ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            // Test generation start callback
            (0, _react.act)(()=>{
                result.current.handleGenerationStart();
            });
            // Test generation complete callback
            (0, _react.act)(()=>{
                result.current.handleGenerationComplete('mock-image-url');
            });
            // These are legacy callbacks that should not throw errors
            expect(true).toBe(true); // Test passes if no errors thrown
        });
    });
    describe('Error Scenarios', ()=>{
        it('should handle file upload without both images', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Upload only user image
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
            });
            // Try to generate without apparel image
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            // Should not start capturing without both images
            expect(result.current.isCapturing).toBe(false);
            expect(result.current.showPolaroid).toBe(false);
        });
        it('should handle API timeout gracefully', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup timeout
            testUtils.mockApiTimeout(1000);
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            // Upload files
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
            // Start generation
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            // Wait for timeout error
            await (0, _react.waitFor)(()=>{
                expect(result.current.hasError).toBe(true);
                expect(result.current.isCapturing).toBe(false);
            }, {
                timeout: 15000
            });
        });
        it('should handle file reading errors', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Mock file read error
            testUtils.mockFileReadError('File read failed');
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
            });
            // File should not be set due to read error, and error state should be set
            await (0, _react.waitFor)(()=>{
                // The error should be handled gracefully - userImageFile could be null or the original file
                // depending on how the error handling is implemented
                expect(result.current.userImageFile == null || result.current.userImageFile === mockFiles.userImage).toBe(true);
                // More importantly, there should be an error state
                expect(result.current.hasError).toBe(true);
            });
        });
    });
    describe('State Consistency', ()=>{
        it('should maintain state consistency throughout workflow', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBackwardCompatibility.usePageComponentState)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Track state changes
            const stateChanges = [];
            // Initial state
            stateChanges.push({
                step: 'initial',
                isCapturing: result.current.isCapturing,
                hasFiles: !!result.current.userImageFile && !!result.current.apparelImageFile,
                showPolaroid: result.current.showPolaroid,
                hasResult: !!result.current.generatedImage,
                hasError: result.current.hasError
            });
            testUtils.mockSuccessfulApiCall();
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            // Upload files
            (0, _react.act)(()=>{
                result.current.handleUserFileUpload(mockFiles.userImage);
                result.current.handleApparelFileUpload(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.userImageFile).toBe(mockFiles.userImage);
                expect(result.current.apparelImageFile).toBe(mockFiles.apparelImage);
            });
            stateChanges.push({
                step: 'files-uploaded',
                isCapturing: result.current.isCapturing,
                hasFiles: !!result.current.userImageFile && !!result.current.apparelImageFile,
                showPolaroid: result.current.showPolaroid,
                hasResult: !!result.current.generatedImage,
                hasError: result.current.hasError
            });
            // Start generation
            (0, _react.act)(()=>{
                result.current.handleCameraButtonClick();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.isCapturing).toBe(true);
                expect(result.current.showPolaroid).toBe(true);
            });
            stateChanges.push({
                step: 'generation-started',
                isCapturing: result.current.isCapturing,
                hasFiles: !!result.current.userImageFile && !!result.current.apparelImageFile,
                showPolaroid: result.current.showPolaroid,
                hasResult: !!result.current.generatedImage,
                hasError: result.current.hasError
            });
            // Wait for completion
            await (0, _react.waitFor)(()=>{
                expect(result.current.isCapturing).toBe(false);
                expect(result.current.generatedImage).toBeTruthy();
            }, {
                timeout: 10000
            });
            stateChanges.push({
                step: 'generation-complete',
                isCapturing: result.current.isCapturing,
                hasFiles: !!result.current.userImageFile && !!result.current.apparelImageFile,
                showPolaroid: result.current.showPolaroid,
                hasResult: !!result.current.generatedImage,
                hasError: result.current.hasError
            });
            // Verify state progression
            expect(stateChanges[0]).toEqual({
                step: 'initial',
                isCapturing: false,
                hasFiles: false,
                showPolaroid: false,
                hasResult: false,
                hasError: false
            });
            expect(stateChanges[1]).toEqual({
                step: 'files-uploaded',
                isCapturing: false,
                hasFiles: true,
                showPolaroid: false,
                hasResult: false,
                hasError: false
            });
            expect(stateChanges[2]).toEqual({
                step: 'generation-started',
                isCapturing: true,
                hasFiles: true,
                showPolaroid: true,
                hasResult: false,
                hasError: false
            });
            expect(stateChanges[3]).toEqual({
                step: 'generation-complete',
                isCapturing: false,
                hasFiles: true,
                showPolaroid: true,
                hasResult: true,
                hasError: false
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3AvX190ZXN0c19fL2JyaWRnZS1sYXllci91c2VQYWdlQ29tcG9uZW50U3RhdGUudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxuICovXG5pbXBvcnQgeyBhY3QsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IFxuICByZW5kZXJCcmlkZ2VIb29rLCBcbiAgTW9ja0FQSVV0aWxzLCBcbiAgV29ya2Zsb3dUZXN0VXRpbHMsXG4gIHNldHVwVGVzdEVudmlyb25tZW50IFxufSBmcm9tICcuLi90ZXN0LXV0aWxzL2luZGV4JztcbmltcG9ydCB7IHVzZVBhZ2VDb21wb25lbnRTdGF0ZSB9IGZyb20gJ0AvaG9va3MvdXNlQmFja3dhcmRDb21wYXRpYmlsaXR5JztcblxuLy8gTW9jayBidXNpbmVzcyBsYXllciBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnLi4vLi4vc3JjL2J1c2luZXNzLWxheWVyJywgKCkgPT4gKHtcbiAgdXNlVHJ5b25NdXRhdGlvbjogamVzdC5mbigoKSA9PiAoe1xuICAgIG11dGF0ZTogamVzdC5mbigpLFxuICAgIG11dGF0ZUFzeW5jOiBqZXN0LmZuKCksXG4gICAgZGF0YTogdW5kZWZpbmVkLFxuICAgIGVycm9yOiBudWxsLFxuICAgIGlzRXJyb3I6IGZhbHNlLFxuICAgIGlzU3VjY2VzczogZmFsc2UsXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICByZXNldDogamVzdC5mbigpLFxuICB9KSksXG4gIHVzZUltYWdlUHJvY2Vzc2luZzogamVzdC5mbigoKSA9PiAoe1xuICAgIHByb2Nlc3NJbWFnZTogamVzdC5mbigpLFxuICAgIHByb2Nlc3NCYXNpYzogamVzdC5mbigpLFxuICAgIGlzUHJvY2Vzc2luZzogZmFsc2UsXG4gICAgZXJyb3I6IG51bGwsXG4gIH0pKSxcbiAgdXNlSW1hZ2VWYWxpZGF0aW9uOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZGF0YTogeyBpc1ZhbGlkOiB0cnVlLCBlcnJvcnM6IFtdIH0sXG4gICAgZXJyb3I6IG51bGwsXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICBpc0Vycm9yOiBmYWxzZSxcbiAgfSkpLFxuICB1c2VJbWFnZU1ldGFkYXRhOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZGF0YTogeyBkaW1lbnNpb25zOiB7IHdpZHRoOiAxMDI0LCBoZWlnaHQ6IDc2OCB9LCBmb3JtYXQ6ICdpbWFnZS9qcGVnJywgc2l6ZTogMTAyNDAwIH0sXG4gICAgZXJyb3I6IG51bGwsXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICBpc0Vycm9yOiBmYWxzZSxcbiAgfSkpLFxuICB1c2VJbWFnZVRodW1ibmFpbDogamVzdC5mbigoKSA9PiAoe1xuICAgIGRhdGE6ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LG1vY2stdGh1bWJuYWlsJyxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIGlzRXJyb3I6IGZhbHNlLFxuICB9KSksXG4gIHByb2Nlc3NJbWFnZUZvclRyeW9uOiBqZXN0LmZuKCksXG4gIHJlc2l6ZUltYWdlVG8xMDI0eDE1MzY6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayB1dGlsaXR5IGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCcuLi8uLi9zcmMvdXRpbHMvaW1hZ2UnLCAoKSA9PiAoe1xuICBmaWxlVG9CYXNlNjQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxtb2NrLWRhdGEnKSxcbiAgY29tcHJlc3NCYXNlNjQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsY29tcHJlc3NlZC1tb2NrLWRhdGEnKSxcbiAgQ29tcHJlc3Npb25GYWlsZWRFcnJvcjogY2xhc3MgZXh0ZW5kcyBFcnJvciB7IGNvbnN0cnVjdG9yKG1zZzogc3RyaW5nKSB7IHN1cGVyKG1zZyk7IH0gfVxufSkpO1xuXG5qZXN0Lm1vY2soJy4uLy4uL3NyYy9saWIvZXJyb3JUb01lc3NhZ2UnLCAoKSA9PiAoe1xuICBlcnJvclRvTWVzc2FnZTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgnTW9jayBlcnJvciBtZXNzYWdlJylcbn0pKTtcblxuLy8gTW9jayBicm93c2VyIEFQSXMgZm9yIGltYWdlIHByb2Nlc3NpbmdcbmJlZm9yZUFsbCgoKSA9PiB7XG4gIC8vIE1vY2sgZmV0Y2ggZm9yIGNyZWF0ZUZpbGVGcm9tSW1hZ2VVcmxcbiAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PlxuICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBibG9iOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoWydtb2NrLWltYWdlLWRhdGEnXSwgeyB0eXBlOiAnaW1hZ2UvanBlZycgfSkpXG4gICAgfSlcbiAgKTtcblxuICAvLyBNb2NrIEltYWdlIGNvbnN0cnVjdG9yIGZvciByZXNpemVJbWFnZVxuICBnbG9iYWwuSW1hZ2UgPSBjbGFzcyBNb2NrSW1hZ2Uge1xuICAgIG9ubG9hZDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gICAgb25lcnJvcjogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gICAgd2lkdGggPSAxMDI0O1xuICAgIGhlaWdodCA9IDE1MzY7XG4gICAgY3Jvc3NPcmlnaW4gPSAnJztcbiAgICBcbiAgICBzZXQgc3JjKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5vbmxvYWQpIHRoaXMub25sb2FkKCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0gYXMgYW55O1xuXG4gIC8vIE1vY2sgQ2FudmFzIGFuZCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgZ2xvYmFsLkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0ID0gamVzdC5mbigoKSA9PiAoe1xuICAgIGRyYXdJbWFnZTogamVzdC5mbigpLFxuICB9KSkgYXMgYW55O1xuXG4gIGdsb2JhbC5IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUudG9EYXRhVVJMID0gamVzdC5mbigoKSA9PiAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxyZXNpemVkLWltYWdlLWRhdGEnKTtcblxuICAvLyBNb2NrIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgZm9yIGNhbnZhc1xuICBjb25zdCBvcmlnaW5hbENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50O1xuICBkb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gamVzdC5mbigodGFnTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHRhZ05hbWUgPT09ICdjYW52YXMnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICBnZXRDb250ZXh0OiAoKSA9PiAoe1xuICAgICAgICAgIGRyYXdJbWFnZTogamVzdC5mbigpLFxuICAgICAgICB9KSxcbiAgICAgICAgdG9EYXRhVVJMOiAoKSA9PiAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxyZXNpemVkLWltYWdlLWRhdGEnXG4gICAgICB9IGFzIGFueTtcbiAgICB9XG4gICAgcmV0dXJuIG9yaWdpbmFsQ3JlYXRlRWxlbWVudC5jYWxsKGRvY3VtZW50LCB0YWdOYW1lKTtcbiAgfSkgYXMgYW55O1xufSk7XG5cbi8vIFNldHVwIHRlc3QgZW52aXJvbm1lbnRcbnNldHVwVGVzdEVudmlyb25tZW50KCk7XG5cbmRlc2NyaWJlKCd1c2VQYWdlQ29tcG9uZW50U3RhdGUnLCAoKSA9PiB7XG4gIC8vIFNldHVwIE1TVyBzZXJ2ZXIgaG9va3MgYXQgZGVzY3JpYmUgbGV2ZWxcbiAgTW9ja0FQSVV0aWxzLnNldHVwU2VydmVyKCk7XG5cbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGNvcnJlY3QgZGVmYXVsdCBzdGF0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZVBhZ2VDb21wb25lbnRTdGF0ZSgpKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sZWZ0Q2FyZEltYWdlKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJpZ2h0Q2FyZEltYWdlKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNob3dQb2xhcm9pZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hcHBhcmVsSW1hZ2VGaWxlKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdlbmVyYXRlZEltYWdlKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBhbGwgcmVxdWlyZWQgaGFuZGxlciBmdW5jdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG5cbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuaGFuZGxlVXNlckZpbGVVcGxvYWQpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFwcGFyZWxGaWxlVXBsb2FkKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5oYW5kbGVMZWZ0Q2FyZEltYWdlVXBsb2FkKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5oYW5kbGVSaWdodENhcmRJbWFnZVVwbG9hZCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2FtZXJhQnV0dG9uQ2xpY2spLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5jdXJyZW50LmhhbmRsZUdlbmVyYXRpb25TdGFydCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmN1cnJlbnQuaGFuZGxlR2VuZXJhdGlvbkNvbXBsZXRlKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5oYW5kbGVDbG9zZVBvbGFyb2lkKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuY3VycmVudC5oYW5kbGVSZXRyeUdlbmVyYXRpb24pLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGaWxlIFVwbG9hZCBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1c2VyIGZpbGUgdXBsb2FkIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlUGFnZUNvbXBvbmVudFN0YXRlKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIC8vIE1vY2sgZmlsZSByZWFkaW5nXG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHVzZXItaW1hZ2UtZGF0YScpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVVc2VyRmlsZVVwbG9hZChtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnVzZXJJbWFnZUZpbGUpLnRvQmUobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFwcGFyZWwgZmlsZSB1cGxvYWQgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gTW9jayBmaWxlIHJlYWRpbmdcbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsYXBwYXJlbC1pbWFnZS1kYXRhJyk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFwcGFyZWxGaWxlVXBsb2FkKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYXBwYXJlbEltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMuYXBwYXJlbEltYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGVmdCBjYXJkIGltYWdlIHVwbG9hZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlUGFnZUNvbXBvbmVudFN0YXRlKCkpO1xuICAgICAgY29uc3QgbW9ja0ltYWdlVXJsID0gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsbGVmdC1jYXJkLWltYWdlJztcblxuICAgICAgLy8gTW9jayBmaWxlIHJlYWRpbmcgYW5kIFVSTCBjcmVhdGlvblxuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtbGVmdC1pbWFnZScpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5oYW5kbGVMZWZ0Q2FyZEltYWdlVXBsb2FkKG1vY2tJbWFnZVVybCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sZWZ0Q2FyZEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sZWZ0Q2FyZEltYWdlKS50b0NvbnRhaW4oJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmlnaHQgY2FyZCBpbWFnZSB1cGxvYWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZVBhZ2VDb21wb25lbnRTdGF0ZSgpKTtcbiAgICAgIGNvbnN0IG1vY2tJbWFnZVVybCA9ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHJpZ2h0LWNhcmQtaW1hZ2UnO1xuXG4gICAgICAvLyBNb2NrIGZpbGUgcmVhZGluZyBhbmQgVVJMIGNyZWF0aW9uXG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1yaWdodC1pbWFnZScpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5oYW5kbGVSaWdodENhcmRJbWFnZVVwbG9hZChtb2NrSW1hZ2VVcmwpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucmlnaHRDYXJkSW1hZ2UpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnJpZ2h0Q2FyZEltYWdlKS50b0NvbnRhaW4oJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVHJ5LW9uIEdlbmVyYXRpb24gV29ya2Zsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxldGUgdHJ5LW9uIHdvcmtmbG93IHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMsIHdhaXRGb3JXb3JrZmxvdyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gU2V0dXAgc3VjY2Vzc2Z1bCBBUEkgcmVzcG9uc2VcbiAgICAgIHRlc3RVdGlscy5tb2NrU3VjY2Vzc2Z1bEFwaUNhbGwoe1xuICAgICAgICBpbWdfZ2VuZXJhdGVkOiAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxnZW5lcmF0ZWQtaW1hZ2UtZGF0YSdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGZpbGUgcmVhZGluZ1xuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtaW1hZ2UnKTtcblxuICAgICAgLy8gVXBsb2FkIGZpbGVzXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVVc2VyRmlsZVVwbG9hZChtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQXBwYXJlbEZpbGVVcGxvYWQobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgZmlsZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFwcGFyZWxJbWFnZUZpbGUpLnRvQmUobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU3RhcnQgZ2VuZXJhdGlvblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2FtZXJhQnV0dG9uQ2xpY2soKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciBjYXB0dXJpbmcgc3RhdGVcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNDYXB0dXJpbmcpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zaG93UG9sYXJvaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgZ2VuZXJhdGlvbiBjb21wbGV0aW9uXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdlbmVyYXRlZEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gU2V0dXAgQVBJIGVycm9yIHJlc3BvbnNlXG4gICAgICB0ZXN0VXRpbHMubW9ja0FwaUVycm9yKCdTZXJ2ZXIgZXJyb3InLCA1MDApO1xuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtaW1hZ2UnKTtcblxuICAgICAgLy8gVXBsb2FkIGZpbGVzXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVVc2VyRmlsZVVwbG9hZChtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQXBwYXJlbEZpbGVVcGxvYWQobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC51c2VySW1hZ2VGaWxlKS50b0JlKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYXBwYXJlbEltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMuYXBwYXJlbEltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTdGFydCBnZW5lcmF0aW9uXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDYW1lcmFCdXR0b25DbGljaygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGVycm9yIHN0YXRlXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaXNDYXB0dXJpbmcpLnRvQmUoZmFsc2UpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAxMDAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJldHJ5IGdlbmVyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZVBhZ2VDb21wb25lbnRTdGF0ZSgpKTtcbiAgICAgIGNvbnN0IG1vY2tGaWxlcyA9IFdvcmtmbG93VGVzdFV0aWxzLmNyZWF0ZU1vY2tGaWxlcygpO1xuXG4gICAgICAvLyBGaXJzdCBhdHRlbXB0IGZhaWxzXG4gICAgICB0ZXN0VXRpbHMubW9ja0FwaUVycm9yKCdTZXJ2ZXIgZXJyb3InLCA1MDApO1xuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtaW1hZ2UnKTtcblxuICAgICAgLy8gVXBsb2FkIGZpbGVzIGFuZCBnZW5lcmF0ZSAod2lsbCBmYWlsKVxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlVXNlckZpbGVVcGxvYWQobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFwcGFyZWxGaWxlVXBsb2FkKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFwcGFyZWxJbWFnZUZpbGUpLnRvQmUobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2FtZXJhQnV0dG9uQ2xpY2soKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNldHVwIHN1Y2Nlc3NmdWwgcmV0cnlcbiAgICAgIHRlc3RVdGlscy5tb2NrU3VjY2Vzc2Z1bEFwaUNhbGwoe1xuICAgICAgICBpbWdfZ2VuZXJhdGVkOiAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxyZXRyeS1nZW5lcmF0ZWQtaW1hZ2UnXG4gICAgICB9KTtcblxuICAgICAgLy8gUmV0cnkgZ2VuZXJhdGlvblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlUmV0cnlHZW5lcmF0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNFcnJvcikudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZW5lcmF0ZWRJbWFnZSkudG9CZVRydXRoeSgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAxMDAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01vZGFsIFN0YXRlIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcG9sYXJvaWQgY2xvc2UgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG5cbiAgICAgIC8vIFNldHVwIHN1Y2Nlc3NmdWwgZ2VuZXJhdGlvbiBmaXJzdFxuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG4gICAgICB0ZXN0VXRpbHMubW9ja1N1Y2Nlc3NmdWxBcGlDYWxsKCk7XG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuXG4gICAgICAvLyBDb21wbGV0ZSB3b3JrZmxvd1xuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlVXNlckZpbGVVcGxvYWQobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFwcGFyZWxGaWxlVXBsb2FkKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFwcGFyZWxJbWFnZUZpbGUpLnRvQmUobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2FtZXJhQnV0dG9uQ2xpY2soKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNob3dQb2xhcm9pZCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbG9zZSBwb2xhcm9pZFxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2xvc2VQb2xhcm9pZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd1BvbGFyb2lkKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZ2VuZXJhdGlvbiBjYWxsYmFja3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlUGFnZUNvbXBvbmVudFN0YXRlKCkpO1xuXG4gICAgICAvLyBUZXN0IGdlbmVyYXRpb24gc3RhcnQgY2FsbGJhY2tcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUdlbmVyYXRpb25TdGFydCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRlc3QgZ2VuZXJhdGlvbiBjb21wbGV0ZSBjYWxsYmFja1xuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlR2VuZXJhdGlvbkNvbXBsZXRlKCdtb2NrLWltYWdlLXVybCcpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoZXNlIGFyZSBsZWdhY3kgY2FsbGJhY2tzIHRoYXQgc2hvdWxkIG5vdCB0aHJvdyBlcnJvcnNcbiAgICAgIGV4cGVjdCh0cnVlKS50b0JlKHRydWUpOyAvLyBUZXN0IHBhc3NlcyBpZiBubyBlcnJvcnMgdGhyb3duXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBTY2VuYXJpb3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZmlsZSB1cGxvYWQgd2l0aG91dCBib3RoIGltYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlUGFnZUNvbXBvbmVudFN0YXRlKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIC8vIFVwbG9hZCBvbmx5IHVzZXIgaW1hZ2VcbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQscHJvY2Vzc2VkLWltYWdlJyk7XG4gICAgICBcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZVVzZXJGaWxlVXBsb2FkKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUcnkgdG8gZ2VuZXJhdGUgd2l0aG91dCBhcHBhcmVsIGltYWdlXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVDYW1lcmFCdXR0b25DbGljaygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNob3VsZCBub3Qgc3RhcnQgY2FwdHVyaW5nIHdpdGhvdXQgYm90aCBpbWFnZXNcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc0NhcHR1cmluZykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd1BvbGFyb2lkKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFQSSB0aW1lb3V0IGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZVBhZ2VDb21wb25lbnRTdGF0ZSgpKTtcbiAgICAgIGNvbnN0IG1vY2tGaWxlcyA9IFdvcmtmbG93VGVzdFV0aWxzLmNyZWF0ZU1vY2tGaWxlcygpO1xuXG4gICAgICAvLyBTZXR1cCB0aW1lb3V0XG4gICAgICB0ZXN0VXRpbHMubW9ja0FwaVRpbWVvdXQoMTAwMCk7XG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuXG4gICAgICAvLyBVcGxvYWQgZmlsZXNcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZVVzZXJGaWxlVXBsb2FkKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVBcHBhcmVsRmlsZVVwbG9hZChtb2NrRmlsZXMuYXBwYXJlbEltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnVzZXJJbWFnZUZpbGUpLnRvQmUobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hcHBhcmVsSW1hZ2VGaWxlKS50b0JlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0YXJ0IGdlbmVyYXRpb25cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUNhbWVyYUJ1dHRvbkNsaWNrKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgdGltZW91dCBlcnJvclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNFcnJvcikudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgIH0sIHsgdGltZW91dDogMTUwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBmaWxlIHJlYWRpbmcgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gTW9jayBmaWxlIHJlYWQgZXJyb3JcbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWRFcnJvcignRmlsZSByZWFkIGZhaWxlZCcpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5oYW5kbGVVc2VyRmlsZVVwbG9hZChtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGaWxlIHNob3VsZCBub3QgYmUgc2V0IGR1ZSB0byByZWFkIGVycm9yLCBhbmQgZXJyb3Igc3RhdGUgc2hvdWxkIGJlIHNldFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIC8vIFRoZSBlcnJvciBzaG91bGQgYmUgaGFuZGxlZCBncmFjZWZ1bGx5IC0gdXNlckltYWdlRmlsZSBjb3VsZCBiZSBudWxsIG9yIHRoZSBvcmlnaW5hbCBmaWxlXG4gICAgICAgIC8vIGRlcGVuZGluZyBvbiBob3cgdGhlIGVycm9yIGhhbmRsaW5nIGlzIGltcGxlbWVudGVkXG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC51c2VySW1hZ2VGaWxlID09IG51bGwgfHwgcmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSA9PT0gbW9ja0ZpbGVzLnVzZXJJbWFnZSkudG9CZSh0cnVlKTtcbiAgICAgICAgLy8gTW9yZSBpbXBvcnRhbnRseSwgdGhlcmUgc2hvdWxkIGJlIGFuIGVycm9yIHN0YXRlXG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYXNFcnJvcikudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3RhdGUgQ29uc2lzdGVuY3knLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBzdGF0ZSBjb25zaXN0ZW5jeSB0aHJvdWdob3V0IHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VQYWdlQ29tcG9uZW50U3RhdGUoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gVHJhY2sgc3RhdGUgY2hhbmdlc1xuICAgICAgY29uc3Qgc3RhdGVDaGFuZ2VzOiBhbnlbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsIHN0YXRlXG4gICAgICBzdGF0ZUNoYW5nZXMucHVzaCh7XG4gICAgICAgIHN0ZXA6ICdpbml0aWFsJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nLFxuICAgICAgICBoYXNGaWxlczogISFyZXN1bHQuY3VycmVudC51c2VySW1hZ2VGaWxlICYmICEhcmVzdWx0LmN1cnJlbnQuYXBwYXJlbEltYWdlRmlsZSxcbiAgICAgICAgc2hvd1BvbGFyb2lkOiByZXN1bHQuY3VycmVudC5zaG93UG9sYXJvaWQsXG4gICAgICAgIGhhc1Jlc3VsdDogISFyZXN1bHQuY3VycmVudC5nZW5lcmF0ZWRJbWFnZSxcbiAgICAgICAgaGFzRXJyb3I6IHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yLFxuICAgICAgfSk7XG5cbiAgICAgIHRlc3RVdGlscy5tb2NrU3VjY2Vzc2Z1bEFwaUNhbGwoKTtcbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQscHJvY2Vzc2VkLWltYWdlJyk7XG5cbiAgICAgIC8vIFVwbG9hZCBmaWxlc1xuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlVXNlckZpbGVVcGxvYWQobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZUFwcGFyZWxGaWxlVXBsb2FkKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSkudG9CZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmFwcGFyZWxJbWFnZUZpbGUpLnRvQmUobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgc3RhdGVDaGFuZ2VzLnB1c2goe1xuICAgICAgICBzdGVwOiAnZmlsZXMtdXBsb2FkZWQnLFxuICAgICAgICBpc0NhcHR1cmluZzogcmVzdWx0LmN1cnJlbnQuaXNDYXB0dXJpbmcsXG4gICAgICAgIGhhc0ZpbGVzOiAhIXJlc3VsdC5jdXJyZW50LnVzZXJJbWFnZUZpbGUgJiYgISFyZXN1bHQuY3VycmVudC5hcHBhcmVsSW1hZ2VGaWxlLFxuICAgICAgICBzaG93UG9sYXJvaWQ6IHJlc3VsdC5jdXJyZW50LnNob3dQb2xhcm9pZCxcbiAgICAgICAgaGFzUmVzdWx0OiAhIXJlc3VsdC5jdXJyZW50LmdlbmVyYXRlZEltYWdlLFxuICAgICAgICBoYXNFcnJvcjogcmVzdWx0LmN1cnJlbnQuaGFzRXJyb3IsXG4gICAgICB9KTtcblxuICAgICAgLy8gU3RhcnQgZ2VuZXJhdGlvblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ2FtZXJhQnV0dG9uQ2xpY2soKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc2hvd1BvbGFyb2lkKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHN0YXRlQ2hhbmdlcy5wdXNoKHtcbiAgICAgICAgc3RlcDogJ2dlbmVyYXRpb24tc3RhcnRlZCcsXG4gICAgICAgIGlzQ2FwdHVyaW5nOiByZXN1bHQuY3VycmVudC5pc0NhcHR1cmluZyxcbiAgICAgICAgaGFzRmlsZXM6ICEhcmVzdWx0LmN1cnJlbnQudXNlckltYWdlRmlsZSAmJiAhIXJlc3VsdC5jdXJyZW50LmFwcGFyZWxJbWFnZUZpbGUsXG4gICAgICAgIHNob3dQb2xhcm9pZDogcmVzdWx0LmN1cnJlbnQuc2hvd1BvbGFyb2lkLFxuICAgICAgICBoYXNSZXN1bHQ6ICEhcmVzdWx0LmN1cnJlbnQuZ2VuZXJhdGVkSW1hZ2UsXG4gICAgICAgIGhhc0Vycm9yOiByZXN1bHQuY3VycmVudC5oYXNFcnJvcixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciBjb21wbGV0aW9uXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdlbmVyYXRlZEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xuXG4gICAgICBzdGF0ZUNoYW5nZXMucHVzaCh7XG4gICAgICAgIHN0ZXA6ICdnZW5lcmF0aW9uLWNvbXBsZXRlJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHJlc3VsdC5jdXJyZW50LmlzQ2FwdHVyaW5nLFxuICAgICAgICBoYXNGaWxlczogISFyZXN1bHQuY3VycmVudC51c2VySW1hZ2VGaWxlICYmICEhcmVzdWx0LmN1cnJlbnQuYXBwYXJlbEltYWdlRmlsZSxcbiAgICAgICAgc2hvd1BvbGFyb2lkOiByZXN1bHQuY3VycmVudC5zaG93UG9sYXJvaWQsXG4gICAgICAgIGhhc1Jlc3VsdDogISFyZXN1bHQuY3VycmVudC5nZW5lcmF0ZWRJbWFnZSxcbiAgICAgICAgaGFzRXJyb3I6IHJlc3VsdC5jdXJyZW50Lmhhc0Vycm9yLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmeSBzdGF0ZSBwcm9ncmVzc2lvblxuICAgICAgZXhwZWN0KHN0YXRlQ2hhbmdlc1swXSkudG9FcXVhbCh7XG4gICAgICAgIHN0ZXA6ICdpbml0aWFsJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlLFxuICAgICAgICBoYXNGaWxlczogZmFsc2UsXG4gICAgICAgIHNob3dQb2xhcm9pZDogZmFsc2UsXG4gICAgICAgIGhhc1Jlc3VsdDogZmFsc2UsXG4gICAgICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3RhdGVDaGFuZ2VzWzFdKS50b0VxdWFsKHtcbiAgICAgICAgc3RlcDogJ2ZpbGVzLXVwbG9hZGVkJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IGZhbHNlLFxuICAgICAgICBoYXNGaWxlczogdHJ1ZSxcbiAgICAgICAgc2hvd1BvbGFyb2lkOiBmYWxzZSxcbiAgICAgICAgaGFzUmVzdWx0OiBmYWxzZSxcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdGF0ZUNoYW5nZXNbMl0pLnRvRXF1YWwoe1xuICAgICAgICBzdGVwOiAnZ2VuZXJhdGlvbi1zdGFydGVkJyxcbiAgICAgICAgaXNDYXB0dXJpbmc6IHRydWUsXG4gICAgICAgIGhhc0ZpbGVzOiB0cnVlLFxuICAgICAgICBzaG93UG9sYXJvaWQ6IHRydWUsXG4gICAgICAgIGhhc1Jlc3VsdDogZmFsc2UsXG4gICAgICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3RhdGVDaGFuZ2VzWzNdKS50b0VxdWFsKHtcbiAgICAgICAgc3RlcDogJ2dlbmVyYXRpb24tY29tcGxldGUnLFxuICAgICAgICBpc0NhcHR1cmluZzogZmFsc2UsXG4gICAgICAgIGhhc0ZpbGVzOiB0cnVlLFxuICAgICAgICBzaG93UG9sYXJvaWQ6IHRydWUsXG4gICAgICAgIGhhc1Jlc3VsdDogdHJ1ZSxcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlVHJ5b25NdXRhdGlvbiIsImZuIiwibXV0YXRlIiwibXV0YXRlQXN5bmMiLCJkYXRhIiwidW5kZWZpbmVkIiwiZXJyb3IiLCJpc0Vycm9yIiwiaXNTdWNjZXNzIiwiaXNMb2FkaW5nIiwicmVzZXQiLCJ1c2VJbWFnZVByb2Nlc3NpbmciLCJwcm9jZXNzSW1hZ2UiLCJwcm9jZXNzQmFzaWMiLCJpc1Byb2Nlc3NpbmciLCJ1c2VJbWFnZVZhbGlkYXRpb24iLCJpc1ZhbGlkIiwiZXJyb3JzIiwidXNlSW1hZ2VNZXRhZGF0YSIsImRpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsImZvcm1hdCIsInNpemUiLCJ1c2VJbWFnZVRodW1ibmFpbCIsInByb2Nlc3NJbWFnZUZvclRyeW9uIiwicmVzaXplSW1hZ2VUbzEwMjR4MTUzNiIsImZpbGVUb0Jhc2U2NCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiY29tcHJlc3NCYXNlNjQiLCJtb2NrUmV0dXJuVmFsdWUiLCJDb21wcmVzc2lvbkZhaWxlZEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1zZyIsImVycm9yVG9NZXNzYWdlIiwiYmVmb3JlQWxsIiwiZ2xvYmFsIiwiZmV0Y2giLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsImJsb2IiLCJCbG9iIiwidHlwZSIsIkltYWdlIiwiTW9ja0ltYWdlIiwic3JjIiwidmFsdWUiLCJzZXRUaW1lb3V0Iiwib25sb2FkIiwib25lcnJvciIsImNyb3NzT3JpZ2luIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJwcm90b3R5cGUiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwib3JpZ2luYWxDcmVhdGVFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidGFnTmFtZSIsImNhbGwiLCJzZXR1cFRlc3RFbnZpcm9ubWVudCIsImRlc2NyaWJlIiwiTW9ja0FQSVV0aWxzIiwic2V0dXBTZXJ2ZXIiLCJpdCIsInJlc3VsdCIsInJlbmRlckJyaWRnZUhvb2siLCJ1c2VQYWdlQ29tcG9uZW50U3RhdGUiLCJleHBlY3QiLCJjdXJyZW50IiwiaXNDYXB0dXJpbmciLCJ0b0JlIiwibGVmdENhcmRJbWFnZSIsInRvQmVOdWxsIiwicmlnaHRDYXJkSW1hZ2UiLCJzaG93UG9sYXJvaWQiLCJ1c2VySW1hZ2VGaWxlIiwiYXBwYXJlbEltYWdlRmlsZSIsImdlbmVyYXRlZEltYWdlIiwiaGFzRXJyb3IiLCJoYW5kbGVVc2VyRmlsZVVwbG9hZCIsImhhbmRsZUFwcGFyZWxGaWxlVXBsb2FkIiwiaGFuZGxlTGVmdENhcmRJbWFnZVVwbG9hZCIsImhhbmRsZVJpZ2h0Q2FyZEltYWdlVXBsb2FkIiwiaGFuZGxlQ2FtZXJhQnV0dG9uQ2xpY2siLCJoYW5kbGVHZW5lcmF0aW9uU3RhcnQiLCJoYW5kbGVHZW5lcmF0aW9uQ29tcGxldGUiLCJoYW5kbGVDbG9zZVBvbGFyb2lkIiwiaGFuZGxlUmV0cnlHZW5lcmF0aW9uIiwidGVzdFV0aWxzIiwibW9ja0ZpbGVzIiwiV29ya2Zsb3dUZXN0VXRpbHMiLCJjcmVhdGVNb2NrRmlsZXMiLCJtb2NrRmlsZVJlYWQiLCJhY3QiLCJ1c2VySW1hZ2UiLCJ3YWl0Rm9yIiwiYXBwYXJlbEltYWdlIiwibW9ja0ltYWdlVXJsIiwidG9CZVRydXRoeSIsInRvQ29udGFpbiIsIndhaXRGb3JXb3JrZmxvdyIsIm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCIsImltZ19nZW5lcmF0ZWQiLCJ0aW1lb3V0IiwibW9ja0FwaUVycm9yIiwibW9ja0FwaVRpbWVvdXQiLCJtb2NrRmlsZVJlYWRFcnJvciIsInN0YXRlQ2hhbmdlcyIsInB1c2giLCJzdGVwIiwiaGFzRmlsZXMiLCJoYXNSZXN1bHQiLCJ0b0VxdWFsIl0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQztBQVVELG1DQUFtQztBQUNuQ0EsS0FBS0MsSUFBSSxDQUFDLDRCQUE0QixJQUFPLENBQUE7UUFDM0NDLGtCQUFrQkYsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQkFDL0JDLFFBQVFKLEtBQUtHLEVBQUU7Z0JBQ2ZFLGFBQWFMLEtBQUtHLEVBQUU7Z0JBQ3BCRyxNQUFNQztnQkFDTkMsT0FBTztnQkFDUEMsU0FBUztnQkFDVEMsV0FBVztnQkFDWEMsV0FBVztnQkFDWEMsT0FBT1osS0FBS0csRUFBRTtZQUNoQixDQUFBO1FBQ0FVLG9CQUFvQmIsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQkFDakNXLGNBQWNkLEtBQUtHLEVBQUU7Z0JBQ3JCWSxjQUFjZixLQUFLRyxFQUFFO2dCQUNyQmEsY0FBYztnQkFDZFIsT0FBTztZQUNULENBQUE7UUFDQVMsb0JBQW9CakIsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQkFDakNHLE1BQU07b0JBQUVZLFNBQVM7b0JBQU1DLFFBQVEsRUFBRTtnQkFBQztnQkFDbENYLE9BQU87Z0JBQ1BHLFdBQVc7Z0JBQ1hGLFNBQVM7WUFDWCxDQUFBO1FBQ0FXLGtCQUFrQnBCLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0JBQy9CRyxNQUFNO29CQUFFZSxZQUFZO3dCQUFFQyxPQUFPO3dCQUFNQyxRQUFRO29CQUFJO29CQUFHQyxRQUFRO29CQUFjQyxNQUFNO2dCQUFPO2dCQUNyRmpCLE9BQU87Z0JBQ1BHLFdBQVc7Z0JBQ1hGLFNBQVM7WUFDWCxDQUFBO1FBQ0FpQixtQkFBbUIxQixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUNoQ0csTUFBTTtnQkFDTkUsT0FBTztnQkFDUEcsV0FBVztnQkFDWEYsU0FBUztZQUNYLENBQUE7UUFDQWtCLHNCQUFzQjNCLEtBQUtHLEVBQUU7UUFDN0J5Qix3QkFBd0I1QixLQUFLRyxFQUFFO0lBQ2pDLENBQUE7QUFFQSw0QkFBNEI7QUFDNUJILEtBQUtDLElBQUksQ0FBQyx5QkFBeUIsSUFBTyxDQUFBO1FBQ3hDNEIsY0FBYzdCLEtBQUtHLEVBQUUsR0FBRzJCLGlCQUFpQixDQUFDO1FBQzFDQyxnQkFBZ0IvQixLQUFLRyxFQUFFLEdBQUc2QixlQUFlLENBQUM7UUFDMUNDLHdCQUF3QixjQUFjQztZQUFRQyxZQUFZQyxHQUFXLENBQUU7Z0JBQUUsS0FBSyxDQUFDQTtZQUFNO1FBQUU7SUFDekYsQ0FBQTtBQUVBcEMsS0FBS0MsSUFBSSxDQUFDLGdDQUFnQyxJQUFPLENBQUE7UUFDL0NvQyxnQkFBZ0JyQyxLQUFLRyxFQUFFLEdBQUc2QixlQUFlLENBQUM7SUFDNUMsQ0FBQTs7Ozt1QkExRDZCO3VCQU10QjswQ0FDK0I7QUFxRHRDLHlDQUF5QztBQUN6Q00sVUFBVTtJQUNSLHdDQUF3QztJQUN4Q0MsT0FBT0MsS0FBSyxHQUFHeEMsS0FBS0csRUFBRSxHQUFHc0Msa0JBQWtCLENBQUMsSUFDMUNDLFFBQVFDLE9BQU8sQ0FBQztZQUNkQyxNQUFNLElBQU1GLFFBQVFDLE9BQU8sQ0FBQyxJQUFJRSxLQUFLO29CQUFDO2lCQUFrQixFQUFFO29CQUFFQyxNQUFNO2dCQUFhO1FBQ2pGO0lBR0YseUNBQXlDO0lBQ3pDUCxPQUFPUSxLQUFLLEdBQUcsTUFBTUM7UUFPbkIsSUFBSUMsSUFBSUMsS0FBYSxFQUFFO1lBQ3JCQyxXQUFXO2dCQUNULElBQUksSUFBSSxDQUFDQyxNQUFNLEVBQUUsSUFBSSxDQUFDQSxNQUFNO1lBQzlCLEdBQUc7UUFDTDs7aUJBVkFBLFNBQThCO2lCQUM5QkMsVUFBK0I7aUJBQy9CL0IsUUFBUTtpQkFDUkMsU0FBUztpQkFDVCtCLGNBQWM7O0lBT2hCO0lBRUEsMkNBQTJDO0lBQzNDZixPQUFPZ0IsaUJBQWlCLENBQUNDLFNBQVMsQ0FBQ0MsVUFBVSxHQUFHekQsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtZQUM3RHVELFdBQVcxRCxLQUFLRyxFQUFFO1FBQ3BCLENBQUE7SUFFQW9DLE9BQU9nQixpQkFBaUIsQ0FBQ0MsU0FBUyxDQUFDRyxTQUFTLEdBQUczRCxLQUFLRyxFQUFFLENBQUMsSUFBTTtJQUU3RCx5Q0FBeUM7SUFDekMsTUFBTXlELHdCQUF3QkMsU0FBU0MsYUFBYTtJQUNwREQsU0FBU0MsYUFBYSxHQUFHOUQsS0FBS0csRUFBRSxDQUFDLENBQUM0RDtRQUNoQyxJQUFJQSxZQUFZLFVBQVU7WUFDeEIsT0FBTztnQkFDTHpDLE9BQU87Z0JBQ1BDLFFBQVE7Z0JBQ1JrQyxZQUFZLElBQU8sQ0FBQTt3QkFDakJDLFdBQVcxRCxLQUFLRyxFQUFFO29CQUNwQixDQUFBO2dCQUNBd0QsV0FBVyxJQUFNO1lBQ25CO1FBQ0Y7UUFDQSxPQUFPQyxzQkFBc0JJLElBQUksQ0FBQ0gsVUFBVUU7SUFDOUM7QUFDRjtBQUVBLHlCQUF5QjtBQUN6QkUsSUFBQUEsMkJBQW9CO0FBRXBCQyxTQUFTLHlCQUF5QjtJQUNoQywyQ0FBMkM7SUFDM0NDLG1CQUFZLENBQUNDLFdBQVc7SUFFeEJGLFNBQVMsa0JBQWtCO1FBQ3pCRyxHQUFHLGdEQUFnRDtZQUNqRCxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSwrQ0FBcUI7WUFFL0RDLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUM7WUFDeENILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0csYUFBYSxFQUFFQyxRQUFRO1lBQzdDTCxPQUFPSCxPQUFPSSxPQUFPLENBQUNLLGNBQWMsRUFBRUQsUUFBUTtZQUM5Q0wsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTSxZQUFZLEVBQUVKLElBQUksQ0FBQztZQUN6Q0gsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTyxhQUFhLEVBQUVILFFBQVE7WUFDN0NMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1EsZ0JBQWdCLEVBQUVKLFFBQVE7WUFDaERMLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1MsY0FBYyxFQUFFTCxRQUFRO1lBQzlDTCxPQUFPSCxPQUFPSSxPQUFPLENBQUNVLFFBQVEsRUFBRVIsSUFBSSxDQUFDO1FBQ3ZDO1FBRUFQLEdBQUcsaURBQWlEO1lBQ2xELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLCtDQUFxQjtZQUUvREMsT0FBTyxPQUFPSCxPQUFPSSxPQUFPLENBQUNXLG9CQUFvQixFQUFFVCxJQUFJLENBQUM7WUFDeERILE9BQU8sT0FBT0gsT0FBT0ksT0FBTyxDQUFDWSx1QkFBdUIsRUFBRVYsSUFBSSxDQUFDO1lBQzNESCxPQUFPLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ2EseUJBQXlCLEVBQUVYLElBQUksQ0FBQztZQUM3REgsT0FBTyxPQUFPSCxPQUFPSSxPQUFPLENBQUNjLDBCQUEwQixFQUFFWixJQUFJLENBQUM7WUFDOURILE9BQU8sT0FBT0gsT0FBT0ksT0FBTyxDQUFDZSx1QkFBdUIsRUFBRWIsSUFBSSxDQUFDO1lBQzNESCxPQUFPLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ2dCLHFCQUFxQixFQUFFZCxJQUFJLENBQUM7WUFDekRILE9BQU8sT0FBT0gsT0FBT0ksT0FBTyxDQUFDaUIsd0JBQXdCLEVBQUVmLElBQUksQ0FBQztZQUM1REgsT0FBTyxPQUFPSCxPQUFPSSxPQUFPLENBQUNrQixtQkFBbUIsRUFBRWhCLElBQUksQ0FBQztZQUN2REgsT0FBTyxPQUFPSCxPQUFPSSxPQUFPLENBQUNtQixxQkFBcUIsRUFBRWpCLElBQUksQ0FBQztRQUMzRDtJQUNGO0lBRUFWLFNBQVMsd0JBQXdCO1FBQy9CRyxHQUFHLDRDQUE0QztZQUM3QyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdCLFNBQVMsRUFBRSxHQUFHdkIsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsK0NBQXFCO1lBQzFFLE1BQU11QixZQUFZQyx3QkFBaUIsQ0FBQ0MsZUFBZTtZQUVuRCxvQkFBb0I7WUFDcEJILFVBQVVJLFlBQVksQ0FBQztZQUV2QkMsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDVyxvQkFBb0IsQ0FBQ1UsVUFBVUssU0FBUztZQUN6RDtZQUVBLE1BQU1DLElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sYUFBYSxFQUFFTCxJQUFJLENBQUNtQixVQUFVSyxTQUFTO1lBQy9EO1FBQ0Y7UUFFQS9CLEdBQUcsK0NBQStDO1lBQ2hELE1BQU0sRUFBRUMsTUFBTSxFQUFFd0IsU0FBUyxFQUFFLEdBQUd2QixJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSwrQ0FBcUI7WUFDMUUsTUFBTXVCLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELG9CQUFvQjtZQUNwQkgsVUFBVUksWUFBWSxDQUFDO1lBRXZCQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNZLHVCQUF1QixDQUFDUyxVQUFVTyxZQUFZO1lBQy9EO1lBRUEsTUFBTUQsSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDUSxnQkFBZ0IsRUFBRU4sSUFBSSxDQUFDbUIsVUFBVU8sWUFBWTtZQUNyRTtRQUNGO1FBRUFqQyxHQUFHLHdDQUF3QztZQUN6QyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdCLFNBQVMsRUFBRSxHQUFHdkIsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsK0NBQXFCO1lBQzFFLE1BQU0rQixlQUFlO1lBRXJCLHFDQUFxQztZQUNyQ1QsVUFBVUksWUFBWSxDQUFDO1lBRXZCLE1BQU1DLElBQUFBLFVBQUcsRUFBQztnQkFDUixNQUFNN0IsT0FBT0ksT0FBTyxDQUFDYSx5QkFBeUIsQ0FBQ2dCO1lBQ2pEO1lBRUEsTUFBTUYsSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDRyxhQUFhLEVBQUUyQixVQUFVO2dCQUMvQy9CLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0csYUFBYSxFQUFFNEIsU0FBUyxDQUFDO1lBQ2pEO1FBQ0Y7UUFFQXBDLEdBQUcseUNBQXlDO1lBQzFDLE1BQU0sRUFBRUMsTUFBTSxFQUFFd0IsU0FBUyxFQUFFLEdBQUd2QixJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSwrQ0FBcUI7WUFDMUUsTUFBTStCLGVBQWU7WUFFckIscUNBQXFDO1lBQ3JDVCxVQUFVSSxZQUFZLENBQUM7WUFFdkIsTUFBTUMsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QixPQUFPSSxPQUFPLENBQUNjLDBCQUEwQixDQUFDZTtZQUNsRDtZQUVBLE1BQU1GLElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0ssY0FBYyxFQUFFeUIsVUFBVTtnQkFDaEQvQixPQUFPSCxPQUFPSSxPQUFPLENBQUNLLGNBQWMsRUFBRTBCLFNBQVMsQ0FBQztZQUNsRDtRQUNGO0lBQ0Y7SUFFQXZDLFNBQVMsOEJBQThCO1FBQ3JDRyxHQUFHLHVEQUF1RDtZQUN4RCxNQUFNLEVBQUVDLE1BQU0sRUFBRXdCLFNBQVMsRUFBRVksZUFBZSxFQUFFLEdBQUduQyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSwrQ0FBcUI7WUFDM0YsTUFBTXVCLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELGdDQUFnQztZQUNoQ0gsVUFBVWEscUJBQXFCLENBQUM7Z0JBQzlCQyxlQUFlO1lBQ2pCO1lBRUEsb0JBQW9CO1lBQ3BCZCxVQUFVSSxZQUFZLENBQUM7WUFFdkIsZUFBZTtZQUNmQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNXLG9CQUFvQixDQUFDVSxVQUFVSyxTQUFTO2dCQUN2RDlCLE9BQU9JLE9BQU8sQ0FBQ1ksdUJBQXVCLENBQUNTLFVBQVVPLFlBQVk7WUFDL0Q7WUFFQSxnQ0FBZ0M7WUFDaEMsTUFBTUQsSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTyxhQUFhLEVBQUVMLElBQUksQ0FBQ21CLFVBQVVLLFNBQVM7Z0JBQzdEM0IsT0FBT0gsT0FBT0ksT0FBTyxDQUFDUSxnQkFBZ0IsRUFBRU4sSUFBSSxDQUFDbUIsVUFBVU8sWUFBWTtZQUNyRTtZQUVBLG1CQUFtQjtZQUNuQkgsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDZSx1QkFBdUI7WUFDeEM7WUFFQSwyQkFBMkI7WUFDM0IsTUFBTVksSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxXQUFXLEVBQUVDLElBQUksQ0FBQztnQkFDeENILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ00sWUFBWSxFQUFFSixJQUFJLENBQUM7WUFDM0M7WUFFQSxpQ0FBaUM7WUFDakMsTUFBTXlCLElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUM7Z0JBQ3hDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNTLGNBQWMsRUFBRXFCLFVBQVU7WUFDbEQsR0FBRztnQkFBRUssU0FBUztZQUFNO1FBQ3RCO1FBRUF4QyxHQUFHLHVDQUF1QztZQUN4QyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdCLFNBQVMsRUFBRSxHQUFHdkIsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsK0NBQXFCO1lBQzFFLE1BQU11QixZQUFZQyx3QkFBaUIsQ0FBQ0MsZUFBZTtZQUVuRCwyQkFBMkI7WUFDM0JILFVBQVVnQixZQUFZLENBQUMsZ0JBQWdCO1lBQ3ZDaEIsVUFBVUksWUFBWSxDQUFDO1lBRXZCLGVBQWU7WUFDZkMsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDVyxvQkFBb0IsQ0FBQ1UsVUFBVUssU0FBUztnQkFDdkQ5QixPQUFPSSxPQUFPLENBQUNZLHVCQUF1QixDQUFDUyxVQUFVTyxZQUFZO1lBQy9EO1lBRUEsTUFBTUQsSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTyxhQUFhLEVBQUVMLElBQUksQ0FBQ21CLFVBQVVLLFNBQVM7Z0JBQzdEM0IsT0FBT0gsT0FBT0ksT0FBTyxDQUFDUSxnQkFBZ0IsRUFBRU4sSUFBSSxDQUFDbUIsVUFBVU8sWUFBWTtZQUNyRTtZQUVBLG1CQUFtQjtZQUNuQkgsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDZSx1QkFBdUI7WUFDeEM7WUFFQSx1QkFBdUI7WUFDdkIsTUFBTVksSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDVSxRQUFRLEVBQUVSLElBQUksQ0FBQztnQkFDckNILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUM7WUFDMUMsR0FBRztnQkFBRWlDLFNBQVM7WUFBTTtRQUN0QjtRQUVBeEMsR0FBRyxrQ0FBa0M7WUFDbkMsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QixTQUFTLEVBQUUsR0FBR3ZCLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLCtDQUFxQjtZQUMxRSxNQUFNdUIsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkQsc0JBQXNCO1lBQ3RCSCxVQUFVZ0IsWUFBWSxDQUFDLGdCQUFnQjtZQUN2Q2hCLFVBQVVJLFlBQVksQ0FBQztZQUV2Qix3Q0FBd0M7WUFDeENDLElBQUFBLFVBQUcsRUFBQztnQkFDRjdCLE9BQU9JLE9BQU8sQ0FBQ1csb0JBQW9CLENBQUNVLFVBQVVLLFNBQVM7Z0JBQ3ZEOUIsT0FBT0ksT0FBTyxDQUFDWSx1QkFBdUIsQ0FBQ1MsVUFBVU8sWUFBWTtZQUMvRDtZQUVBLE1BQU1ELElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sYUFBYSxFQUFFTCxJQUFJLENBQUNtQixVQUFVSyxTQUFTO2dCQUM3RDNCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1EsZ0JBQWdCLEVBQUVOLElBQUksQ0FBQ21CLFVBQVVPLFlBQVk7WUFDckU7WUFFQUgsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDZSx1QkFBdUI7WUFDeEM7WUFFQSxNQUFNWSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1o1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNVLFFBQVEsRUFBRVIsSUFBSSxDQUFDO1lBQ3ZDO1lBRUEseUJBQXlCO1lBQ3pCa0IsVUFBVWEscUJBQXFCLENBQUM7Z0JBQzlCQyxlQUFlO1lBQ2pCO1lBRUEsbUJBQW1CO1lBQ25CVCxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNtQixxQkFBcUI7WUFDdEM7WUFFQSxNQUFNUSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1o1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNVLFFBQVEsRUFBRVIsSUFBSSxDQUFDO2dCQUNyQ0gsT0FBT0gsT0FBT0ksT0FBTyxDQUFDUyxjQUFjLEVBQUVxQixVQUFVO1lBQ2xELEdBQUc7Z0JBQUVLLFNBQVM7WUFBTTtRQUN0QjtJQUNGO0lBRUEzQyxTQUFTLDBCQUEwQjtRQUNqQ0csR0FBRywwQ0FBMEM7WUFDM0MsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QixTQUFTLEVBQUUsR0FBR3ZCLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLCtDQUFxQjtZQUUxRSxvQ0FBb0M7WUFDcEMsTUFBTXVCLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBQ25ESCxVQUFVYSxxQkFBcUI7WUFDL0JiLFVBQVVJLFlBQVksQ0FBQztZQUV2QixvQkFBb0I7WUFDcEJDLElBQUFBLFVBQUcsRUFBQztnQkFDRjdCLE9BQU9JLE9BQU8sQ0FBQ1csb0JBQW9CLENBQUNVLFVBQVVLLFNBQVM7Z0JBQ3ZEOUIsT0FBT0ksT0FBTyxDQUFDWSx1QkFBdUIsQ0FBQ1MsVUFBVU8sWUFBWTtZQUMvRDtZQUVBLE1BQU1ELElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sYUFBYSxFQUFFTCxJQUFJLENBQUNtQixVQUFVSyxTQUFTO2dCQUM3RDNCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1EsZ0JBQWdCLEVBQUVOLElBQUksQ0FBQ21CLFVBQVVPLFlBQVk7WUFDckU7WUFFQUgsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDZSx1QkFBdUI7WUFDeEM7WUFFQSxNQUFNWSxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1o1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNNLFlBQVksRUFBRUosSUFBSSxDQUFDO1lBQzNDO1lBRUEsaUJBQWlCO1lBQ2pCdUIsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDa0IsbUJBQW1CO1lBQ3BDO1lBRUEsTUFBTVMsSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDTSxZQUFZLEVBQUVKLElBQUksQ0FBQztZQUMzQztRQUNGO1FBRUFQLEdBQUcsZ0RBQWdEO1lBQ2pELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLCtDQUFxQjtZQUUvRCxpQ0FBaUM7WUFDakMyQixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNnQixxQkFBcUI7WUFDdEM7WUFFQSxvQ0FBb0M7WUFDcENTLElBQUFBLFVBQUcsRUFBQztnQkFDRjdCLE9BQU9JLE9BQU8sQ0FBQ2lCLHdCQUF3QixDQUFDO1lBQzFDO1lBRUEsMERBQTBEO1lBQzFEbEIsT0FBTyxNQUFNRyxJQUFJLENBQUMsT0FBTyxrQ0FBa0M7UUFDN0Q7SUFDRjtJQUVBVixTQUFTLG1CQUFtQjtRQUMxQkcsR0FBRyxpREFBaUQ7WUFDbEQsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QixTQUFTLEVBQUUsR0FBR3ZCLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLCtDQUFxQjtZQUMxRSxNQUFNdUIsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkQseUJBQXlCO1lBQ3pCSCxVQUFVSSxZQUFZLENBQUM7WUFFdkJDLElBQUFBLFVBQUcsRUFBQztnQkFDRjdCLE9BQU9JLE9BQU8sQ0FBQ1csb0JBQW9CLENBQUNVLFVBQVVLLFNBQVM7WUFDekQ7WUFFQSxNQUFNQyxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1o1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNPLGFBQWEsRUFBRUwsSUFBSSxDQUFDbUIsVUFBVUssU0FBUztZQUMvRDtZQUVBLHdDQUF3QztZQUN4Q0QsSUFBQUEsVUFBRyxFQUFDO2dCQUNGN0IsT0FBT0ksT0FBTyxDQUFDZSx1QkFBdUI7WUFDeEM7WUFFQSxpREFBaUQ7WUFDakRoQixPQUFPSCxPQUFPSSxPQUFPLENBQUNDLFdBQVcsRUFBRUMsSUFBSSxDQUFDO1lBQ3hDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNNLFlBQVksRUFBRUosSUFBSSxDQUFDO1FBQzNDO1FBRUFQLEdBQUcsd0NBQXdDO1lBQ3pDLE1BQU0sRUFBRUMsTUFBTSxFQUFFd0IsU0FBUyxFQUFFLEdBQUd2QixJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSwrQ0FBcUI7WUFDMUUsTUFBTXVCLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELGdCQUFnQjtZQUNoQkgsVUFBVWlCLGNBQWMsQ0FBQztZQUN6QmpCLFVBQVVJLFlBQVksQ0FBQztZQUV2QixlQUFlO1lBQ2ZDLElBQUFBLFVBQUcsRUFBQztnQkFDRjdCLE9BQU9JLE9BQU8sQ0FBQ1csb0JBQW9CLENBQUNVLFVBQVVLLFNBQVM7Z0JBQ3ZEOUIsT0FBT0ksT0FBTyxDQUFDWSx1QkFBdUIsQ0FBQ1MsVUFBVU8sWUFBWTtZQUMvRDtZQUVBLE1BQU1ELElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ08sYUFBYSxFQUFFTCxJQUFJLENBQUNtQixVQUFVSyxTQUFTO2dCQUM3RDNCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1EsZ0JBQWdCLEVBQUVOLElBQUksQ0FBQ21CLFVBQVVPLFlBQVk7WUFDckU7WUFFQSxtQkFBbUI7WUFDbkJILElBQUFBLFVBQUcsRUFBQztnQkFDRjdCLE9BQU9JLE9BQU8sQ0FBQ2UsdUJBQXVCO1lBQ3hDO1lBRUEseUJBQXlCO1lBQ3pCLE1BQU1ZLElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1UsUUFBUSxFQUFFUixJQUFJLENBQUM7Z0JBQ3JDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNDLFdBQVcsRUFBRUMsSUFBSSxDQUFDO1lBQzFDLEdBQUc7Z0JBQUVpQyxTQUFTO1lBQU07UUFDdEI7UUFFQXhDLEdBQUcscUNBQXFDO1lBQ3RDLE1BQU0sRUFBRUMsTUFBTSxFQUFFd0IsU0FBUyxFQUFFLEdBQUd2QixJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSwrQ0FBcUI7WUFDMUUsTUFBTXVCLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELHVCQUF1QjtZQUN2QkgsVUFBVWtCLGlCQUFpQixDQUFDO1lBRTVCYixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNXLG9CQUFvQixDQUFDVSxVQUFVSyxTQUFTO1lBQ3pEO1lBRUEsMEVBQTBFO1lBQzFFLE1BQU1DLElBQUFBLGNBQU8sRUFBQztnQkFDWiw0RkFBNEY7Z0JBQzVGLHFEQUFxRDtnQkFDckQ1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNPLGFBQWEsSUFBSSxRQUFRWCxPQUFPSSxPQUFPLENBQUNPLGFBQWEsS0FBS2MsVUFBVUssU0FBUyxFQUFFeEIsSUFBSSxDQUFDO2dCQUMxRyxtREFBbUQ7Z0JBQ25ESCxPQUFPSCxPQUFPSSxPQUFPLENBQUNVLFFBQVEsRUFBRVIsSUFBSSxDQUFDO1lBQ3ZDO1FBQ0Y7SUFDRjtJQUVBVixTQUFTLHFCQUFxQjtRQUM1QkcsR0FBRyx5REFBeUQ7WUFDMUQsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QixTQUFTLEVBQUUsR0FBR3ZCLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLCtDQUFxQjtZQUMxRSxNQUFNdUIsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkQsc0JBQXNCO1lBQ3RCLE1BQU1nQixlQUFzQixFQUFFO1lBRTlCLGdCQUFnQjtZQUNoQkEsYUFBYUMsSUFBSSxDQUFDO2dCQUNoQkMsTUFBTTtnQkFDTnhDLGFBQWFMLE9BQU9JLE9BQU8sQ0FBQ0MsV0FBVztnQkFDdkN5QyxVQUFVLENBQUMsQ0FBQzlDLE9BQU9JLE9BQU8sQ0FBQ08sYUFBYSxJQUFJLENBQUMsQ0FBQ1gsT0FBT0ksT0FBTyxDQUFDUSxnQkFBZ0I7Z0JBQzdFRixjQUFjVixPQUFPSSxPQUFPLENBQUNNLFlBQVk7Z0JBQ3pDcUMsV0FBVyxDQUFDLENBQUMvQyxPQUFPSSxPQUFPLENBQUNTLGNBQWM7Z0JBQzFDQyxVQUFVZCxPQUFPSSxPQUFPLENBQUNVLFFBQVE7WUFDbkM7WUFFQVUsVUFBVWEscUJBQXFCO1lBQy9CYixVQUFVSSxZQUFZLENBQUM7WUFFdkIsZUFBZTtZQUNmQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNXLG9CQUFvQixDQUFDVSxVQUFVSyxTQUFTO2dCQUN2RDlCLE9BQU9JLE9BQU8sQ0FBQ1ksdUJBQXVCLENBQUNTLFVBQVVPLFlBQVk7WUFDL0Q7WUFFQSxNQUFNRCxJQUFBQSxjQUFPLEVBQUM7Z0JBQ1o1QixPQUFPSCxPQUFPSSxPQUFPLENBQUNPLGFBQWEsRUFBRUwsSUFBSSxDQUFDbUIsVUFBVUssU0FBUztnQkFDN0QzQixPQUFPSCxPQUFPSSxPQUFPLENBQUNRLGdCQUFnQixFQUFFTixJQUFJLENBQUNtQixVQUFVTyxZQUFZO1lBQ3JFO1lBRUFXLGFBQWFDLElBQUksQ0FBQztnQkFDaEJDLE1BQU07Z0JBQ054QyxhQUFhTCxPQUFPSSxPQUFPLENBQUNDLFdBQVc7Z0JBQ3ZDeUMsVUFBVSxDQUFDLENBQUM5QyxPQUFPSSxPQUFPLENBQUNPLGFBQWEsSUFBSSxDQUFDLENBQUNYLE9BQU9JLE9BQU8sQ0FBQ1EsZ0JBQWdCO2dCQUM3RUYsY0FBY1YsT0FBT0ksT0FBTyxDQUFDTSxZQUFZO2dCQUN6Q3FDLFdBQVcsQ0FBQyxDQUFDL0MsT0FBT0ksT0FBTyxDQUFDUyxjQUFjO2dCQUMxQ0MsVUFBVWQsT0FBT0ksT0FBTyxDQUFDVSxRQUFRO1lBQ25DO1lBRUEsbUJBQW1CO1lBQ25CZSxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QixPQUFPSSxPQUFPLENBQUNlLHVCQUF1QjtZQUN4QztZQUVBLE1BQU1ZLElBQUFBLGNBQU8sRUFBQztnQkFDWjVCLE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ0MsV0FBVyxFQUFFQyxJQUFJLENBQUM7Z0JBQ3hDSCxPQUFPSCxPQUFPSSxPQUFPLENBQUNNLFlBQVksRUFBRUosSUFBSSxDQUFDO1lBQzNDO1lBRUFxQyxhQUFhQyxJQUFJLENBQUM7Z0JBQ2hCQyxNQUFNO2dCQUNOeEMsYUFBYUwsT0FBT0ksT0FBTyxDQUFDQyxXQUFXO2dCQUN2Q3lDLFVBQVUsQ0FBQyxDQUFDOUMsT0FBT0ksT0FBTyxDQUFDTyxhQUFhLElBQUksQ0FBQyxDQUFDWCxPQUFPSSxPQUFPLENBQUNRLGdCQUFnQjtnQkFDN0VGLGNBQWNWLE9BQU9JLE9BQU8sQ0FBQ00sWUFBWTtnQkFDekNxQyxXQUFXLENBQUMsQ0FBQy9DLE9BQU9JLE9BQU8sQ0FBQ1MsY0FBYztnQkFDMUNDLFVBQVVkLE9BQU9JLE9BQU8sQ0FBQ1UsUUFBUTtZQUNuQztZQUVBLHNCQUFzQjtZQUN0QixNQUFNaUIsSUFBQUEsY0FBTyxFQUFDO2dCQUNaNUIsT0FBT0gsT0FBT0ksT0FBTyxDQUFDQyxXQUFXLEVBQUVDLElBQUksQ0FBQztnQkFDeENILE9BQU9ILE9BQU9JLE9BQU8sQ0FBQ1MsY0FBYyxFQUFFcUIsVUFBVTtZQUNsRCxHQUFHO2dCQUFFSyxTQUFTO1lBQU07WUFFcEJJLGFBQWFDLElBQUksQ0FBQztnQkFDaEJDLE1BQU07Z0JBQ054QyxhQUFhTCxPQUFPSSxPQUFPLENBQUNDLFdBQVc7Z0JBQ3ZDeUMsVUFBVSxDQUFDLENBQUM5QyxPQUFPSSxPQUFPLENBQUNPLGFBQWEsSUFBSSxDQUFDLENBQUNYLE9BQU9JLE9BQU8sQ0FBQ1EsZ0JBQWdCO2dCQUM3RUYsY0FBY1YsT0FBT0ksT0FBTyxDQUFDTSxZQUFZO2dCQUN6Q3FDLFdBQVcsQ0FBQyxDQUFDL0MsT0FBT0ksT0FBTyxDQUFDUyxjQUFjO2dCQUMxQ0MsVUFBVWQsT0FBT0ksT0FBTyxDQUFDVSxRQUFRO1lBQ25DO1lBRUEsMkJBQTJCO1lBQzNCWCxPQUFPd0MsWUFBWSxDQUFDLEVBQUUsRUFBRUssT0FBTyxDQUFDO2dCQUM5QkgsTUFBTTtnQkFDTnhDLGFBQWE7Z0JBQ2J5QyxVQUFVO2dCQUNWcEMsY0FBYztnQkFDZHFDLFdBQVc7Z0JBQ1hqQyxVQUFVO1lBQ1o7WUFFQVgsT0FBT3dDLFlBQVksQ0FBQyxFQUFFLEVBQUVLLE9BQU8sQ0FBQztnQkFDOUJILE1BQU07Z0JBQ054QyxhQUFhO2dCQUNieUMsVUFBVTtnQkFDVnBDLGNBQWM7Z0JBQ2RxQyxXQUFXO2dCQUNYakMsVUFBVTtZQUNaO1lBRUFYLE9BQU93QyxZQUFZLENBQUMsRUFBRSxFQUFFSyxPQUFPLENBQUM7Z0JBQzlCSCxNQUFNO2dCQUNOeEMsYUFBYTtnQkFDYnlDLFVBQVU7Z0JBQ1ZwQyxjQUFjO2dCQUNkcUMsV0FBVztnQkFDWGpDLFVBQVU7WUFDWjtZQUVBWCxPQUFPd0MsWUFBWSxDQUFDLEVBQUUsRUFBRUssT0FBTyxDQUFDO2dCQUM5QkgsTUFBTTtnQkFDTnhDLGFBQWE7Z0JBQ2J5QyxVQUFVO2dCQUNWcEMsY0FBYztnQkFDZHFDLFdBQVc7Z0JBQ1hqQyxVQUFVO1lBQ1o7UUFDRjtJQUNGO0FBQ0YifQ==