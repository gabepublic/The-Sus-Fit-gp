{"version":3,"sources":["/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/__tests__/debug-bridge-quick.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\nimport { renderBridgeHook } from './test-utils/index';\nimport { useBridgeLayer } from '../src/hooks/useBridgeLayer';\n\n// Mock business layer with comprehensive mocks\njest.mock('../src/business-layer', () => ({\n  useTryonMutation: jest.fn(() => ({\n    mutate: jest.fn(),\n    mutateAsync: jest.fn(),\n    data: undefined,\n    error: null,\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    reset: jest.fn(),\n  })),\n  useImageProcessing: jest.fn(() => ({\n    processImage: jest.fn(),\n    processBasic: jest.fn(),\n    isProcessing: false,\n    error: null,\n  })),\n  useImageValidation: jest.fn(() => ({\n    data: { isValid: true, errors: [] },\n    error: null,\n    isLoading: false,\n    isError: false,\n  })),\n  useImageMetadata: jest.fn(() => ({\n    data: { dimensions: { width: 1024, height: 768 }, format: 'image/jpeg', size: 102400 },\n    error: null,\n    isLoading: false,\n    isError: false,\n  })),\n  useImageThumbnail: jest.fn(() => ({\n    data: 'data:image/jpeg;base64,mock-thumbnail',\n    error: null,\n    isLoading: false,\n    isError: false,\n  })),\n  processImageForTryon: jest.fn(),\n  resizeImageTo1024x1536: jest.fn(),\n}));\n\n// Mock utility dependencies\njest.mock('../src/utils/image', () => ({\n  fileToBase64: jest.fn().mockResolvedValue('data:image/jpeg;base64,mock-data'),\n  compressBase64: jest.fn().mockReturnValue('data:image/jpeg;base64,compressed-mock-data'),\n  CompressionFailedError: class extends Error { constructor(msg: string) { super(msg); } }\n}));\n\ndescribe('Debug Bridge Layer Quick Test', () => {\n  it('should return valid useBridgeLayer result without null errors', () => {\n    const { result } = renderBridgeHook(() => useBridgeLayer());\n\n    console.log('Bridge result:', result.current);\n    console.log('Has actions?', !!result.current?.actions);\n    console.log('Has state?', !!result.current?.state);\n\n    expect(result.current).not.toBeNull();\n    expect(result.current?.actions).toBeDefined();\n    expect(result.current?.state).toBeDefined();\n  });\n});"],"names":["jest","mock","useTryonMutation","fn","mutate","mutateAsync","data","undefined","error","isError","isSuccess","isLoading","reset","useImageProcessing","processImage","processBasic","isProcessing","useImageValidation","isValid","errors","useImageMetadata","dimensions","width","height","format","size","useImageThumbnail","processImageForTryon","resizeImageTo1024x1536","fileToBase64","mockResolvedValue","compressBase64","mockReturnValue","CompressionFailedError","Error","constructor","msg","describe","it","result","renderBridgeHook","useBridgeLayer","console","log","current","actions","state","expect","not","toBeNull","toBeDefined"],"mappings":"AAAA;;CAEC;AAID,+CAA+C;AAC/CA,KAAKC,IAAI,CAAC,yBAAyB,IAAO,CAAA;QACxCC,kBAAkBF,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAC/BC,QAAQJ,KAAKG,EAAE;gBACfE,aAAaL,KAAKG,EAAE;gBACpBG,MAAMC;gBACNC,OAAO;gBACPC,SAAS;gBACTC,WAAW;gBACXC,WAAW;gBACXC,OAAOZ,KAAKG,EAAE;YAChB,CAAA;QACAU,oBAAoBb,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACjCW,cAAcd,KAAKG,EAAE;gBACrBY,cAAcf,KAAKG,EAAE;gBACrBa,cAAc;gBACdR,OAAO;YACT,CAAA;QACAS,oBAAoBjB,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACjCG,MAAM;oBAAEY,SAAS;oBAAMC,QAAQ,EAAE;gBAAC;gBAClCX,OAAO;gBACPG,WAAW;gBACXF,SAAS;YACX,CAAA;QACAW,kBAAkBpB,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAC/BG,MAAM;oBAAEe,YAAY;wBAAEC,OAAO;wBAAMC,QAAQ;oBAAI;oBAAGC,QAAQ;oBAAcC,MAAM;gBAAO;gBACrFjB,OAAO;gBACPG,WAAW;gBACXF,SAAS;YACX,CAAA;QACAiB,mBAAmB1B,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAChCG,MAAM;gBACNE,OAAO;gBACPG,WAAW;gBACXF,SAAS;YACX,CAAA;QACAkB,sBAAsB3B,KAAKG,EAAE;QAC7ByB,wBAAwB5B,KAAKG,EAAE;IACjC,CAAA;AAEA,4BAA4B;AAC5BH,KAAKC,IAAI,CAAC,sBAAsB,IAAO,CAAA;QACrC4B,cAAc7B,KAAKG,EAAE,GAAG2B,iBAAiB,CAAC;QAC1CC,gBAAgB/B,KAAKG,EAAE,GAAG6B,eAAe,CAAC;QAC1CC,wBAAwB,cAAcC;YAAQC,YAAYC,GAAW,CAAE;gBAAE,KAAK,CAACA;YAAM;QAAE;IACzF,CAAA;;;;uBAhDiC;gCACF;AAiD/BC,SAAS,iCAAiC;IACxCC,GAAG,iEAAiE;QAClE,MAAM,EAAEC,MAAM,EAAE,GAAGC,IAAAA,uBAAgB,EAAC,IAAMC,IAAAA,8BAAc;QAExDC,QAAQC,GAAG,CAAC,kBAAkBJ,OAAOK,OAAO;QAC5CF,QAAQC,GAAG,CAAC,gBAAgB,CAAC,CAACJ,OAAOK,OAAO,EAAEC;QAC9CH,QAAQC,GAAG,CAAC,cAAc,CAAC,CAACJ,OAAOK,OAAO,EAAEE;QAE5CC,OAAOR,OAAOK,OAAO,EAAEI,GAAG,CAACC,QAAQ;QACnCF,OAAOR,OAAOK,OAAO,EAAEC,SAASK,WAAW;QAC3CH,OAAOR,OAAOK,OAAO,EAAEE,OAAOI,WAAW;IAC3C;AACF"}