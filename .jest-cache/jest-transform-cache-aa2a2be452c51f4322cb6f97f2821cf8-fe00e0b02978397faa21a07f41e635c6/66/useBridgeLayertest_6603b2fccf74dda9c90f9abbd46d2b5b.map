{"version":3,"sources":["/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/__tests__/bridge-layer/useBridgeLayer.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\nimport { act, waitFor } from '@testing-library/react';\nimport { \n  renderBridgeHook, \n  MockAPIUtils, \n  WorkflowTestUtils\n} from '../test-utils/index';\nimport { useBridgeLayer } from '@/hooks/useBridgeLayer';\n\n// Setup API mocks \nMockAPIUtils.setupServer();\n\ndescribe('useBridgeLayer', () => {\n  beforeEach(() => {\n    // Reset mocks between tests\n    MockAPIUtils.reset();\n  });\n\n  describe('Initialization', () => {\n    it('should initialize with correct default simplified state', () => {\n      const { result } = renderBridgeHook(() => useBridgeLayer());\n\n      const { state } = result.current;\n\n      expect(state.isLoading).toBe(false);\n      expect(state.isReady).toBe(false);\n      expect(state.showResult).toBe(false);\n      expect(state.resultImage).toBeNull();\n      expect(state.errorMessage).toBeNull();\n      expect(state.successMessage).toBeNull();\n      expect(state.hasUserImage).toBe(false);\n      expect(state.hasApparelImage).toBe(false);\n      expect(state.userImagePreview).toBeNull();\n      expect(state.apparelImagePreview).toBeNull();\n      expect(state.progress).toBe(0);\n      expect(state.canGenerate).toBe(false);\n      expect(state.canRetry).toBe(false);\n      expect(state.canReset).toBe(false);\n    });\n\n    it('should provide all required simplified actions', () => {\n      const { result } = renderBridgeHook(() => useBridgeLayer());\n\n      const { actions } = result.current;\n\n      expect(typeof actions.uploadUserImage).toBe('function');\n      expect(typeof actions.uploadApparelImage).toBe('function');\n      expect(typeof actions.removeUserImage).toBe('function');\n      expect(typeof actions.removeApparelImage).toBe('function');\n      expect(typeof actions.generate).toBe('function');\n      expect(typeof actions.retry).toBe('function');\n      expect(typeof actions.reset).toBe('function');\n      expect(typeof actions.hideResult).toBe('function');\n      expect(typeof actions.clearError).toBe('function');\n      expect(typeof actions.downloadResult).toBe('function');\n      expect(typeof actions.shareResult).toBe('function');\n    });\n\n    it('should provide advanced access to underlying hooks', () => {\n      const { result } = renderBridgeHook(() => useBridgeLayer());\n\n      const { advanced } = result.current;\n\n      expect(advanced.workflow).toBeDefined();\n      expect(advanced.uploads).toBeDefined();\n      expect(advanced.uploads.user).toBeDefined();\n      expect(advanced.uploads.apparel).toBeDefined();\n    });\n  });\n\n  describe('File Upload Actions', () => {\n    it('should handle user image upload successfully', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      testUtils.mockFileRead('data:image/jpeg;base64,user-image-data');\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.hasUserImage).toBe(true);\n      });\n    });\n\n    it('should handle apparel image upload successfully', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      testUtils.mockFileRead('data:image/jpeg;base64,apparel-image-data');\n\n      await act(async () => {\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.hasApparelImage).toBe(true);\n      });\n    });\n\n    it('should handle upload errors gracefully', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      testUtils.mockFileReadError('Upload failed');\n\n      try {\n        await act(async () => {\n          await result.current.actions.uploadUserImage(mockFiles.userImage);\n        });\n      } catch (error) {\n        expect(error).toBeDefined();\n      }\n\n      expect(result.current.state.hasUserImage).toBe(false);\n    });\n\n    it('should remove uploaded images correctly', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      testUtils.mockFileRead('data:image/jpeg;base64,image-data');\n\n      // Upload images first\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.hasUserImage).toBe(true);\n        expect(result.current.state.hasApparelImage).toBe(true);\n      });\n\n      // Remove user image\n      act(() => {\n        result.current.actions.removeUserImage();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.hasUserImage).toBe(false);\n      });\n\n      // Remove apparel image\n      act(() => {\n        result.current.actions.removeApparelImage();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.hasApparelImage).toBe(false);\n      });\n    });\n  });\n\n  describe('Generation Actions', () => {\n    it('should handle successful generation workflow', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Setup mocks\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall({\n        img_generated: 'data:image/jpeg;base64,generated-result'\n      });\n\n      // Upload files\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.canGenerate).toBe(true);\n      });\n\n      // Generate\n      await act(async () => {\n        await result.current.actions.generate();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n        expect(result.current.state.successMessage).toBeTruthy();\n      }, { timeout: 10000 });\n    });\n\n    it('should handle generation errors and enable retry', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Setup mocks\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockApiError('Generation failed', 500);\n\n      // Upload files\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.canGenerate).toBe(true);\n      });\n\n      // Try to generate (will fail)\n      try {\n        await act(async () => {\n          await result.current.actions.generate();\n        });\n      } catch (error) {\n        // Expected to fail\n      }\n\n      await waitFor(() => {\n        expect(result.current.state.errorMessage).toBeTruthy();\n        expect(result.current.state.canRetry).toBe(true);\n      });\n    });\n\n    it('should handle retry after failure', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Setup mocks for initial failure\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockApiError('Generation failed', 500);\n\n      // Upload files and fail generation\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      try {\n        await act(async () => {\n          await result.current.actions.generate();\n        });\n      } catch (error) {\n        // Expected to fail\n      }\n\n      await waitFor(() => {\n        expect(result.current.state.canRetry).toBe(true);\n      });\n\n      // Setup successful retry\n      testUtils.mockSuccessfulApiCall({\n        img_generated: 'data:image/jpeg;base64,retry-success'\n      });\n\n      // Retry\n      await act(async () => {\n        await result.current.actions.retry();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n        expect(result.current.state.errorMessage).toBeNull();\n      }, { timeout: 10000 });\n    });\n\n    it('should reset workflow state correctly', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Setup and complete workflow\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall();\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await act(async () => {\n        await result.current.actions.generate();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n      });\n\n      // Reset\n      act(() => {\n        result.current.actions.reset();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.hasUserImage).toBe(false);\n        expect(result.current.state.hasApparelImage).toBe(false);\n        expect(result.current.state.resultImage).toBeNull();\n        expect(result.current.state.canGenerate).toBe(false);\n      });\n    });\n  });\n\n  describe('UI Actions', () => {\n    it('should hide result when requested', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Setup and complete workflow to show result\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall();\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await act(async () => {\n        await result.current.actions.generate();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.showResult).toBe(true);\n      });\n\n      // Hide result\n      act(() => {\n        result.current.actions.hideResult();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.showResult).toBe(false);\n      });\n    });\n\n    it('should clear error when requested', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Setup error scenario\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockApiError('Test error', 500);\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      try {\n        await act(async () => {\n          await result.current.actions.generate();\n        });\n      } catch (error) {\n        // Expected to fail\n      }\n\n      await waitFor(() => {\n        expect(result.current.state.errorMessage).toBeTruthy();\n      });\n\n      // Clear error\n      act(() => {\n        result.current.actions.clearError();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.errorMessage).toBeNull();\n      });\n    });\n\n    it('should handle download action without errors', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Mock document.createElement and related APIs\n      const mockLink = {\n        href: '',\n        download: '',\n        click: jest.fn(),\n      };\n      \n      const originalCreateElement = document.createElement;\n      document.createElement = jest.fn().mockImplementation((tag) => {\n        if (tag === 'a') return mockLink;\n        return originalCreateElement.call(document, tag);\n      });\n\n      const mockAppendChild = jest.fn();\n      const mockRemoveChild = jest.fn();\n      document.body.appendChild = mockAppendChild;\n      document.body.removeChild = mockRemoveChild;\n\n      // Setup and complete workflow\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall({\n        img_generated: 'data:image/jpeg;base64,download-test-image'\n      });\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await act(async () => {\n        await result.current.actions.generate();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n      });\n\n      // Download\n      act(() => {\n        result.current.actions.downloadResult();\n      });\n\n      expect(mockLink.click).toHaveBeenCalled();\n      expect(mockAppendChild).toHaveBeenCalled();\n      expect(mockRemoveChild).toHaveBeenCalled();\n\n      // Restore original methods\n      document.createElement = originalCreateElement;\n    });\n\n    it('should handle share action with navigator.share', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      // Mock navigator.share\n      const mockShare = jest.fn().mockResolvedValue(undefined);\n      Object.defineProperty(navigator, 'share', {\n        value: mockShare,\n        configurable: true,\n      });\n\n      // Mock fetch for blob conversion\n      const mockBlob = new Blob(['mock-image-data'], { type: 'image/jpeg' });\n      global.fetch = jest.fn().mockResolvedValue({\n        blob: () => Promise.resolve(mockBlob)\n      });\n\n      // Setup and complete workflow\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall({\n        img_generated: 'data:image/jpeg;base64,share-test-image'\n      });\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await act(async () => {\n        await result.current.actions.generate();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n      });\n\n      // Share\n      await act(async () => {\n        await result.current.actions.shareResult();\n      });\n\n      expect(mockShare).toHaveBeenCalledWith(\n        expect.objectContaining({\n          title: 'My Try-On Result',\n          text: 'Check out my virtual try-on!',\n          files: expect.any(Array),\n        })\n      );\n    });\n  });\n\n  describe('Configuration Options', () => {\n    it('should respect custom configuration', () => {\n      const customConfig = {\n        workflow: {\n          timeoutMs: 30000,\n          compressionLimitKB: 1024,\n        },\n        ui: {\n          showDetailedProgress: false,\n          enableShare: false,\n          enableDownload: false,\n        },\n      };\n\n      const { result } = renderBridgeHook(() => useBridgeLayer(customConfig));\n\n      // Configuration is applied internally, test should not throw errors\n      expect(result.current.state).toBeDefined();\n      expect(result.current.actions).toBeDefined();\n    });\n\n    it('should handle callback configuration', async () => {\n      const onGenerationStart = jest.fn();\n      const onGenerationComplete = jest.fn();\n      const onError = jest.fn();\n      const onSuccess = jest.fn();\n\n      const config = {\n        callbacks: {\n          onGenerationStart,\n          onGenerationComplete,\n          onError,\n          onSuccess,\n        },\n      };\n\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer(config));\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall({\n        img_generated: 'data:image/jpeg;base64,callback-test'\n      });\n\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      await act(async () => {\n        await result.current.actions.generate();\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n      });\n\n      expect(onGenerationStart).toHaveBeenCalled();\n      expect(onGenerationComplete).toHaveBeenCalled();\n      expect(onSuccess).toHaveBeenCalled();\n      expect(onError).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('Progress Tracking', () => {\n    it('should track progress during workflow', async () => {\n      const { result, testUtils } = renderBridgeHook(() => useBridgeLayer());\n      const mockFiles = WorkflowTestUtils.createMockFiles();\n\n      testUtils.mockFileRead('data:image/jpeg;base64,processed-image');\n      testUtils.mockSuccessfulApiCall(undefined, 500); // Add delay\n\n      // Upload files\n      await act(async () => {\n        await result.current.actions.uploadUserImage(mockFiles.userImage);\n        await result.current.actions.uploadApparelImage(mockFiles.apparelImage);\n      });\n\n      const initialProgress = result.current.state.progress;\n\n      // Start generation\n      act(() => {\n        result.current.actions.generate();\n      });\n\n      // Progress should update during generation\n      await waitFor(() => {\n        expect(result.current.state.isLoading).toBe(true);\n      });\n\n      await waitFor(() => {\n        expect(result.current.state.resultImage).toBeTruthy();\n      }, { timeout: 10000 });\n\n      expect(initialProgress).toBe(0);\n    });\n\n    it('should provide meaningful progress messages', async () => {\n      const { result } = renderBridgeHook(() => useBridgeLayer());\n\n      expect(result.current.state.progressMessage).toBe('Ready to generate');\n\n      // Add more progress message tests as the workflow develops\n    });\n  });\n});"],"names":["MockAPIUtils","setupServer","describe","beforeEach","reset","it","result","renderBridgeHook","useBridgeLayer","state","current","expect","isLoading","toBe","isReady","showResult","resultImage","toBeNull","errorMessage","successMessage","hasUserImage","hasApparelImage","userImagePreview","apparelImagePreview","progress","canGenerate","canRetry","canReset","actions","uploadUserImage","uploadApparelImage","removeUserImage","removeApparelImage","generate","retry","hideResult","clearError","downloadResult","shareResult","advanced","workflow","toBeDefined","uploads","user","apparel","testUtils","mockFiles","WorkflowTestUtils","createMockFiles","mockFileRead","act","userImage","waitFor","apparelImage","mockFileReadError","error","mockSuccessfulApiCall","img_generated","toBeTruthy","timeout","mockApiError","mockLink","href","download","click","jest","fn","originalCreateElement","document","createElement","mockImplementation","tag","call","mockAppendChild","mockRemoveChild","body","appendChild","removeChild","toHaveBeenCalled","mockShare","mockResolvedValue","undefined","Object","defineProperty","navigator","value","configurable","mockBlob","Blob","type","global","fetch","blob","Promise","resolve","toHaveBeenCalledWith","objectContaining","title","text","files","any","Array","customConfig","timeoutMs","compressionLimitKB","ui","showDetailedProgress","enableShare","enableDownload","onGenerationStart","onGenerationComplete","onError","onSuccess","config","callbacks","not","initialProgress","progressMessage"],"mappings":"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"}