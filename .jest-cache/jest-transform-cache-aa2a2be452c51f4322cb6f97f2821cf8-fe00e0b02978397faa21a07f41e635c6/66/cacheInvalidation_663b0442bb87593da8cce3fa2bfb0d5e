d0f4ff8431bb5715a52edc57921762d0
// Advanced Cache Invalidation Strategies
// Comprehensive cache management for try-on mutations and related queries
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    CacheInvalidationManager: function() {
        return CacheInvalidationManager;
    },
    createCacheAwareMutationCallbacks: function() {
        return createCacheAwareMutationCallbacks;
    },
    defaultCacheManager: function() {
        return defaultCacheManager;
    },
    getCacheInvalidationManager: function() {
        return getCacheInvalidationManager;
    },
    initializeCacheInvalidation: function() {
        return initializeCacheInvalidation;
    },
    invalidateCacheAfterMutation: function() {
        return invalidateCacheAfterMutation;
    }
});
/**
 * Default cache invalidation configuration
 */ const DEFAULT_CACHE_CONFIG = {
    invalidateHistory: true,
    invalidateUserData: true,
    invalidateStats: true,
    invalidateTags: true,
    preloadRelated: true,
    customQueryKeys: [],
    userContext: {}
};
class CacheInvalidationManager {
    constructor(queryClient){
        this.queryClient = queryClient;
    }
    /**
   * Invalidate caches after successful try-on mutation
   */ async invalidateAfterSuccess(data, variables, context, config = {}) {
        const mergedConfig = {
            ...DEFAULT_CACHE_CONFIG,
            ...config
        };
        const invalidationPromises = [];
        // 1. Invalidate history queries
        if (mergedConfig.invalidateHistory) {
            invalidationPromises.push(this.invalidateHistoryQueries());
        }
        // 2. Invalidate user-specific data
        if (mergedConfig.invalidateUserData && mergedConfig.userContext.userId) {
            invalidationPromises.push(this.invalidateUserQueries(mergedConfig.userContext.userId));
        }
        // 3. Invalidate statistics and aggregations
        if (mergedConfig.invalidateStats) {
            invalidationPromises.push(this.invalidateStatsQueries());
        }
        // 4. Invalidate tag-based queries
        if (mergedConfig.invalidateTags && mergedConfig.userContext.tags?.length) {
            invalidationPromises.push(this.invalidateTagQueries(mergedConfig.userContext.tags));
        }
        // 5. Invalidate custom query keys
        if (mergedConfig.customQueryKeys.length > 0) {
            invalidationPromises.push(this.invalidateCustomQueries(mergedConfig.customQueryKeys));
        }
        // Execute all invalidations in parallel
        await Promise.all(invalidationPromises);
        // 6. Preload related queries if enabled
        if (mergedConfig.preloadRelated) {
            await this.preloadRelatedQueries(mergedConfig.userContext);
        }
    }
    /**
   * Selective cache invalidation after error (lighter touch)
   */ async invalidateAfterError(error, variables, context, config = {}) {
        const lightConfig = {
            invalidateHistory: false,
            invalidateUserData: false,
            invalidateStats: false,
            invalidateTags: false,
            preloadRelated: false,
            ...config
        };
        // Only invalidate specific queries that might be affected by the error
        if (lightConfig.invalidateHistory) {
            await this.invalidateHistoryQueries();
        }
    }
    /**
   * Invalidate history-related queries
   */ async invalidateHistoryQueries() {
        const historyInvalidations = [
            // Main history entries
            this.queryClient.invalidateQueries({
                queryKey: [
                    'tryon-history'
                ],
                exact: false
            }),
            // History metadata
            this.queryClient.invalidateQueries({
                queryKey: [
                    'history-metadata'
                ],
                exact: false
            }),
            // Recent activity
            this.queryClient.invalidateQueries({
                queryKey: [
                    'recent-activity'
                ],
                exact: false
            }),
            // History search results
            this.queryClient.invalidateQueries({
                queryKey: [
                    'history-search'
                ],
                exact: false
            })
        ];
        await Promise.all(historyInvalidations);
    }
    /**
   * Invalidate user-specific queries
   */ async invalidateUserQueries(userId) {
        const userInvalidations = [
            // User profile data
            this.queryClient.invalidateQueries({
                queryKey: [
                    'user-data',
                    userId
                ],
                exact: false
            }),
            // User preferences
            this.queryClient.invalidateQueries({
                queryKey: [
                    'user-preferences',
                    userId
                ],
                exact: false
            }),
            // User activity
            this.queryClient.invalidateQueries({
                queryKey: [
                    'user-activity',
                    userId
                ],
                exact: false
            }),
            // User statistics
            this.queryClient.invalidateQueries({
                queryKey: [
                    'user-stats',
                    userId
                ],
                exact: false
            })
        ];
        await Promise.all(userInvalidations);
    }
    /**
   * Invalidate statistics and aggregation queries
   */ async invalidateStatsQueries() {
        const statsInvalidations = [
            // General try-on statistics
            this.queryClient.invalidateQueries({
                queryKey: [
                    'tryon-stats'
                ],
                exact: false
            }),
            // Usage analytics
            this.queryClient.invalidateQueries({
                queryKey: [
                    'usage-analytics'
                ],
                exact: false
            }),
            // Performance metrics
            this.queryClient.invalidateQueries({
                queryKey: [
                    'performance-metrics'
                ],
                exact: false
            }),
            // Popular items/combinations
            this.queryClient.invalidateQueries({
                queryKey: [
                    'popular-items'
                ],
                exact: false
            })
        ];
        await Promise.all(statsInvalidations);
    }
    /**
   * Invalidate tag-based queries
   */ async invalidateTagQueries(tags) {
        const tagInvalidations = tags.map((tag)=>this.queryClient.invalidateQueries({
                queryKey: [
                    'tryon-by-tag',
                    tag
                ],
                exact: false
            }));
        // Also invalidate general tag queries
        tagInvalidations.push(this.queryClient.invalidateQueries({
            queryKey: [
                'available-tags'
            ],
            exact: false
        }));
        await Promise.all(tagInvalidations);
    }
    /**
   * Invalidate custom query keys
   */ async invalidateCustomQueries(customQueryKeys) {
        const customInvalidations = customQueryKeys.map((queryKey)=>this.queryClient.invalidateQueries({
                queryKey,
                exact: false
            }));
        await Promise.all(customInvalidations);
    }
    /**
   * Preload related queries that are likely to be accessed next
   */ async preloadRelatedQueries(userContext = {}) {
        const preloadPromises = [];
        // Preload history entries (most likely to be viewed)
        preloadPromises.push(this.queryClient.prefetchQuery({
            queryKey: [
                'tryon-history',
                'entries'
            ],
            staleTime: 30000,
            gcTime: 5 * 60 * 1000 // Keep in cache for 5 minutes
        }));
        // Preload history stats
        preloadPromises.push(this.queryClient.prefetchQuery({
            queryKey: [
                'tryon-history',
                'stats'
            ],
            staleTime: 60000,
            gcTime: 10 * 60 * 1000 // Keep in cache for 10 minutes
        }));
        // Preload user data if userId available
        if (userContext.userId) {
            preloadPromises.push(this.queryClient.prefetchQuery({
                queryKey: [
                    'user-data',
                    userContext.userId
                ],
                staleTime: 60000,
                gcTime: 10 * 60 * 1000
            }));
        }
        // Preload popular items
        preloadPromises.push(this.queryClient.prefetchQuery({
            queryKey: [
                'popular-items'
            ],
            staleTime: 5 * 60 * 1000,
            gcTime: 15 * 60 * 1000 // Keep in cache for 15 minutes
        }));
        await Promise.allSettled(preloadPromises);
    }
    /**
   * Smart cache warming based on usage patterns
   */ async warmCache(options = {}) {
        const warmupPromises = [];
        // Warm up frequently accessed data structures
        if (options.popularItems?.length) {
            options.popularItems.forEach((item, index)=>{
                warmupPromises.push(this.queryClient.prefetchQuery({
                    queryKey: [
                        'warmup-cache',
                        'popular',
                        index
                    ],
                    queryFn: ()=>Promise.resolve(item),
                    staleTime: 10 * 60 * 1000,
                    gcTime: 30 * 60 * 1000 // Keep in cache for 30 minutes
                }));
            });
        }
        // Warm up user-specific frequently accessed queries
        if (options.userId) {
            warmupPromises.push(this.queryClient.prefetchQuery({
                queryKey: [
                    'user-favorites',
                    options.userId
                ],
                staleTime: 5 * 60 * 1000,
                gcTime: 20 * 60 * 1000
            }));
        }
        // Warm up recent tag queries
        if (options.recentTags?.length) {
            options.recentTags.forEach((tag)=>{
                warmupPromises.push(this.queryClient.prefetchQuery({
                    queryKey: [
                        'recent-by-tag',
                        tag
                    ],
                    staleTime: 2 * 60 * 1000,
                    gcTime: 10 * 60 * 1000
                }));
            });
        }
        await Promise.allSettled(warmupPromises);
    }
    /**
   * Cleanup stale cache entries
   */ async cleanupStaleCache() {
        // Remove queries that haven't been accessed in a while
        this.queryClient.removeQueries({
            predicate: (query)=>{
                const lastAccessed = query.state.dataUpdatedAt;
                const oneHourAgo = Date.now() - 60 * 60 * 1000;
                return lastAccessed < oneHourAgo;
            }
        });
        // Cleanup specific temporary cache entries
        this.queryClient.removeQueries({
            queryKey: [
                'warmup-cache'
            ],
            exact: false
        });
        this.queryClient.removeQueries({
            queryKey: [
                'temp'
            ],
            exact: false
        });
    }
}
let defaultCacheManager = null;
function initializeCacheInvalidation(queryClient) {
    defaultCacheManager = new CacheInvalidationManager(queryClient);
    return defaultCacheManager;
}
function getCacheInvalidationManager() {
    if (!defaultCacheManager) {
        throw new Error('CacheInvalidationManager not initialized. Call initializeCacheInvalidation first.');
    }
    return defaultCacheManager;
}
async function invalidateCacheAfterMutation(queryClient, data, variables, context, config) {
    const cacheManager = defaultCacheManager || new CacheInvalidationManager(queryClient);
    await cacheManager.invalidateAfterSuccess(data, variables, context, config);
}
function createCacheAwareMutationCallbacks(queryClient, config = {}) {
    const cacheManager = defaultCacheManager || new CacheInvalidationManager(queryClient);
    return {
        onSuccess: async (data, variables, context)=>{
            await cacheManager.invalidateAfterSuccess(data, variables, context, config);
        },
        onError: async (error, variables, context)=>{
            if (context) {
                await cacheManager.invalidateAfterError(error, variables, context, {
                    invalidateHistory: false,
                    invalidateUserData: false,
                    ...config
                });
            }
        }
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3Avc3JjL2J1c2luZXNzLWxheWVyL3V0aWxzL2NhY2hlSW52YWxpZGF0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFkdmFuY2VkIENhY2hlIEludmFsaWRhdGlvbiBTdHJhdGVnaWVzXG4vLyBDb21wcmVoZW5zaXZlIGNhY2hlIG1hbmFnZW1lbnQgZm9yIHRyeS1vbiBtdXRhdGlvbnMgYW5kIHJlbGF0ZWQgcXVlcmllc1xuXG5pbXBvcnQgeyBRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgdHlwZSB7IFRyeW9uTXV0YXRpb25WYXJpYWJsZXMsIFRyeW9uTXV0YXRpb25SZXNwb25zZSwgVHJ5b25NdXRhdGlvbkNvbnRleHQgfSBmcm9tICcuLi90eXBlcy90cnlvbi50eXBlcyc7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBmb3IgY2FjaGUgaW52YWxpZGF0aW9uIHN0cmF0ZWdpZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWNoZUludmFsaWRhdGlvbkNvbmZpZyB7XG4gIC8qKiBXaGV0aGVyIHRvIGludmFsaWRhdGUgaGlzdG9yeS1yZWxhdGVkIHF1ZXJpZXMgKi9cbiAgaW52YWxpZGF0ZUhpc3Rvcnk/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byBpbnZhbGlkYXRlIHVzZXItc3BlY2lmaWMgZGF0YSAqL1xuICBpbnZhbGlkYXRlVXNlckRhdGE/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byBpbnZhbGlkYXRlIHN0YXRpc3RpY3MgYW5kIGFnZ3JlZ2F0aW9ucyAqL1xuICBpbnZhbGlkYXRlU3RhdHM/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byBpbnZhbGlkYXRlIHRhZy1iYXNlZCBxdWVyaWVzICovXG4gIGludmFsaWRhdGVUYWdzPzogYm9vbGVhbjtcbiAgLyoqIFdoZXRoZXIgdG8gcHJlbG9hZCByZWxhdGVkIHF1ZXJpZXMgYWZ0ZXIgaW52YWxpZGF0aW9uICovXG4gIHByZWxvYWRSZWxhdGVkPzogYm9vbGVhbjtcbiAgLyoqIEN1c3RvbSBxdWVyeSBrZXlzIHRvIGludmFsaWRhdGUgKi9cbiAgY3VzdG9tUXVlcnlLZXlzPzogc3RyaW5nW11bXTtcbiAgLyoqIENvbnRleHQgZm9yIHVzZXItc3BlY2lmaWMgaW52YWxpZGF0aW9uICovXG4gIHVzZXJDb250ZXh0Pzoge1xuICAgIHVzZXJJZD86IHN0cmluZztcbiAgICB0YWdzPzogc3RyaW5nW107XG4gIH07XG59XG5cbi8qKlxuICogRGVmYXVsdCBjYWNoZSBpbnZhbGlkYXRpb24gY29uZmlndXJhdGlvblxuICovXG5jb25zdCBERUZBVUxUX0NBQ0hFX0NPTkZJRzogUmVxdWlyZWQ8Q2FjaGVJbnZhbGlkYXRpb25Db25maWc+ID0ge1xuICBpbnZhbGlkYXRlSGlzdG9yeTogdHJ1ZSxcbiAgaW52YWxpZGF0ZVVzZXJEYXRhOiB0cnVlLFxuICBpbnZhbGlkYXRlU3RhdHM6IHRydWUsXG4gIGludmFsaWRhdGVUYWdzOiB0cnVlLFxuICBwcmVsb2FkUmVsYXRlZDogdHJ1ZSxcbiAgY3VzdG9tUXVlcnlLZXlzOiBbXSxcbiAgdXNlckNvbnRleHQ6IHt9XG59O1xuXG4vKipcbiAqIEFkdmFuY2VkIGNhY2hlIGludmFsaWRhdGlvbiBtYW5hZ2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWNoZUludmFsaWRhdGlvbk1hbmFnZXIge1xuICBwcml2YXRlIHF1ZXJ5Q2xpZW50OiBRdWVyeUNsaWVudDtcblxuICBjb25zdHJ1Y3RvcihxdWVyeUNsaWVudDogUXVlcnlDbGllbnQpIHtcbiAgICB0aGlzLnF1ZXJ5Q2xpZW50ID0gcXVlcnlDbGllbnQ7XG4gIH1cblxuICAvKipcbiAgICogSW52YWxpZGF0ZSBjYWNoZXMgYWZ0ZXIgc3VjY2Vzc2Z1bCB0cnktb24gbXV0YXRpb25cbiAgICovXG4gIGFzeW5jIGludmFsaWRhdGVBZnRlclN1Y2Nlc3MoXG4gICAgZGF0YTogVHJ5b25NdXRhdGlvblJlc3BvbnNlLFxuICAgIHZhcmlhYmxlczogVHJ5b25NdXRhdGlvblZhcmlhYmxlcyxcbiAgICBjb250ZXh0OiBUcnlvbk11dGF0aW9uQ29udGV4dCxcbiAgICBjb25maWc6IENhY2hlSW52YWxpZGF0aW9uQ29uZmlnID0ge31cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbWVyZ2VkQ29uZmlnID0geyAuLi5ERUZBVUxUX0NBQ0hFX0NPTkZJRywgLi4uY29uZmlnIH07XG4gICAgY29uc3QgaW52YWxpZGF0aW9uUHJvbWlzZXM6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xuXG4gICAgLy8gMS4gSW52YWxpZGF0ZSBoaXN0b3J5IHF1ZXJpZXNcbiAgICBpZiAobWVyZ2VkQ29uZmlnLmludmFsaWRhdGVIaXN0b3J5KSB7XG4gICAgICBpbnZhbGlkYXRpb25Qcm9taXNlcy5wdXNoKHRoaXMuaW52YWxpZGF0ZUhpc3RvcnlRdWVyaWVzKCkpO1xuICAgIH1cblxuICAgIC8vIDIuIEludmFsaWRhdGUgdXNlci1zcGVjaWZpYyBkYXRhXG4gICAgaWYgKG1lcmdlZENvbmZpZy5pbnZhbGlkYXRlVXNlckRhdGEgJiYgbWVyZ2VkQ29uZmlnLnVzZXJDb250ZXh0LnVzZXJJZCkge1xuICAgICAgaW52YWxpZGF0aW9uUHJvbWlzZXMucHVzaCh0aGlzLmludmFsaWRhdGVVc2VyUXVlcmllcyhtZXJnZWRDb25maWcudXNlckNvbnRleHQudXNlcklkKSk7XG4gICAgfVxuXG4gICAgLy8gMy4gSW52YWxpZGF0ZSBzdGF0aXN0aWNzIGFuZCBhZ2dyZWdhdGlvbnNcbiAgICBpZiAobWVyZ2VkQ29uZmlnLmludmFsaWRhdGVTdGF0cykge1xuICAgICAgaW52YWxpZGF0aW9uUHJvbWlzZXMucHVzaCh0aGlzLmludmFsaWRhdGVTdGF0c1F1ZXJpZXMoKSk7XG4gICAgfVxuXG4gICAgLy8gNC4gSW52YWxpZGF0ZSB0YWctYmFzZWQgcXVlcmllc1xuICAgIGlmIChtZXJnZWRDb25maWcuaW52YWxpZGF0ZVRhZ3MgJiYgbWVyZ2VkQ29uZmlnLnVzZXJDb250ZXh0LnRhZ3M/Lmxlbmd0aCkge1xuICAgICAgaW52YWxpZGF0aW9uUHJvbWlzZXMucHVzaCh0aGlzLmludmFsaWRhdGVUYWdRdWVyaWVzKG1lcmdlZENvbmZpZy51c2VyQ29udGV4dC50YWdzKSk7XG4gICAgfVxuXG4gICAgLy8gNS4gSW52YWxpZGF0ZSBjdXN0b20gcXVlcnkga2V5c1xuICAgIGlmIChtZXJnZWRDb25maWcuY3VzdG9tUXVlcnlLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgIGludmFsaWRhdGlvblByb21pc2VzLnB1c2godGhpcy5pbnZhbGlkYXRlQ3VzdG9tUXVlcmllcyhtZXJnZWRDb25maWcuY3VzdG9tUXVlcnlLZXlzKSk7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSBhbGwgaW52YWxpZGF0aW9ucyBpbiBwYXJhbGxlbFxuICAgIGF3YWl0IFByb21pc2UuYWxsKGludmFsaWRhdGlvblByb21pc2VzKTtcblxuICAgIC8vIDYuIFByZWxvYWQgcmVsYXRlZCBxdWVyaWVzIGlmIGVuYWJsZWRcbiAgICBpZiAobWVyZ2VkQ29uZmlnLnByZWxvYWRSZWxhdGVkKSB7XG4gICAgICBhd2FpdCB0aGlzLnByZWxvYWRSZWxhdGVkUXVlcmllcyhtZXJnZWRDb25maWcudXNlckNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RpdmUgY2FjaGUgaW52YWxpZGF0aW9uIGFmdGVyIGVycm9yIChsaWdodGVyIHRvdWNoKVxuICAgKi9cbiAgYXN5bmMgaW52YWxpZGF0ZUFmdGVyRXJyb3IoXG4gICAgZXJyb3I6IHVua25vd24sXG4gICAgdmFyaWFibGVzOiBUcnlvbk11dGF0aW9uVmFyaWFibGVzLFxuICAgIGNvbnRleHQ6IFRyeW9uTXV0YXRpb25Db250ZXh0LFxuICAgIGNvbmZpZzogUGFydGlhbDxDYWNoZUludmFsaWRhdGlvbkNvbmZpZz4gPSB7fVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBsaWdodENvbmZpZyA9IHtcbiAgICAgIGludmFsaWRhdGVIaXN0b3J5OiBmYWxzZSxcbiAgICAgIGludmFsaWRhdGVVc2VyRGF0YTogZmFsc2UsXG4gICAgICBpbnZhbGlkYXRlU3RhdHM6IGZhbHNlLFxuICAgICAgaW52YWxpZGF0ZVRhZ3M6IGZhbHNlLFxuICAgICAgcHJlbG9hZFJlbGF0ZWQ6IGZhbHNlLFxuICAgICAgLi4uY29uZmlnXG4gICAgfTtcblxuICAgIC8vIE9ubHkgaW52YWxpZGF0ZSBzcGVjaWZpYyBxdWVyaWVzIHRoYXQgbWlnaHQgYmUgYWZmZWN0ZWQgYnkgdGhlIGVycm9yXG4gICAgaWYgKGxpZ2h0Q29uZmlnLmludmFsaWRhdGVIaXN0b3J5KSB7XG4gICAgICBhd2FpdCB0aGlzLmludmFsaWRhdGVIaXN0b3J5UXVlcmllcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZhbGlkYXRlIGhpc3RvcnktcmVsYXRlZCBxdWVyaWVzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGludmFsaWRhdGVIaXN0b3J5UXVlcmllcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBoaXN0b3J5SW52YWxpZGF0aW9ucyA9IFtcbiAgICAgIC8vIE1haW4gaGlzdG9yeSBlbnRyaWVzXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3RyeW9uLWhpc3RvcnknXSxcbiAgICAgICAgZXhhY3Q6IGZhbHNlIFxuICAgICAgfSksXG4gICAgICBcbiAgICAgIC8vIEhpc3RvcnkgbWV0YWRhdGFcbiAgICAgIHRoaXMucXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsnaGlzdG9yeS1tZXRhZGF0YSddLFxuICAgICAgICBleGFjdDogZmFsc2UgXG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gUmVjZW50IGFjdGl2aXR5XG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3JlY2VudC1hY3Rpdml0eSddLFxuICAgICAgICBleGFjdDogZmFsc2UgXG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gSGlzdG9yeSBzZWFyY2ggcmVzdWx0c1xuICAgICAgdGhpcy5xdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IFxuICAgICAgICBxdWVyeUtleTogWydoaXN0b3J5LXNlYXJjaCddLFxuICAgICAgICBleGFjdDogZmFsc2UgXG4gICAgICB9KVxuICAgIF07XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChoaXN0b3J5SW52YWxpZGF0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogSW52YWxpZGF0ZSB1c2VyLXNwZWNpZmljIHF1ZXJpZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW52YWxpZGF0ZVVzZXJRdWVyaWVzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdXNlckludmFsaWRhdGlvbnMgPSBbXG4gICAgICAvLyBVc2VyIHByb2ZpbGUgZGF0YVxuICAgICAgdGhpcy5xdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IFxuICAgICAgICBxdWVyeUtleTogWyd1c2VyLWRhdGEnLCB1c2VySWRdLFxuICAgICAgICBleGFjdDogZmFsc2UgXG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gVXNlciBwcmVmZXJlbmNlc1xuICAgICAgdGhpcy5xdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IFxuICAgICAgICBxdWVyeUtleTogWyd1c2VyLXByZWZlcmVuY2VzJywgdXNlcklkXSxcbiAgICAgICAgZXhhY3Q6IGZhbHNlIFxuICAgICAgfSksXG4gICAgICBcbiAgICAgIC8vIFVzZXIgYWN0aXZpdHlcbiAgICAgIHRoaXMucXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsndXNlci1hY3Rpdml0eScsIHVzZXJJZF0sXG4gICAgICAgIGV4YWN0OiBmYWxzZSBcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBVc2VyIHN0YXRpc3RpY3NcbiAgICAgIHRoaXMucXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsndXNlci1zdGF0cycsIHVzZXJJZF0sXG4gICAgICAgIGV4YWN0OiBmYWxzZSBcbiAgICAgIH0pXG4gICAgXTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKHVzZXJJbnZhbGlkYXRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZhbGlkYXRlIHN0YXRpc3RpY3MgYW5kIGFnZ3JlZ2F0aW9uIHF1ZXJpZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW52YWxpZGF0ZVN0YXRzUXVlcmllcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzdGF0c0ludmFsaWRhdGlvbnMgPSBbXG4gICAgICAvLyBHZW5lcmFsIHRyeS1vbiBzdGF0aXN0aWNzXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3RyeW9uLXN0YXRzJ10sXG4gICAgICAgIGV4YWN0OiBmYWxzZSBcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBVc2FnZSBhbmFseXRpY3NcbiAgICAgIHRoaXMucXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsndXNhZ2UtYW5hbHl0aWNzJ10sXG4gICAgICAgIGV4YWN0OiBmYWxzZSBcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3BlcmZvcm1hbmNlLW1ldHJpY3MnXSxcbiAgICAgICAgZXhhY3Q6IGZhbHNlIFxuICAgICAgfSksXG4gICAgICBcbiAgICAgIC8vIFBvcHVsYXIgaXRlbXMvY29tYmluYXRpb25zXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3BvcHVsYXItaXRlbXMnXSxcbiAgICAgICAgZXhhY3Q6IGZhbHNlIFxuICAgICAgfSlcbiAgICBdO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoc3RhdHNJbnZhbGlkYXRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZhbGlkYXRlIHRhZy1iYXNlZCBxdWVyaWVzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGludmFsaWRhdGVUYWdRdWVyaWVzKHRhZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdGFnSW52YWxpZGF0aW9ucyA9IHRhZ3MubWFwKHRhZyA9PiBcbiAgICAgIHRoaXMucXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsndHJ5b24tYnktdGFnJywgdGFnXSxcbiAgICAgICAgZXhhY3Q6IGZhbHNlIFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gQWxzbyBpbnZhbGlkYXRlIGdlbmVyYWwgdGFnIHF1ZXJpZXNcbiAgICB0YWdJbnZhbGlkYXRpb25zLnB1c2goXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5OiBbJ2F2YWlsYWJsZS10YWdzJ10sXG4gICAgICAgIGV4YWN0OiBmYWxzZSBcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKHRhZ0ludmFsaWRhdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludmFsaWRhdGUgY3VzdG9tIHF1ZXJ5IGtleXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW52YWxpZGF0ZUN1c3RvbVF1ZXJpZXMoY3VzdG9tUXVlcnlLZXlzOiBzdHJpbmdbXVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY3VzdG9tSW52YWxpZGF0aW9ucyA9IGN1c3RvbVF1ZXJ5S2V5cy5tYXAocXVlcnlLZXkgPT4gXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgXG4gICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICBleGFjdDogZmFsc2UgXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChjdXN0b21JbnZhbGlkYXRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVsb2FkIHJlbGF0ZWQgcXVlcmllcyB0aGF0IGFyZSBsaWtlbHkgdG8gYmUgYWNjZXNzZWQgbmV4dFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwcmVsb2FkUmVsYXRlZFF1ZXJpZXMoXG4gICAgdXNlckNvbnRleHQ6IHsgdXNlcklkPzogc3RyaW5nOyB0YWdzPzogc3RyaW5nW10gfSA9IHt9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHByZWxvYWRQcm9taXNlczogUHJvbWlzZTx1bmtub3duPltdID0gW107XG5cbiAgICAvLyBQcmVsb2FkIGhpc3RvcnkgZW50cmllcyAobW9zdCBsaWtlbHkgdG8gYmUgdmlld2VkKVxuICAgIHByZWxvYWRQcm9taXNlcy5wdXNoKFxuICAgICAgdGhpcy5xdWVyeUNsaWVudC5wcmVmZXRjaFF1ZXJ5KHtcbiAgICAgICAgcXVlcnlLZXk6IFsndHJ5b24taGlzdG9yeScsICdlbnRyaWVzJ10sXG4gICAgICAgIHN0YWxlVGltZTogMzAwMDAsIC8vIEZyZXNoIGZvciAzMCBzZWNvbmRzXG4gICAgICAgIGdjVGltZTogNSAqIDYwICogMTAwMCAvLyBLZWVwIGluIGNhY2hlIGZvciA1IG1pbnV0ZXNcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFByZWxvYWQgaGlzdG9yeSBzdGF0c1xuICAgIHByZWxvYWRQcm9taXNlcy5wdXNoKFxuICAgICAgdGhpcy5xdWVyeUNsaWVudC5wcmVmZXRjaFF1ZXJ5KHtcbiAgICAgICAgcXVlcnlLZXk6IFsndHJ5b24taGlzdG9yeScsICdzdGF0cyddLFxuICAgICAgICBzdGFsZVRpbWU6IDYwMDAwLCAvLyBGcmVzaCBmb3IgMSBtaW51dGVcbiAgICAgICAgZ2NUaW1lOiAxMCAqIDYwICogMTAwMCAvLyBLZWVwIGluIGNhY2hlIGZvciAxMCBtaW51dGVzXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBQcmVsb2FkIHVzZXIgZGF0YSBpZiB1c2VySWQgYXZhaWxhYmxlXG4gICAgaWYgKHVzZXJDb250ZXh0LnVzZXJJZCkge1xuICAgICAgcHJlbG9hZFByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMucXVlcnlDbGllbnQucHJlZmV0Y2hRdWVyeSh7XG4gICAgICAgICAgcXVlcnlLZXk6IFsndXNlci1kYXRhJywgdXNlckNvbnRleHQudXNlcklkXSxcbiAgICAgICAgICBzdGFsZVRpbWU6IDYwMDAwLFxuICAgICAgICAgIGdjVGltZTogMTAgKiA2MCAqIDEwMDBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUHJlbG9hZCBwb3B1bGFyIGl0ZW1zXG4gICAgcHJlbG9hZFByb21pc2VzLnB1c2goXG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LnByZWZldGNoUXVlcnkoe1xuICAgICAgICBxdWVyeUtleTogWydwb3B1bGFyLWl0ZW1zJ10sXG4gICAgICAgIHN0YWxlVGltZTogNSAqIDYwICogMTAwMCwgLy8gRnJlc2ggZm9yIDUgbWludXRlc1xuICAgICAgICBnY1RpbWU6IDE1ICogNjAgKiAxMDAwIC8vIEtlZXAgaW4gY2FjaGUgZm9yIDE1IG1pbnV0ZXNcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChwcmVsb2FkUHJvbWlzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNtYXJ0IGNhY2hlIHdhcm1pbmcgYmFzZWQgb24gdXNhZ2UgcGF0dGVybnNcbiAgICovXG4gIGFzeW5jIHdhcm1DYWNoZShcbiAgICBvcHRpb25zOiB7XG4gICAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgICByZWNlbnRUYWdzPzogc3RyaW5nW107XG4gICAgICBwb3B1bGFySXRlbXM/OiB1bmtub3duW107XG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHdhcm11cFByb21pc2VzOiBQcm9taXNlPHVua25vd24+W10gPSBbXTtcblxuICAgIC8vIFdhcm0gdXAgZnJlcXVlbnRseSBhY2Nlc3NlZCBkYXRhIHN0cnVjdHVyZXNcbiAgICBpZiAob3B0aW9ucy5wb3B1bGFySXRlbXM/Lmxlbmd0aCkge1xuICAgICAgb3B0aW9ucy5wb3B1bGFySXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgd2FybXVwUHJvbWlzZXMucHVzaChcbiAgICAgICAgICB0aGlzLnF1ZXJ5Q2xpZW50LnByZWZldGNoUXVlcnkoe1xuICAgICAgICAgICAgcXVlcnlLZXk6IFsnd2FybXVwLWNhY2hlJywgJ3BvcHVsYXInLCBpbmRleF0sXG4gICAgICAgICAgICBxdWVyeUZuOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoaXRlbSksXG4gICAgICAgICAgICBzdGFsZVRpbWU6IDEwICogNjAgKiAxMDAwLCAvLyBGcmVzaCBmb3IgMTAgbWludXRlc1xuICAgICAgICAgICAgZ2NUaW1lOiAzMCAqIDYwICogMTAwMCAvLyBLZWVwIGluIGNhY2hlIGZvciAzMCBtaW51dGVzXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFdhcm0gdXAgdXNlci1zcGVjaWZpYyBmcmVxdWVudGx5IGFjY2Vzc2VkIHF1ZXJpZXNcbiAgICBpZiAob3B0aW9ucy51c2VySWQpIHtcbiAgICAgIHdhcm11cFByb21pc2VzLnB1c2goXG4gICAgICAgIHRoaXMucXVlcnlDbGllbnQucHJlZmV0Y2hRdWVyeSh7XG4gICAgICAgICAgcXVlcnlLZXk6IFsndXNlci1mYXZvcml0ZXMnLCBvcHRpb25zLnVzZXJJZF0sXG4gICAgICAgICAgc3RhbGVUaW1lOiA1ICogNjAgKiAxMDAwLFxuICAgICAgICAgIGdjVGltZTogMjAgKiA2MCAqIDEwMDBcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gV2FybSB1cCByZWNlbnQgdGFnIHF1ZXJpZXNcbiAgICBpZiAob3B0aW9ucy5yZWNlbnRUYWdzPy5sZW5ndGgpIHtcbiAgICAgIG9wdGlvbnMucmVjZW50VGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgIHdhcm11cFByb21pc2VzLnB1c2goXG4gICAgICAgICAgdGhpcy5xdWVyeUNsaWVudC5wcmVmZXRjaFF1ZXJ5KHtcbiAgICAgICAgICAgIHF1ZXJ5S2V5OiBbJ3JlY2VudC1ieS10YWcnLCB0YWddLFxuICAgICAgICAgICAgc3RhbGVUaW1lOiAyICogNjAgKiAxMDAwLCAvLyBGcmVzaCBmb3IgMiBtaW51dGVzXG4gICAgICAgICAgICBnY1RpbWU6IDEwICogNjAgKiAxMDAwXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZCh3YXJtdXBQcm9taXNlcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW51cCBzdGFsZSBjYWNoZSBlbnRyaWVzXG4gICAqL1xuICBhc3luYyBjbGVhbnVwU3RhbGVDYWNoZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBSZW1vdmUgcXVlcmllcyB0aGF0IGhhdmVuJ3QgYmVlbiBhY2Nlc3NlZCBpbiBhIHdoaWxlXG4gICAgdGhpcy5xdWVyeUNsaWVudC5yZW1vdmVRdWVyaWVzKHtcbiAgICAgIHByZWRpY2F0ZTogKHF1ZXJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGxhc3RBY2Nlc3NlZCA9IHF1ZXJ5LnN0YXRlLmRhdGFVcGRhdGVkQXQ7XG4gICAgICAgIGNvbnN0IG9uZUhvdXJBZ28gPSBEYXRlLm5vdygpIC0gNjAgKiA2MCAqIDEwMDA7XG4gICAgICAgIHJldHVybiBsYXN0QWNjZXNzZWQgPCBvbmVIb3VyQWdvO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2xlYW51cCBzcGVjaWZpYyB0ZW1wb3JhcnkgY2FjaGUgZW50cmllc1xuICAgIHRoaXMucXVlcnlDbGllbnQucmVtb3ZlUXVlcmllcyh7XG4gICAgICBxdWVyeUtleTogWyd3YXJtdXAtY2FjaGUnXSxcbiAgICAgIGV4YWN0OiBmYWxzZVxuICAgIH0pO1xuXG4gICAgdGhpcy5xdWVyeUNsaWVudC5yZW1vdmVRdWVyaWVzKHtcbiAgICAgIHF1ZXJ5S2V5OiBbJ3RlbXAnXSxcbiAgICAgIGV4YWN0OiBmYWxzZVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogRGVmYXVsdCBjYWNoZSBpbnZhbGlkYXRpb24gbWFuYWdlciBpbnN0YW5jZVxuICovXG5leHBvcnQgbGV0IGRlZmF1bHRDYWNoZU1hbmFnZXI6IENhY2hlSW52YWxpZGF0aW9uTWFuYWdlciB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIGRlZmF1bHQgY2FjaGUgaW52YWxpZGF0aW9uIG1hbmFnZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVDYWNoZUludmFsaWRhdGlvbihxdWVyeUNsaWVudDogUXVlcnlDbGllbnQpOiBDYWNoZUludmFsaWRhdGlvbk1hbmFnZXIge1xuICBkZWZhdWx0Q2FjaGVNYW5hZ2VyID0gbmV3IENhY2hlSW52YWxpZGF0aW9uTWFuYWdlcihxdWVyeUNsaWVudCk7XG4gIHJldHVybiBkZWZhdWx0Q2FjaGVNYW5hZ2VyO1xufVxuXG4vKipcbiAqIEdldCB0aGUgZGVmYXVsdCBjYWNoZSBpbnZhbGlkYXRpb24gbWFuYWdlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVJbnZhbGlkYXRpb25NYW5hZ2VyKCk6IENhY2hlSW52YWxpZGF0aW9uTWFuYWdlciB7XG4gIGlmICghZGVmYXVsdENhY2hlTWFuYWdlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FjaGVJbnZhbGlkYXRpb25NYW5hZ2VyIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBpbml0aWFsaXplQ2FjaGVJbnZhbGlkYXRpb24gZmlyc3QuJyk7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRDYWNoZU1hbmFnZXI7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcG9zdC1tdXRhdGlvbiBjYWNoZSBpbnZhbGlkYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGludmFsaWRhdGVDYWNoZUFmdGVyTXV0YXRpb24oXG4gIHF1ZXJ5Q2xpZW50OiBRdWVyeUNsaWVudCxcbiAgZGF0YTogVHJ5b25NdXRhdGlvblJlc3BvbnNlLFxuICB2YXJpYWJsZXM6IFRyeW9uTXV0YXRpb25WYXJpYWJsZXMsXG4gIGNvbnRleHQ6IFRyeW9uTXV0YXRpb25Db250ZXh0LFxuICBjb25maWc/OiBDYWNoZUludmFsaWRhdGlvbkNvbmZpZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGNhY2hlTWFuYWdlciA9IGRlZmF1bHRDYWNoZU1hbmFnZXIgfHwgbmV3IENhY2hlSW52YWxpZGF0aW9uTWFuYWdlcihxdWVyeUNsaWVudCk7XG4gIGF3YWl0IGNhY2hlTWFuYWdlci5pbnZhbGlkYXRlQWZ0ZXJTdWNjZXNzKGRhdGEsIHZhcmlhYmxlcywgY29udGV4dCwgY29uZmlnKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciBjcmVhdGluZyBjYWNoZS1hd2FyZSBtdXRhdGlvbiBjYWxsYmFja3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhY2hlQXdhcmVNdXRhdGlvbkNhbGxiYWNrcyhcbiAgcXVlcnlDbGllbnQ6IFF1ZXJ5Q2xpZW50LFxuICBjb25maWc6IENhY2hlSW52YWxpZGF0aW9uQ29uZmlnID0ge31cbikge1xuICBjb25zdCBjYWNoZU1hbmFnZXIgPSBkZWZhdWx0Q2FjaGVNYW5hZ2VyIHx8IG5ldyBDYWNoZUludmFsaWRhdGlvbk1hbmFnZXIocXVlcnlDbGllbnQpO1xuXG4gIHJldHVybiB7XG4gICAgb25TdWNjZXNzOiBhc3luYyAoXG4gICAgICBkYXRhOiBUcnlvbk11dGF0aW9uUmVzcG9uc2UsXG4gICAgICB2YXJpYWJsZXM6IFRyeW9uTXV0YXRpb25WYXJpYWJsZXMsXG4gICAgICBjb250ZXh0OiBUcnlvbk11dGF0aW9uQ29udGV4dFxuICAgICkgPT4ge1xuICAgICAgYXdhaXQgY2FjaGVNYW5hZ2VyLmludmFsaWRhdGVBZnRlclN1Y2Nlc3MoZGF0YSwgdmFyaWFibGVzLCBjb250ZXh0LCBjb25maWcpO1xuICAgIH0sXG5cbiAgICBvbkVycm9yOiBhc3luYyAoXG4gICAgICBlcnJvcjogdW5rbm93bixcbiAgICAgIHZhcmlhYmxlczogVHJ5b25NdXRhdGlvblZhcmlhYmxlcyxcbiAgICAgIGNvbnRleHQ6IFRyeW9uTXV0YXRpb25Db250ZXh0IHwgdW5kZWZpbmVkXG4gICAgKSA9PiB7XG4gICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBhd2FpdCBjYWNoZU1hbmFnZXIuaW52YWxpZGF0ZUFmdGVyRXJyb3IoZXJyb3IsIHZhcmlhYmxlcywgY29udGV4dCwge1xuICAgICAgICAgIGludmFsaWRhdGVIaXN0b3J5OiBmYWxzZSwgLy8gRG9uJ3QgaW52YWxpZGF0ZSBvbiBlcnJvciBieSBkZWZhdWx0XG4gICAgICAgICAgaW52YWxpZGF0ZVVzZXJEYXRhOiBmYWxzZSxcbiAgICAgICAgICAuLi5jb25maWdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSJdLCJuYW1lcyI6WyJDYWNoZUludmFsaWRhdGlvbk1hbmFnZXIiLCJjcmVhdGVDYWNoZUF3YXJlTXV0YXRpb25DYWxsYmFja3MiLCJkZWZhdWx0Q2FjaGVNYW5hZ2VyIiwiZ2V0Q2FjaGVJbnZhbGlkYXRpb25NYW5hZ2VyIiwiaW5pdGlhbGl6ZUNhY2hlSW52YWxpZGF0aW9uIiwiaW52YWxpZGF0ZUNhY2hlQWZ0ZXJNdXRhdGlvbiIsIkRFRkFVTFRfQ0FDSEVfQ09ORklHIiwiaW52YWxpZGF0ZUhpc3RvcnkiLCJpbnZhbGlkYXRlVXNlckRhdGEiLCJpbnZhbGlkYXRlU3RhdHMiLCJpbnZhbGlkYXRlVGFncyIsInByZWxvYWRSZWxhdGVkIiwiY3VzdG9tUXVlcnlLZXlzIiwidXNlckNvbnRleHQiLCJjb25zdHJ1Y3RvciIsInF1ZXJ5Q2xpZW50IiwiaW52YWxpZGF0ZUFmdGVyU3VjY2VzcyIsImRhdGEiLCJ2YXJpYWJsZXMiLCJjb250ZXh0IiwiY29uZmlnIiwibWVyZ2VkQ29uZmlnIiwiaW52YWxpZGF0aW9uUHJvbWlzZXMiLCJwdXNoIiwiaW52YWxpZGF0ZUhpc3RvcnlRdWVyaWVzIiwidXNlcklkIiwiaW52YWxpZGF0ZVVzZXJRdWVyaWVzIiwiaW52YWxpZGF0ZVN0YXRzUXVlcmllcyIsInRhZ3MiLCJsZW5ndGgiLCJpbnZhbGlkYXRlVGFnUXVlcmllcyIsImludmFsaWRhdGVDdXN0b21RdWVyaWVzIiwiUHJvbWlzZSIsImFsbCIsInByZWxvYWRSZWxhdGVkUXVlcmllcyIsImludmFsaWRhdGVBZnRlckVycm9yIiwiZXJyb3IiLCJsaWdodENvbmZpZyIsImhpc3RvcnlJbnZhbGlkYXRpb25zIiwiaW52YWxpZGF0ZVF1ZXJpZXMiLCJxdWVyeUtleSIsImV4YWN0IiwidXNlckludmFsaWRhdGlvbnMiLCJzdGF0c0ludmFsaWRhdGlvbnMiLCJ0YWdJbnZhbGlkYXRpb25zIiwibWFwIiwidGFnIiwiY3VzdG9tSW52YWxpZGF0aW9ucyIsInByZWxvYWRQcm9taXNlcyIsInByZWZldGNoUXVlcnkiLCJzdGFsZVRpbWUiLCJnY1RpbWUiLCJhbGxTZXR0bGVkIiwid2FybUNhY2hlIiwib3B0aW9ucyIsIndhcm11cFByb21pc2VzIiwicG9wdWxhckl0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInF1ZXJ5Rm4iLCJyZXNvbHZlIiwicmVjZW50VGFncyIsImNsZWFudXBTdGFsZUNhY2hlIiwicmVtb3ZlUXVlcmllcyIsInByZWRpY2F0ZSIsInF1ZXJ5IiwibGFzdEFjY2Vzc2VkIiwic3RhdGUiLCJkYXRhVXBkYXRlZEF0Iiwib25lSG91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