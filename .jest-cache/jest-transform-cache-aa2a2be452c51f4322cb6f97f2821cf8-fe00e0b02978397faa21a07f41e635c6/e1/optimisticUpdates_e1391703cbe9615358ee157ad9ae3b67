c048c26a8b0032784f982dc19e7e299e
// Optimistic Updates Manager
// Handles immediate UI feedback and rollback mechanisms for try-on mutations
"use strict";

/* istanbul ignore next */
function cov_1j8tkiv89d() {
  var path = "/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/src/business-layer/utils/optimisticUpdates.ts";
  var hash = "517beb4bcb8ebe0372b219b9e79e8c243b2fd31e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/src/business-layer/utils/optimisticUpdates.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 0
        },
        end: {
          line: 6,
          column: 3
        }
      },
      "1": {
        start: {
          line: 8,
          column: 4
        },
        end: {
          line: 11,
          column: 7
        }
      },
      "2": {
        start: {
          line: 8,
          column: 24
        },
        end: {
          line: 11,
          column: 7
        }
      },
      "3": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 26,
          column: 3
        }
      },
      "4": {
        start: {
          line: 15,
          column: 8
        },
        end: {
          line: 15,
          column: 40
        }
      },
      "5": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 18,
          column: 40
        }
      },
      "6": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 43
        }
      },
      "7": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 24,
          column: 43
        }
      },
      "8": {
        start: {
          line: 27,
          column: 25
        },
        end: {
          line: 27,
          column: 60
        }
      },
      "9": {
        start: {
          line: 30,
          column: 38
        },
        end: {
          line: 36,
          column: 1
        }
      },
      "10": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 39,
          column: 49
        }
      },
      "11": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 39
        }
      },
      "12": {
        start: {
          line: 45,
          column: 29
        },
        end: {
          line: 48,
          column: 9
        }
      },
      "13": {
        start: {
          line: 49,
          column: 29
        },
        end: {
          line: 49,
          column: 98
        }
      },
      "14": {
        start: {
          line: 50,
          column: 24
        },
        end: {
          line: 56,
          column: 9
        }
      },
      "15": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 45
        }
      },
      "16": {
        start: {
          line: 60,
          column: 8
        },
        end: {
          line: 60,
          column: 64
        }
      },
      "17": {
        start: {
          line: 61,
          column: 8
        },
        end: {
          line: 61,
          column: 23
        }
      },
      "18": {
        start: {
          line: 66,
          column: 52
        },
        end: {
          line: 66,
          column: 59
        }
      },
      "19": {
        start: {
          line: 68,
          column: 8
        },
        end: {
          line: 70,
          column: 9
        }
      },
      "20": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 69,
          column: 52
        }
      },
      "21": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 74,
          column: 9
        }
      },
      "22": {
        start: {
          line: 73,
          column: 12
        },
        end: {
          line: 73,
          column: 49
        }
      },
      "23": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 76,
          column: 41
        }
      },
      "24": {
        start: {
          line: 81,
          column: 52
        },
        end: {
          line: 81,
          column: 59
        }
      },
      "25": {
        start: {
          line: 82,
          column: 36
        },
        end: {
          line: 82,
          column: 72
        }
      },
      "26": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 83,
          column: 58
        }
      },
      "27": {
        start: {
          line: 85,
          column: 32
        },
        end: {
          line: 107,
          column: 9
        }
      },
      "28": {
        start: {
          line: 109,
          column: 32
        },
        end: {
          line: 109,
          column: 77
        }
      },
      "29": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 132,
          column: 11
        }
      },
      "30": {
        start: {
          line: 111,
          column: 12
        },
        end: {
          line: 122,
          column: 13
        }
      },
      "31": {
        start: {
          line: 112,
          column: 16
        },
        end: {
          line: 121,
          column: 18
        }
      },
      "32": {
        start: {
          line: 123,
          column: 12
        },
        end: {
          line: 131,
          column: 14
        }
      },
      "33": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 144,
          column: 11
        }
      },
      "34": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 143,
          column: 15
        }
      },
      "35": {
        start: {
          line: 136,
          column: 16
        },
        end: {
          line: 136,
          column: 45
        }
      },
      "36": {
        start: {
          line: 136,
          column: 30
        },
        end: {
          line: 136,
          column: 45
        }
      },
      "37": {
        start: {
          line: 137,
          column: 16
        },
        end: {
          line: 142,
          column: 18
        }
      },
      "38": {
        start: {
          line: 139,
          column: 61
        },
        end: {
          line: 139,
          column: 93
        }
      },
      "39": {
        start: {
          line: 149,
          column: 41
        },
        end: {
          line: 149,
          column: 48
        }
      },
      "40": {
        start: {
          line: 150,
          column: 33
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "41": {
        start: {
          line: 155,
          column: 32
        },
        end: {
          line: 162,
          column: 9
        }
      },
      "42": {
        start: {
          line: 163,
          column: 8
        },
        end: {
          line: 163,
          column: 73
        }
      },
      "43": {
        start: {
          line: 165,
          column: 33
        },
        end: {
          line: 181,
          column: 15
        }
      },
      "44": {
        start: {
          line: 166,
          column: 28
        },
        end: {
          line: 166,
          column: 58
        }
      },
      "45": {
        start: {
          line: 167,
          column: 29
        },
        end: {
          line: 167,
          column: 99
        }
      },
      "46": {
        start: {
          line: 168,
          column: 24
        },
        end: {
          line: 168,
          column: 42
        }
      },
      "47": {
        start: {
          line: 169,
          column: 12
        },
        end: {
          line: 169,
          column: 55
        }
      },
      "48": {
        start: {
          line: 169,
          column: 31
        },
        end: {
          line: 169,
          column: 55
        }
      },
      "49": {
        start: {
          line: 170,
          column: 12
        },
        end: {
          line: 170,
          column: 57
        }
      },
      "50": {
        start: {
          line: 170,
          column: 31
        },
        end: {
          line: 170,
          column: 57
        }
      },
      "51": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 171,
          column: 52
        }
      },
      "52": {
        start: {
          line: 171,
          column: 31
        },
        end: {
          line: 171,
          column: 52
        }
      },
      "53": {
        start: {
          line: 172,
          column: 33
        },
        end: {
          line: 179,
          column: 13
        }
      },
      "54": {
        start: {
          line: 180,
          column: 12
        },
        end: {
          line: 180,
          column: 74
        }
      },
      "55": {
        start: {
          line: 183,
          column: 8
        },
        end: {
          line: 188,
          column: 11
        }
      },
      "56": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 184,
          column: 44
        }
      },
      "57": {
        start: {
          line: 185,
          column: 12
        },
        end: {
          line: 187,
          column: 15
        }
      },
      "58": {
        start: {
          line: 194,
          column: 31
        },
        end: {
          line: 197,
          column: 9
        }
      },
      "59": {
        start: {
          line: 198,
          column: 30
        },
        end: {
          line: 203,
          column: 9
        }
      },
      "60": {
        start: {
          line: 204,
          column: 8
        },
        end: {
          line: 204,
          column: 69
        }
      },
      "61": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 210,
          column: 11
        }
      },
      "62": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 209,
          column: 15
        }
      },
      "63": {
        start: {
          line: 215,
          column: 24
        },
        end: {
          line: 215,
          column: 70
        }
      },
      "64": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 216,
          column: 29
        }
      },
      "65": {
        start: {
          line: 216,
          column: 22
        },
        end: {
          line: 216,
          column: 29
        }
      },
      "66": {
        start: {
          line: 217,
          column: 31
        },
        end: {
          line: 217,
          column: 61
        }
      },
      "67": {
        start: {
          line: 219,
          column: 8
        },
        end: {
          line: 242,
          column: 9
        }
      },
      "68": {
        start: {
          line: 220,
          column: 36
        },
        end: {
          line: 220,
          column: 81
        }
      },
      "69": {
        start: {
          line: 221,
          column: 12
        },
        end: {
          line: 241,
          column: 15
        }
      },
      "70": {
        start: {
          line: 222,
          column: 16
        },
        end: {
          line: 222,
          column: 45
        }
      },
      "71": {
        start: {
          line: 222,
          column: 30
        },
        end: {
          line: 222,
          column: 45
        }
      },
      "72": {
        start: {
          line: 223,
          column: 16
        },
        end: {
          line: 240,
          column: 18
        }
      },
      "73": {
        start: {
          line: 225,
          column: 58
        },
        end: {
          line: 238,
          column: 33
        }
      },
      "74": {
        start: {
          line: 236,
          column: 60
        },
        end: {
          line: 236,
          column: 104
        }
      },
      "75": {
        start: {
          line: 244,
          column: 33
        },
        end: {
          line: 247,
          column: 9
        }
      },
      "76": {
        start: {
          line: 248,
          column: 8
        },
        end: {
          line: 257,
          column: 11
        }
      },
      "77": {
        start: {
          line: 259,
          column: 31
        },
        end: {
          line: 262,
          column: 9
        }
      },
      "78": {
        start: {
          line: 263,
          column: 8
        },
        end: {
          line: 271,
          column: 11
        }
      },
      "79": {
        start: {
          line: 273,
          column: 8
        },
        end: {
          line: 273,
          column: 51
        }
      },
      "80": {
        start: {
          line: 278,
          column: 24
        },
        end: {
          line: 278,
          column: 70
        }
      },
      "81": {
        start: {
          line: 279,
          column: 8
        },
        end: {
          line: 279,
          column: 29
        }
      },
      "82": {
        start: {
          line: 279,
          column: 22
        },
        end: {
          line: 279,
          column: 29
        }
      },
      "83": {
        start: {
          line: 281,
          column: 8
        },
        end: {
          line: 287,
          column: 11
        }
      },
      "84": {
        start: {
          line: 282,
          column: 12
        },
        end: {
          line: 286,
          column: 13
        }
      },
      "85": {
        start: {
          line: 283,
          column: 16
        },
        end: {
          line: 283,
          column: 27
        }
      },
      "86": {
        start: {
          line: 285,
          column: 16
        },
        end: {
          line: 285,
          column: 89
        }
      },
      "87": {
        start: {
          line: 289,
          column: 33
        },
        end: {
          line: 292,
          column: 9
        }
      },
      "88": {
        start: {
          line: 293,
          column: 8
        },
        end: {
          line: 301,
          column: 11
        }
      },
      "89": {
        start: {
          line: 303,
          column: 8
        },
        end: {
          line: 303,
          column: 51
        }
      },
      "90": {
        start: {
          line: 308,
          column: 8
        },
        end: {
          line: 308,
          column: 58
        }
      },
      "91": {
        start: {
          line: 310,
          column: 8
        },
        end: {
          line: 323,
          column: 17
        }
      },
      "92": {
        start: {
          line: 311,
          column: 12
        },
        end: {
          line: 316,
          column: 15
        }
      },
      "93": {
        start: {
          line: 317,
          column: 12
        },
        end: {
          line: 322,
          column: 15
        }
      },
      "94": {
        start: {
          line: 328,
          column: 33
        },
        end: {
          line: 331,
          column: 9
        }
      },
      "95": {
        start: {
          line: 332,
          column: 8
        },
        end: {
          line: 332,
          column: 63
        }
      },
      "96": {
        start: {
          line: 337,
          column: 8
        },
        end: {
          line: 337,
          column: 62
        }
      },
      "97": {
        start: {
          line: 342,
          column: 8
        },
        end: {
          line: 342,
          column: 65
        }
      },
      "98": {
        start: {
          line: 345,
          column: 31
        },
        end: {
          line: 345,
          column: 35
        }
      },
      "99": {
        start: {
          line: 347,
          column: 4
        },
        end: {
          line: 347,
          column: 73
        }
      },
      "100": {
        start: {
          line: 348,
          column: 4
        },
        end: {
          line: 348,
          column: 36
        }
      },
      "101": {
        start: {
          line: 351,
          column: 4
        },
        end: {
          line: 353,
          column: 5
        }
      },
      "102": {
        start: {
          line: 352,
          column: 8
        },
        end: {
          line: 352,
          column: 109
        }
      },
      "103": {
        start: {
          line: 354,
          column: 4
        },
        end: {
          line: 354,
          column: 36
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 16
          }
        },
        loc: {
          start: {
            line: 7,
            column: 30
          },
          end: {
            line: 12,
            column: 1
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 14,
            column: 30
          },
          end: {
            line: 14,
            column: 31
          }
        },
        loc: {
          start: {
            line: 14,
            column: 41
          },
          end: {
            line: 16,
            column: 5
          }
        },
        line: 14
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 17,
            column: 30
          },
          end: {
            line: 17,
            column: 31
          }
        },
        loc: {
          start: {
            line: 17,
            column: 41
          },
          end: {
            line: 19,
            column: 5
          }
        },
        line: 17
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 20,
            column: 33
          },
          end: {
            line: 20,
            column: 34
          }
        },
        loc: {
          start: {
            line: 20,
            column: 44
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 20
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 23,
            column: 33
          },
          end: {
            line: 23,
            column: 34
          }
        },
        loc: {
          start: {
            line: 23,
            column: 44
          },
          end: {
            line: 25,
            column: 5
          }
        },
        line: 23
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 38,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        },
        loc: {
          start: {
            line: 38,
            column: 28
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 38
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 44,
            column: 6
          },
          end: {
            line: 44,
            column: 7
          }
        },
        loc: {
          start: {
            line: 44,
            column: 52
          },
          end: {
            line: 62,
            column: 5
          }
        },
        line: 44
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 65,
            column: 6
          },
          end: {
            line: 65,
            column: 7
          }
        },
        loc: {
          start: {
            line: 65,
            column: 38
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 65
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 80,
            column: 6
          },
          end: {
            line: 80,
            column: 7
          }
        },
        loc: {
          start: {
            line: 80,
            column: 41
          },
          end: {
            line: 145,
            column: 5
          }
        },
        line: 80
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 110,
            column: 55
          },
          end: {
            line: 110,
            column: 56
          }
        },
        loc: {
          start: {
            line: 110,
            column: 66
          },
          end: {
            line: 132,
            column: 9
          }
        },
        line: 110
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 134,
            column: 39
          },
          end: {
            line: 134,
            column: 40
          }
        },
        loc: {
          start: {
            line: 134,
            column: 43
          },
          end: {
            line: 144,
            column: 9
          }
        },
        line: 134
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 135,
            column: 59
          },
          end: {
            line: 135,
            column: 60
          }
        },
        loc: {
          start: {
            line: 135,
            column: 70
          },
          end: {
            line: 143,
            column: 13
          }
        },
        line: 135
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 139,
            column: 52
          },
          end: {
            line: 139,
            column: 53
          }
        },
        loc: {
          start: {
            line: 139,
            column: 61
          },
          end: {
            line: 139,
            column: 93
          }
        },
        line: 139
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 148,
            column: 6
          },
          end: {
            line: 148,
            column: 7
          }
        },
        loc: {
          start: {
            line: 148,
            column: 38
          },
          end: {
            line: 189,
            column: 5
          }
        },
        line: 148
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 165,
            column: 45
          },
          end: {
            line: 165,
            column: 46
          }
        },
        loc: {
          start: {
            line: 165,
            column: 49
          },
          end: {
            line: 181,
            column: 9
          }
        },
        line: 165
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 183,
            column: 39
          },
          end: {
            line: 183,
            column: 40
          }
        },
        loc: {
          start: {
            line: 183,
            column: 43
          },
          end: {
            line: 188,
            column: 9
          }
        },
        line: 183
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 192,
            column: 6
          },
          end: {
            line: 192,
            column: 7
          }
        },
        loc: {
          start: {
            line: 192,
            column: 34
          },
          end: {
            line: 211,
            column: 5
          }
        },
        line: 192
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 206,
            column: 39
          },
          end: {
            line: 206,
            column: 40
          }
        },
        loc: {
          start: {
            line: 206,
            column: 43
          },
          end: {
            line: 210,
            column: 9
          }
        },
        line: 206
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 214,
            column: 6
          },
          end: {
            line: 214,
            column: 7
          }
        },
        loc: {
          start: {
            line: 214,
            column: 70
          },
          end: {
            line: 274,
            column: 5
          }
        },
        line: 214
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 221,
            column: 59
          },
          end: {
            line: 221,
            column: 60
          }
        },
        loc: {
          start: {
            line: 221,
            column: 70
          },
          end: {
            line: 241,
            column: 13
          }
        },
        line: 221
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 225,
            column: 49
          },
          end: {
            line: 225,
            column: 50
          }
        },
        loc: {
          start: {
            line: 225,
            column: 58
          },
          end: {
            line: 238,
            column: 33
          }
        },
        line: 225
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 236,
            column: 53
          },
          end: {
            line: 236,
            column: 54
          }
        },
        loc: {
          start: {
            line: 236,
            column: 60
          },
          end: {
            line: 236,
            column: 104
          }
        },
        line: 236
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 277,
            column: 6
          },
          end: {
            line: 277,
            column: 7
          }
        },
        loc: {
          start: {
            line: 277,
            column: 52
          },
          end: {
            line: 304,
            column: 5
          }
        },
        line: 277
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 281,
            column: 42
          },
          end: {
            line: 281,
            column: 43
          }
        },
        loc: {
          start: {
            line: 281,
            column: 54
          },
          end: {
            line: 287,
            column: 9
          }
        },
        line: 281
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 307,
            column: 6
          },
          end: {
            line: 307,
            column: 7
          }
        },
        loc: {
          start: {
            line: 307,
            column: 44
          },
          end: {
            line: 324,
            column: 5
          }
        },
        line: 307
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 310,
            column: 19
          },
          end: {
            line: 310,
            column: 20
          }
        },
        loc: {
          start: {
            line: 310,
            column: 23
          },
          end: {
            line: 323,
            column: 9
          }
        },
        line: 310
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 327,
            column: 6
          },
          end: {
            line: 327,
            column: 7
          }
        },
        loc: {
          start: {
            line: 327,
            column: 42
          },
          end: {
            line: 333,
            column: 5
          }
        },
        line: 327
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 336,
            column: 6
          },
          end: {
            line: 336,
            column: 7
          }
        },
        loc: {
          start: {
            line: 336,
            column: 45
          },
          end: {
            line: 338,
            column: 5
          }
        },
        line: 336
      },
      "28": {
        name: "(anonymous_28)",
        decl: {
          start: {
            line: 341,
            column: 6
          },
          end: {
            line: 341,
            column: 7
          }
        },
        loc: {
          start: {
            line: 341,
            column: 35
          },
          end: {
            line: 343,
            column: 5
          }
        },
        line: 341
      },
      "29": {
        name: "initializeOptimisticUpdates",
        decl: {
          start: {
            line: 346,
            column: 9
          },
          end: {
            line: 346,
            column: 36
          }
        },
        loc: {
          start: {
            line: 346,
            column: 50
          },
          end: {
            line: 349,
            column: 1
          }
        },
        line: 346
      },
      "30": {
        name: "getOptimisticUpdatesManager",
        decl: {
          start: {
            line: 350,
            column: 9
          },
          end: {
            line: 350,
            column: 36
          }
        },
        loc: {
          start: {
            line: 350,
            column: 39
          },
          end: {
            line: 355,
            column: 1
          }
        },
        line: 350
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 44,
            column: 39
          },
          end: {
            line: 44,
            column: 50
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 44,
            column: 48
          },
          end: {
            line: 44,
            column: 50
          }
        }],
        line: 44
      },
      "1": {
        loc: {
          start: {
            line: 68,
            column: 8
          },
          end: {
            line: 70,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 68,
            column: 8
          },
          end: {
            line: 70,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 68
      },
      "2": {
        loc: {
          start: {
            line: 72,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "3": {
        loc: {
          start: {
            line: 88,
            column: 28
          },
          end: {
            line: 88,
            column: 101
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 88,
            column: 28
          },
          end: {
            line: 88,
            column: 53
          }
        }, {
          start: {
            line: 88,
            column: 57
          },
          end: {
            line: 88,
            column: 101
          }
        }],
        line: 88
      },
      "4": {
        loc: {
          start: {
            line: 111,
            column: 12
          },
          end: {
            line: 122,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 111,
            column: 12
          },
          end: {
            line: 122,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 111
      },
      "5": {
        loc: {
          start: {
            line: 136,
            column: 16
          },
          end: {
            line: 136,
            column: 45
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 16
          },
          end: {
            line: 136,
            column: 45
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "6": {
        loc: {
          start: {
            line: 167,
            column: 53
          },
          end: {
            line: 167,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 167,
            column: 53
          },
          end: {
            line: 167,
            column: 83
          }
        }, {
          start: {
            line: 167,
            column: 87
          },
          end: {
            line: 167,
            column: 91
          }
        }],
        line: 167
      },
      "7": {
        loc: {
          start: {
            line: 169,
            column: 12
          },
          end: {
            line: 169,
            column: 55
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 169,
            column: 12
          },
          end: {
            line: 169,
            column: 55
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 169
      },
      "8": {
        loc: {
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 170,
            column: 57
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 170,
            column: 57
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 170
      },
      "9": {
        loc: {
          start: {
            line: 171,
            column: 12
          },
          end: {
            line: 171,
            column: 52
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 171,
            column: 12
          },
          end: {
            line: 171,
            column: 52
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 171
      },
      "10": {
        loc: {
          start: {
            line: 177,
            column: 53
          },
          end: {
            line: 177,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 177,
            column: 53
          },
          end: {
            line: 177,
            column: 83
          }
        }, {
          start: {
            line: 177,
            column: 87
          },
          end: {
            line: 177,
            column: 91
          }
        }],
        line: 177
      },
      "11": {
        loc: {
          start: {
            line: 216,
            column: 8
          },
          end: {
            line: 216,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 216,
            column: 8
          },
          end: {
            line: 216,
            column: 29
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 216
      },
      "12": {
        loc: {
          start: {
            line: 219,
            column: 8
          },
          end: {
            line: 242,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 219,
            column: 8
          },
          end: {
            line: 242,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 219
      },
      "13": {
        loc: {
          start: {
            line: 222,
            column: 16
          },
          end: {
            line: 222,
            column: 45
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 222,
            column: 16
          },
          end: {
            line: 222,
            column: 45
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 222
      },
      "14": {
        loc: {
          start: {
            line: 225,
            column: 58
          },
          end: {
            line: 238,
            column: 33
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 225,
            column: 101
          },
          end: {
            line: 238,
            column: 25
          }
        }, {
          start: {
            line: 238,
            column: 28
          },
          end: {
            line: 238,
            column: 33
          }
        }],
        line: 225
      },
      "15": {
        loc: {
          start: {
            line: 236,
            column: 34
          },
          end: {
            line: 236,
            column: 111
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 236,
            column: 34
          },
          end: {
            line: 236,
            column: 105
          }
        }, {
          start: {
            line: 236,
            column: 109
          },
          end: {
            line: 236,
            column: 111
          }
        }],
        line: 236
      },
      "16": {
        loc: {
          start: {
            line: 236,
            column: 60
          },
          end: {
            line: 236,
            column: 104
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 236,
            column: 60
          },
          end: {
            line: 236,
            column: 80
          }
        }, {
          start: {
            line: 236,
            column: 84
          },
          end: {
            line: 236,
            column: 104
          }
        }],
        line: 236
      },
      "17": {
        loc: {
          start: {
            line: 279,
            column: 8
          },
          end: {
            line: 279,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 279,
            column: 8
          },
          end: {
            line: 279,
            column: 29
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 279
      },
      "18": {
        loc: {
          start: {
            line: 300,
            column: 19
          },
          end: {
            line: 300,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 300,
            column: 44
          },
          end: {
            line: 300,
            column: 57
          }
        }, {
          start: {
            line: 300,
            column: 60
          },
          end: {
            line: 300,
            column: 73
          }
        }],
        line: 300
      },
      "19": {
        loc: {
          start: {
            line: 351,
            column: 4
          },
          end: {
            line: 353,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 351,
            column: 4
          },
          end: {
            line: 353,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 351
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/src/business-layer/utils/optimisticUpdates.ts"],
      sourcesContent: ["// Optimistic Updates Manager\n// Handles immediate UI feedback and rollback mechanisms for try-on mutations\n\nimport { QueryClient } from '@tanstack/react-query';\nimport type {\n  TryonMutationVariables,\n  TryonMutationResponse,\n  TryonMutationContext\n} from '../types/tryon.types';\nimport type {\n  TryonHistoryEntry,\n  TryonHistoryCollection\n} from '../types/history.types';\nimport { HISTORY_QUERY_KEYS } from '../hooks/useTryonHistory';\n\n/**\n * Configuration for optimistic updates\n */\nexport interface OptimisticUpdateConfig {\n  /** Whether to show immediate preview of generated image */\n  showPreview?: boolean;\n  /** Whether to add optimistic entry to history */\n  updateHistory?: boolean;\n  /** Whether to show loading progress indicators */\n  showProgress?: boolean;\n  /** Custom preview image to show during processing */\n  previewPlaceholder?: string;\n  /** Estimated processing time for progress calculation */\n  estimatedProcessingTime?: number;\n}\n\n/**\n * Default optimistic update configuration\n */\nconst DEFAULT_OPTIMISTIC_CONFIG: Required<OptimisticUpdateConfig> = {\n  showPreview: true,\n  updateHistory: true,\n  showProgress: true,\n  previewPlaceholder: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxNTM2IiB2aWV3Qm94PSIwIDAgMTAyNCAxNTM2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxNTM2IiBmaWxsPSIjZjNmNGY2Ii8+CjxjaXJjbGUgY3g9IjUxMiIgY3k9Ijc2OCIgcj0iNjQiIGZpbGw9IiNkMWQ1ZGIiLz4KPHN2ZyBpZD0ic3Bpbm5lciIgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiB2aWV3Qm94PSIwIDAgNjQgNjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjMyIiBjeT0iMzIiIHI9IjI0IiBzdHJva2U9IiM2MzY2ZjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxNTAuNzk2NDQ3MzcyMTAwMiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1MC43OTY0NDczNzIxMDAwMiI+CjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiB2YWx1ZXM9IjAgMzIgMzI7MzYwIDMyIDMyIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPgo8L2NpcmNsZT4KPC9zdmc+', // Loading spinner SVG\n  estimatedProcessingTime: 8000 // 8 seconds\n};\n\n/**\n * Context for tracking optimistic updates\n */\nexport interface OptimisticUpdateContext {\n  /** Unique identifier for this optimistic update */\n  optimisticId: string;\n  /** Original mutation variables */\n  variables: TryonMutationVariables;\n  /** Configuration used */\n  config: OptimisticUpdateConfig;\n  /** Start time for progress calculation */\n  startTime: number;\n  /** Optimistic history entry ID if created */\n  optimisticHistoryId?: string;\n  /** Rollback functions */\n  rollbackFunctions: Array<() => void>;\n}\n\n/**\n * Optimistic updates manager class\n */\nexport class OptimisticUpdatesManager {\n  private queryClient: QueryClient;\n  private activeOptimisticUpdates = new Map<string, OptimisticUpdateContext>();\n\n  constructor(queryClient: QueryClient) {\n    this.queryClient = queryClient;\n  }\n\n  /**\n   * Start optimistic updates for a try-on mutation\n   */\n  startOptimisticUpdate(\n    variables: TryonMutationVariables,\n    config: OptimisticUpdateConfig = {}\n  ): OptimisticUpdateContext {\n    const mergedConfig = { ...DEFAULT_OPTIMISTIC_CONFIG, ...config };\n    const optimisticId = `optimistic_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    \n    const context: OptimisticUpdateContext = {\n      optimisticId,\n      variables,\n      config: mergedConfig,\n      startTime: Date.now(),\n      rollbackFunctions: []\n    };\n\n    // Apply optimistic updates\n    this.applyOptimisticUpdates(context);\n    \n    // Store context for potential rollback\n    this.activeOptimisticUpdates.set(optimisticId, context);\n\n    return context;\n  }\n\n  /**\n   * Apply optimistic updates to the cache\n   */\n  private applyOptimisticUpdates(context: OptimisticUpdateContext): void {\n    const { variables, config, optimisticId } = context;\n\n    // 1. Add optimistic history entry if enabled\n    if (config.updateHistory) {\n      this.addOptimisticHistoryEntry(context);\n    }\n\n    // 2. Set up progress indicator data if enabled\n    if (config.showProgress) {\n      this.setupProgressIndicator(context);\n    }\n\n    // 3. Pre-cache expected result structure\n    this.setupResultCaching(context);\n  }\n\n  /**\n   * Add optimistic history entry\n   */\n  private addOptimisticHistoryEntry(context: OptimisticUpdateContext): void {\n    const { variables, config, optimisticId } = context;\n    \n    const optimisticHistoryId = `optimistic_history_${optimisticId}`;\n    context.optimisticHistoryId = optimisticHistoryId;\n\n    // Create optimistic history entry\n    const optimisticEntry: TryonHistoryEntry = {\n      id: optimisticHistoryId,\n      timestamp: new Date().toISOString(),\n      generatedImage: config.previewPlaceholder || DEFAULT_OPTIMISTIC_CONFIG.previewPlaceholder,\n      modelImage: variables.modelImage,\n      apparelImages: variables.apparelImages,\n      processingTime: undefined, // Will be updated on completion\n      metadata: {\n        processingConfig: {\n          imageProcessing: variables.options?.imageProcessing,\n          requestOptions: {\n            timeout: variables.options?.timeout,\n            quality: variables.options?.quality\n          }\n        }\n      },\n      tags: ['processing', 'optimistic'],\n      notes: 'Processing...',\n      isFavorite: false\n    };\n\n    // Update history cache optimistically\n    const historyQueryKey = HISTORY_QUERY_KEYS.entries();\n    this.queryClient.setQueryData<TryonHistoryCollection>(\n      historyQueryKey,\n      (oldData) => {\n        if (!oldData) {\n          return {\n            entries: [optimisticEntry],\n            totalCount: 1,\n            currentPage: 0,\n            pageSize: 20,\n            hasMore: false,\n            lastUpdated: new Date().toISOString()\n          };\n        }\n\n        return {\n          ...oldData,\n          entries: [optimisticEntry, ...oldData.entries],\n          totalCount: oldData.totalCount + 1,\n          lastUpdated: new Date().toISOString()\n        };\n      }\n    );\n\n    // Add rollback function\n    context.rollbackFunctions.push(() => {\n      this.queryClient.setQueryData<TryonHistoryCollection>(\n        historyQueryKey,\n        (oldData) => {\n          if (!oldData) return oldData;\n          \n          return {\n            ...oldData,\n            entries: oldData.entries.filter(entry => entry.id !== optimisticHistoryId),\n            totalCount: Math.max(0, oldData.totalCount - 1),\n            lastUpdated: new Date().toISOString()\n          };\n        }\n      );\n    });\n  }\n\n  /**\n   * Set up progress indicator data\n   */\n  private setupProgressIndicator(context: OptimisticUpdateContext): void {\n    const { optimisticId, config } = context;\n    const progressQueryKey = ['tryon-progress', optimisticId];\n\n    // Initialize progress data\n    const initialProgress = {\n      id: optimisticId,\n      status: 'processing' as const,\n      progress: 0,\n      stage: 'image-processing' as const,\n      estimatedTimeRemaining: config.estimatedProcessingTime,\n      startTime: context.startTime\n    };\n\n    this.queryClient.setQueryData(progressQueryKey, initialProgress);\n\n    // Simulate progress updates\n    const progressInterval = setInterval(() => {\n      const elapsed = Date.now() - context.startTime;\n      const progress = Math.min(90, (elapsed / (config.estimatedProcessingTime || 8000)) * 100);\n      \n      let stage: string = 'image-processing';\n      if (progress > 20) stage = 'ai-generation';\n      if (progress > 60) stage = 'post-processing';\n      if (progress > 80) stage = 'finalizing';\n\n      const progressData = {\n        id: optimisticId,\n        status: 'processing' as const,\n        progress,\n        stage,\n        estimatedTimeRemaining: Math.max(0, (config.estimatedProcessingTime || 8000) - elapsed),\n        startTime: context.startTime\n      };\n\n      this.queryClient.setQueryData(progressQueryKey, progressData);\n    }, 500);\n\n    // Add rollback function to clear progress\n    context.rollbackFunctions.push(() => {\n      clearInterval(progressInterval);\n      this.queryClient.removeQueries({ queryKey: progressQueryKey });\n    });\n  }\n\n  /**\n   * Set up result caching structure\n   */\n  private setupResultCaching(context: OptimisticUpdateContext): void {\n    // Pre-populate the cache structure for the expected result\n    const resultQueryKey = ['tryon-result', context.optimisticId];\n    \n    const pendingResult = {\n      id: context.optimisticId,\n      status: 'pending' as const,\n      variables: context.variables,\n      startTime: context.startTime\n    };\n\n    this.queryClient.setQueryData(resultQueryKey, pendingResult);\n\n    // Add rollback function\n    context.rollbackFunctions.push(() => {\n      this.queryClient.removeQueries({ queryKey: resultQueryKey });\n    });\n  }\n\n  /**\n   * Complete optimistic update with actual result\n   */\n  completeOptimisticUpdate(\n    optimisticId: string,\n    result: TryonMutationResponse,\n    mutationContext: TryonMutationContext\n  ): void {\n    const context = this.activeOptimisticUpdates.get(optimisticId);\n    if (!context) return;\n\n    const processingTime = Date.now() - context.startTime;\n\n    // Update history entry if it was created optimistically\n    if (context.optimisticHistoryId) {\n      const historyQueryKey = HISTORY_QUERY_KEYS.entries();\n      this.queryClient.setQueryData<TryonHistoryCollection>(\n        historyQueryKey,\n        (oldData) => {\n          if (!oldData) return oldData;\n\n          return {\n            ...oldData,\n            entries: oldData.entries.map(entry => \n              entry.id === context.optimisticHistoryId\n                ? {\n                    ...entry,\n                    id: `completed_${Date.now()}`, // Generate new real ID\n                    generatedImage: result.img_generated,\n                    processingTime,\n                    metadata: {\n                      ...entry.metadata,\n                      modelVersion: result.metadata?.modelVersion,\n                      appliedQuality: result.metadata?.appliedQuality,\n                      imageProcessingResults: mutationContext.imageProcessingResults\n                    },\n                    tags: entry.tags?.filter(tag => tag !== 'processing' && tag !== 'optimistic') || [],\n                    notes: `Completed in ${(processingTime / 1000).toFixed(1)}s`\n                  }\n                : entry\n            ),\n            lastUpdated: new Date().toISOString()\n          };\n        }\n      );\n    }\n\n    // Update progress to completion\n    const progressQueryKey = ['tryon-progress', optimisticId];\n    this.queryClient.setQueryData(progressQueryKey, {\n      id: optimisticId,\n      status: 'completed' as const,\n      progress: 100,\n      stage: 'completed',\n      estimatedTimeRemaining: 0,\n      startTime: context.startTime,\n      completedAt: Date.now(),\n      result\n    });\n\n    // Update result cache\n    const resultQueryKey = ['tryon-result', optimisticId];\n    this.queryClient.setQueryData(resultQueryKey, {\n      id: optimisticId,\n      status: 'completed' as const,\n      variables: context.variables,\n      startTime: context.startTime,\n      completedAt: Date.now(),\n      processingTime,\n      result\n    });\n\n    // Clean up\n    this.cleanupOptimisticUpdate(optimisticId);\n  }\n\n  /**\n   * Rollback optimistic update on failure\n   */\n  rollbackOptimisticUpdate(optimisticId: string, error?: unknown): void {\n    const context = this.activeOptimisticUpdates.get(optimisticId);\n    if (!context) return;\n\n    // Execute all rollback functions\n    context.rollbackFunctions.forEach(rollback => {\n      try {\n        rollback();\n      } catch (rollbackError) {\n        console.error('Error during optimistic update rollback:', rollbackError);\n      }\n    });\n\n    // Update progress to error state\n    const progressQueryKey = ['tryon-progress', optimisticId];\n    this.queryClient.setQueryData(progressQueryKey, {\n      id: optimisticId,\n      status: 'error' as const,\n      progress: 0,\n      stage: 'error',\n      estimatedTimeRemaining: 0,\n      startTime: context.startTime,\n      error: error instanceof Error ? error.message : String(error)\n    });\n\n    // Clean up\n    this.cleanupOptimisticUpdate(optimisticId);\n  }\n\n  /**\n   * Clean up optimistic update context\n   */\n  private cleanupOptimisticUpdate(optimisticId: string): void {\n    this.activeOptimisticUpdates.delete(optimisticId);\n    \n    // Schedule cleanup of progress and result caches after a delay\n    setTimeout(() => {\n      this.queryClient.removeQueries({ \n        queryKey: ['tryon-progress', optimisticId] \n      });\n      this.queryClient.removeQueries({ \n        queryKey: ['tryon-result', optimisticId] \n      });\n    }, 5000); // Keep for 5 seconds for UI transitions\n  }\n\n  /**\n   * Get current progress for an optimistic update\n   */\n  getOptimisticProgress(optimisticId: string) {\n    const progressQueryKey = ['tryon-progress', optimisticId];\n    return this.queryClient.getQueryData(progressQueryKey);\n  }\n\n  /**\n   * Check if an optimistic update is active\n   */\n  isOptimisticUpdateActive(optimisticId: string): boolean {\n    return this.activeOptimisticUpdates.has(optimisticId);\n  }\n\n  /**\n   * Get all active optimistic updates\n   */\n  getActiveOptimisticUpdates(): OptimisticUpdateContext[] {\n    return Array.from(this.activeOptimisticUpdates.values());\n  }\n}\n\n/**\n * Default optimistic updates manager instance\n */\nexport let defaultOptimisticManager: OptimisticUpdatesManager | null = null;\n\n/**\n * Initialize the default optimistic updates manager\n */\nexport function initializeOptimisticUpdates(queryClient: QueryClient): OptimisticUpdatesManager {\n  defaultOptimisticManager = new OptimisticUpdatesManager(queryClient);\n  return defaultOptimisticManager;\n}\n\n/**\n * Get the default optimistic updates manager\n */\nexport function getOptimisticUpdatesManager(): OptimisticUpdatesManager {\n  if (!defaultOptimisticManager) {\n    throw new Error('OptimisticUpdatesManager not initialized. Call initializeOptimisticUpdates first.');\n  }\n  return defaultOptimisticManager;\n}"],
      names: ["OptimisticUpdatesManager", "defaultOptimisticManager", "getOptimisticUpdatesManager", "initializeOptimisticUpdates", "DEFAULT_OPTIMISTIC_CONFIG", "showPreview", "updateHistory", "showProgress", "previewPlaceholder", "estimatedProcessingTime", "constructor", "queryClient", "activeOptimisticUpdates", "Map", "startOptimisticUpdate", "variables", "config", "mergedConfig", "optimisticId", "Date", "now", "Math", "random", "toString", "substr", "context", "startTime", "rollbackFunctions", "applyOptimisticUpdates", "set", "addOptimisticHistoryEntry", "setupProgressIndicator", "setupResultCaching", "optimisticHistoryId", "optimisticEntry", "id", "timestamp", "toISOString", "generatedImage", "modelImage", "apparelImages", "processingTime", "undefined", "metadata", "processingConfig", "imageProcessing", "options", "requestOptions", "timeout", "quality", "tags", "notes", "isFavorite", "historyQueryKey", "HISTORY_QUERY_KEYS", "entries", "setQueryData", "oldData", "totalCount", "currentPage", "pageSize", "hasMore", "lastUpdated", "push", "filter", "entry", "max", "progressQueryKey", "initialProgress", "status", "progress", "stage", "estimatedTimeRemaining", "progressInterval", "setInterval", "elapsed", "min", "progressData", "clearInterval", "removeQueries", "queryKey", "resultQueryKey", "pendingResult", "completeOptimisticUpdate", "result", "mutationContext", "get", "map", "img_generated", "modelVersion", "appliedQuality", "imageProcessingResults", "tag", "toFixed", "completedAt", "cleanupOptimisticUpdate", "rollbackOptimisticUpdate", "error", "forEach", "rollback", "rollbackError", "console", "Error", "message", "String", "delete", "setTimeout", "getOptimisticProgress", "getQueryData", "isOptimisticUpdateActive", "has", "getActiveOptimisticUpdates", "Array", "from", "values"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "517beb4bcb8ebe0372b219b9e79e8c243b2fd31e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1j8tkiv89d = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1j8tkiv89d();
cov_1j8tkiv89d().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1j8tkiv89d().f[0]++;
  cov_1j8tkiv89d().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_1j8tkiv89d().s[3]++;
_export(exports, {
  OptimisticUpdatesManager: function () {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[1]++;
    cov_1j8tkiv89d().s[4]++;
    return OptimisticUpdatesManager;
  },
  defaultOptimisticManager: function () {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[2]++;
    cov_1j8tkiv89d().s[5]++;
    return defaultOptimisticManager;
  },
  getOptimisticUpdatesManager: function () {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[3]++;
    cov_1j8tkiv89d().s[6]++;
    return getOptimisticUpdatesManager;
  },
  initializeOptimisticUpdates: function () {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[4]++;
    cov_1j8tkiv89d().s[7]++;
    return initializeOptimisticUpdates;
  }
});
const _useTryonHistory =
/* istanbul ignore next */
(cov_1j8tkiv89d().s[8]++, require("../hooks/useTryonHistory"));
/**
 * Default optimistic update configuration
 */
const DEFAULT_OPTIMISTIC_CONFIG =
/* istanbul ignore next */
(cov_1j8tkiv89d().s[9]++, {
  showPreview: true,
  updateHistory: true,
  showProgress: true,
  previewPlaceholder: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxNTM2IiB2aWV3Qm94PSIwIDAgMTAyNCAxNTM2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxNTM2IiBmaWxsPSIjZjNmNGY2Ii8+CjxjaXJjbGUgY3g9IjUxMiIgY3k9Ijc2OCIgcj0iNjQiIGZpbGw9IiNkMWQ1ZGIiLz4KPHN2ZyBpZD0ic3Bpbm5lciIgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiB2aWV3Qm94PSIwIDAgNjQgNjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjMyIiBjeT0iMzIiIHI9IjI0IiBzdHJva2U9IiM2MzY2ZjEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxNTAuNzk2NDQ3MzcyMTAwMiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1MC43OTY0NDczNzIxMDAwMiI+CjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiB2YWx1ZXM9IjAgMzIgMzI7MzYwIDMyIDMyIiBkdXI9IjFzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPgo8L2NpcmNsZT4KPC9zdmc+',
  estimatedProcessingTime: 8000 // 8 seconds
});
class OptimisticUpdatesManager {
  constructor(queryClient) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[5]++;
    cov_1j8tkiv89d().s[10]++;
    this.activeOptimisticUpdates = new Map();
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[11]++;
    this.queryClient = queryClient;
  }
  /**
  * Start optimistic updates for a try-on mutation
  */
  startOptimisticUpdate(variables, config =
  /* istanbul ignore next */
  (cov_1j8tkiv89d().b[0][0]++, {})) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[6]++;
    const mergedConfig =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[12]++, {
      ...DEFAULT_OPTIMISTIC_CONFIG,
      ...config
    });
    const optimisticId =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[13]++, `optimistic_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`);
    const context =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[14]++, {
      optimisticId,
      variables,
      config: mergedConfig,
      startTime: Date.now(),
      rollbackFunctions: []
    });
    // Apply optimistic updates
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[15]++;
    this.applyOptimisticUpdates(context);
    // Store context for potential rollback
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[16]++;
    this.activeOptimisticUpdates.set(optimisticId, context);
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[17]++;
    return context;
  }
  /**
  * Apply optimistic updates to the cache
  */
  applyOptimisticUpdates(context) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[7]++;
    const {
      variables,
      config,
      optimisticId
    } =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[18]++, context);
    // 1. Add optimistic history entry if enabled
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[19]++;
    if (config.updateHistory) {
      /* istanbul ignore next */
      cov_1j8tkiv89d().b[1][0]++;
      cov_1j8tkiv89d().s[20]++;
      this.addOptimisticHistoryEntry(context);
    } else
    /* istanbul ignore next */
    {
      cov_1j8tkiv89d().b[1][1]++;
    }
    // 2. Set up progress indicator data if enabled
    cov_1j8tkiv89d().s[21]++;
    if (config.showProgress) {
      /* istanbul ignore next */
      cov_1j8tkiv89d().b[2][0]++;
      cov_1j8tkiv89d().s[22]++;
      this.setupProgressIndicator(context);
    } else
    /* istanbul ignore next */
    {
      cov_1j8tkiv89d().b[2][1]++;
    }
    // 3. Pre-cache expected result structure
    cov_1j8tkiv89d().s[23]++;
    this.setupResultCaching(context);
  }
  /**
  * Add optimistic history entry
  */
  addOptimisticHistoryEntry(context) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[8]++;
    const {
      variables,
      config,
      optimisticId
    } =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[24]++, context);
    const optimisticHistoryId =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[25]++, `optimistic_history_${optimisticId}`);
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[26]++;
    context.optimisticHistoryId = optimisticHistoryId;
    // Create optimistic history entry
    const optimisticEntry =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[27]++, {
      id: optimisticHistoryId,
      timestamp: new Date().toISOString(),
      generatedImage:
      /* istanbul ignore next */
      (cov_1j8tkiv89d().b[3][0]++, config.previewPlaceholder) ||
      /* istanbul ignore next */
      (cov_1j8tkiv89d().b[3][1]++, DEFAULT_OPTIMISTIC_CONFIG.previewPlaceholder),
      modelImage: variables.modelImage,
      apparelImages: variables.apparelImages,
      processingTime: undefined,
      metadata: {
        processingConfig: {
          imageProcessing: variables.options?.imageProcessing,
          requestOptions: {
            timeout: variables.options?.timeout,
            quality: variables.options?.quality
          }
        }
      },
      tags: ['processing', 'optimistic'],
      notes: 'Processing...',
      isFavorite: false
    });
    // Update history cache optimistically
    const historyQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[28]++, _useTryonHistory.HISTORY_QUERY_KEYS.entries());
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[29]++;
    this.queryClient.setQueryData(historyQueryKey, oldData => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[9]++;
      cov_1j8tkiv89d().s[30]++;
      if (!oldData) {
        /* istanbul ignore next */
        cov_1j8tkiv89d().b[4][0]++;
        cov_1j8tkiv89d().s[31]++;
        return {
          entries: [optimisticEntry],
          totalCount: 1,
          currentPage: 0,
          pageSize: 20,
          hasMore: false,
          lastUpdated: new Date().toISOString()
        };
      } else
      /* istanbul ignore next */
      {
        cov_1j8tkiv89d().b[4][1]++;
      }
      cov_1j8tkiv89d().s[32]++;
      return {
        ...oldData,
        entries: [optimisticEntry, ...oldData.entries],
        totalCount: oldData.totalCount + 1,
        lastUpdated: new Date().toISOString()
      };
    });
    // Add rollback function
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[33]++;
    context.rollbackFunctions.push(() => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[10]++;
      cov_1j8tkiv89d().s[34]++;
      this.queryClient.setQueryData(historyQueryKey, oldData => {
        /* istanbul ignore next */
        cov_1j8tkiv89d().f[11]++;
        cov_1j8tkiv89d().s[35]++;
        if (!oldData) {
          /* istanbul ignore next */
          cov_1j8tkiv89d().b[5][0]++;
          cov_1j8tkiv89d().s[36]++;
          return oldData;
        } else
        /* istanbul ignore next */
        {
          cov_1j8tkiv89d().b[5][1]++;
        }
        cov_1j8tkiv89d().s[37]++;
        return {
          ...oldData,
          entries: oldData.entries.filter(entry => {
            /* istanbul ignore next */
            cov_1j8tkiv89d().f[12]++;
            cov_1j8tkiv89d().s[38]++;
            return entry.id !== optimisticHistoryId;
          }),
          totalCount: Math.max(0, oldData.totalCount - 1),
          lastUpdated: new Date().toISOString()
        };
      });
    });
  }
  /**
  * Set up progress indicator data
  */
  setupProgressIndicator(context) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[13]++;
    const {
      optimisticId,
      config
    } =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[39]++, context);
    const progressQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[40]++, ['tryon-progress', optimisticId]);
    // Initialize progress data
    const initialProgress =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[41]++, {
      id: optimisticId,
      status: 'processing',
      progress: 0,
      stage: 'image-processing',
      estimatedTimeRemaining: config.estimatedProcessingTime,
      startTime: context.startTime
    });
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[42]++;
    this.queryClient.setQueryData(progressQueryKey, initialProgress);
    // Simulate progress updates
    const progressInterval =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[43]++, setInterval(() => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[14]++;
      const elapsed =
      /* istanbul ignore next */
      (cov_1j8tkiv89d().s[44]++, Date.now() - context.startTime);
      const progress =
      /* istanbul ignore next */
      (cov_1j8tkiv89d().s[45]++, Math.min(90, elapsed / (
      /* istanbul ignore next */
      (cov_1j8tkiv89d().b[6][0]++, config.estimatedProcessingTime) ||
      /* istanbul ignore next */
      (cov_1j8tkiv89d().b[6][1]++, 8000)) * 100));
      let stage =
      /* istanbul ignore next */
      (cov_1j8tkiv89d().s[46]++, 'image-processing');
      /* istanbul ignore next */
      cov_1j8tkiv89d().s[47]++;
      if (progress > 20) {
        /* istanbul ignore next */
        cov_1j8tkiv89d().b[7][0]++;
        cov_1j8tkiv89d().s[48]++;
        stage = 'ai-generation';
      } else
      /* istanbul ignore next */
      {
        cov_1j8tkiv89d().b[7][1]++;
      }
      cov_1j8tkiv89d().s[49]++;
      if (progress > 60) {
        /* istanbul ignore next */
        cov_1j8tkiv89d().b[8][0]++;
        cov_1j8tkiv89d().s[50]++;
        stage = 'post-processing';
      } else
      /* istanbul ignore next */
      {
        cov_1j8tkiv89d().b[8][1]++;
      }
      cov_1j8tkiv89d().s[51]++;
      if (progress > 80) {
        /* istanbul ignore next */
        cov_1j8tkiv89d().b[9][0]++;
        cov_1j8tkiv89d().s[52]++;
        stage = 'finalizing';
      } else
      /* istanbul ignore next */
      {
        cov_1j8tkiv89d().b[9][1]++;
      }
      const progressData =
      /* istanbul ignore next */
      (cov_1j8tkiv89d().s[53]++, {
        id: optimisticId,
        status: 'processing',
        progress,
        stage,
        estimatedTimeRemaining: Math.max(0, (
        /* istanbul ignore next */
        (cov_1j8tkiv89d().b[10][0]++, config.estimatedProcessingTime) ||
        /* istanbul ignore next */
        (cov_1j8tkiv89d().b[10][1]++, 8000)) - elapsed),
        startTime: context.startTime
      });
      /* istanbul ignore next */
      cov_1j8tkiv89d().s[54]++;
      this.queryClient.setQueryData(progressQueryKey, progressData);
    }, 500));
    // Add rollback function to clear progress
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[55]++;
    context.rollbackFunctions.push(() => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[15]++;
      cov_1j8tkiv89d().s[56]++;
      clearInterval(progressInterval);
      /* istanbul ignore next */
      cov_1j8tkiv89d().s[57]++;
      this.queryClient.removeQueries({
        queryKey: progressQueryKey
      });
    });
  }
  /**
  * Set up result caching structure
  */
  setupResultCaching(context) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[16]++;
    // Pre-populate the cache structure for the expected result
    const resultQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[58]++, ['tryon-result', context.optimisticId]);
    const pendingResult =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[59]++, {
      id: context.optimisticId,
      status: 'pending',
      variables: context.variables,
      startTime: context.startTime
    });
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[60]++;
    this.queryClient.setQueryData(resultQueryKey, pendingResult);
    // Add rollback function
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[61]++;
    context.rollbackFunctions.push(() => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[17]++;
      cov_1j8tkiv89d().s[62]++;
      this.queryClient.removeQueries({
        queryKey: resultQueryKey
      });
    });
  }
  /**
  * Complete optimistic update with actual result
  */
  completeOptimisticUpdate(optimisticId, result, mutationContext) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[18]++;
    const context =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[63]++, this.activeOptimisticUpdates.get(optimisticId));
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[64]++;
    if (!context) {
      /* istanbul ignore next */
      cov_1j8tkiv89d().b[11][0]++;
      cov_1j8tkiv89d().s[65]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1j8tkiv89d().b[11][1]++;
    }
    const processingTime =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[66]++, Date.now() - context.startTime);
    // Update history entry if it was created optimistically
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[67]++;
    if (context.optimisticHistoryId) {
      /* istanbul ignore next */
      cov_1j8tkiv89d().b[12][0]++;
      const historyQueryKey =
      /* istanbul ignore next */
      (cov_1j8tkiv89d().s[68]++, _useTryonHistory.HISTORY_QUERY_KEYS.entries());
      /* istanbul ignore next */
      cov_1j8tkiv89d().s[69]++;
      this.queryClient.setQueryData(historyQueryKey, oldData => {
        /* istanbul ignore next */
        cov_1j8tkiv89d().f[19]++;
        cov_1j8tkiv89d().s[70]++;
        if (!oldData) {
          /* istanbul ignore next */
          cov_1j8tkiv89d().b[13][0]++;
          cov_1j8tkiv89d().s[71]++;
          return oldData;
        } else
        /* istanbul ignore next */
        {
          cov_1j8tkiv89d().b[13][1]++;
        }
        cov_1j8tkiv89d().s[72]++;
        return {
          ...oldData,
          entries: oldData.entries.map(entry => {
            /* istanbul ignore next */
            cov_1j8tkiv89d().f[20]++;
            cov_1j8tkiv89d().s[73]++;
            return entry.id === context.optimisticHistoryId ?
            /* istanbul ignore next */
            (cov_1j8tkiv89d().b[14][0]++, {
              ...entry,
              id: `completed_${Date.now()}`,
              generatedImage: result.img_generated,
              processingTime,
              metadata: {
                ...entry.metadata,
                modelVersion: result.metadata?.modelVersion,
                appliedQuality: result.metadata?.appliedQuality,
                imageProcessingResults: mutationContext.imageProcessingResults
              },
              tags:
              /* istanbul ignore next */
              (cov_1j8tkiv89d().b[15][0]++, entry.tags?.filter(tag => {
                /* istanbul ignore next */
                cov_1j8tkiv89d().f[21]++;
                cov_1j8tkiv89d().s[74]++;
                return /* istanbul ignore next */(cov_1j8tkiv89d().b[16][0]++, tag !== 'processing') &&
                /* istanbul ignore next */
                (cov_1j8tkiv89d().b[16][1]++, tag !== 'optimistic');
              })) ||
              /* istanbul ignore next */
              (cov_1j8tkiv89d().b[15][1]++, []),
              notes: `Completed in ${(processingTime / 1000).toFixed(1)}s`
            }) :
            /* istanbul ignore next */
            (cov_1j8tkiv89d().b[14][1]++, entry);
          }),
          lastUpdated: new Date().toISOString()
        };
      });
    } else
    /* istanbul ignore next */
    {
      cov_1j8tkiv89d().b[12][1]++;
    }
    // Update progress to completion
    const progressQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[75]++, ['tryon-progress', optimisticId]);
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[76]++;
    this.queryClient.setQueryData(progressQueryKey, {
      id: optimisticId,
      status: 'completed',
      progress: 100,
      stage: 'completed',
      estimatedTimeRemaining: 0,
      startTime: context.startTime,
      completedAt: Date.now(),
      result
    });
    // Update result cache
    const resultQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[77]++, ['tryon-result', optimisticId]);
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[78]++;
    this.queryClient.setQueryData(resultQueryKey, {
      id: optimisticId,
      status: 'completed',
      variables: context.variables,
      startTime: context.startTime,
      completedAt: Date.now(),
      processingTime,
      result
    });
    // Clean up
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[79]++;
    this.cleanupOptimisticUpdate(optimisticId);
  }
  /**
  * Rollback optimistic update on failure
  */
  rollbackOptimisticUpdate(optimisticId, error) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[22]++;
    const context =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[80]++, this.activeOptimisticUpdates.get(optimisticId));
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[81]++;
    if (!context) {
      /* istanbul ignore next */
      cov_1j8tkiv89d().b[17][0]++;
      cov_1j8tkiv89d().s[82]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_1j8tkiv89d().b[17][1]++;
    }
    // Execute all rollback functions
    cov_1j8tkiv89d().s[83]++;
    context.rollbackFunctions.forEach(rollback => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[23]++;
      cov_1j8tkiv89d().s[84]++;
      try {
        /* istanbul ignore next */
        cov_1j8tkiv89d().s[85]++;
        rollback();
      } catch (rollbackError) {
        /* istanbul ignore next */
        cov_1j8tkiv89d().s[86]++;
        console.error('Error during optimistic update rollback:', rollbackError);
      }
    });
    // Update progress to error state
    const progressQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[87]++, ['tryon-progress', optimisticId]);
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[88]++;
    this.queryClient.setQueryData(progressQueryKey, {
      id: optimisticId,
      status: 'error',
      progress: 0,
      stage: 'error',
      estimatedTimeRemaining: 0,
      startTime: context.startTime,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1j8tkiv89d().b[18][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1j8tkiv89d().b[18][1]++, String(error))
    });
    // Clean up
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[89]++;
    this.cleanupOptimisticUpdate(optimisticId);
  }
  /**
  * Clean up optimistic update context
  */
  cleanupOptimisticUpdate(optimisticId) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[24]++;
    cov_1j8tkiv89d().s[90]++;
    this.activeOptimisticUpdates.delete(optimisticId);
    // Schedule cleanup of progress and result caches after a delay
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[91]++;
    setTimeout(() => {
      /* istanbul ignore next */
      cov_1j8tkiv89d().f[25]++;
      cov_1j8tkiv89d().s[92]++;
      this.queryClient.removeQueries({
        queryKey: ['tryon-progress', optimisticId]
      });
      /* istanbul ignore next */
      cov_1j8tkiv89d().s[93]++;
      this.queryClient.removeQueries({
        queryKey: ['tryon-result', optimisticId]
      });
    }, 5000); // Keep for 5 seconds for UI transitions
  }
  /**
  * Get current progress for an optimistic update
  */
  getOptimisticProgress(optimisticId) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[26]++;
    const progressQueryKey =
    /* istanbul ignore next */
    (cov_1j8tkiv89d().s[94]++, ['tryon-progress', optimisticId]);
    /* istanbul ignore next */
    cov_1j8tkiv89d().s[95]++;
    return this.queryClient.getQueryData(progressQueryKey);
  }
  /**
  * Check if an optimistic update is active
  */
  isOptimisticUpdateActive(optimisticId) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[27]++;
    cov_1j8tkiv89d().s[96]++;
    return this.activeOptimisticUpdates.has(optimisticId);
  }
  /**
  * Get all active optimistic updates
  */
  getActiveOptimisticUpdates() {
    /* istanbul ignore next */
    cov_1j8tkiv89d().f[28]++;
    cov_1j8tkiv89d().s[97]++;
    return Array.from(this.activeOptimisticUpdates.values());
  }
}
let defaultOptimisticManager =
/* istanbul ignore next */
(cov_1j8tkiv89d().s[98]++, null);
function initializeOptimisticUpdates(queryClient) {
  /* istanbul ignore next */
  cov_1j8tkiv89d().f[29]++;
  cov_1j8tkiv89d().s[99]++;
  defaultOptimisticManager = new OptimisticUpdatesManager(queryClient);
  /* istanbul ignore next */
  cov_1j8tkiv89d().s[100]++;
  return defaultOptimisticManager;
}
function getOptimisticUpdatesManager() {
  /* istanbul ignore next */
  cov_1j8tkiv89d().f[30]++;
  cov_1j8tkiv89d().s[101]++;
  if (!defaultOptimisticManager) {
    /* istanbul ignore next */
    cov_1j8tkiv89d().b[19][0]++;
    cov_1j8tkiv89d().s[102]++;
    throw new Error('OptimisticUpdatesManager not initialized. Call initializeOptimisticUpdates first.');
  } else
  /* istanbul ignore next */
  {
    cov_1j8tkiv89d().b[19][1]++;
  }
  cov_1j8tkiv89d().s[103]++;
  return defaultOptimisticManager;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPcHRpbWlzdGljVXBkYXRlc01hbmFnZXIiLCJjb3ZfMWo4dGtpdjg5ZCIsImYiLCJzIiwiZGVmYXVsdE9wdGltaXN0aWNNYW5hZ2VyIiwiZ2V0T3B0aW1pc3RpY1VwZGF0ZXNNYW5hZ2VyIiwiaW5pdGlhbGl6ZU9wdGltaXN0aWNVcGRhdGVzIiwiREVGQVVMVF9PUFRJTUlTVElDX0NPTkZJRyIsInNob3dQcmV2aWV3IiwidXBkYXRlSGlzdG9yeSIsInNob3dQcm9ncmVzcyIsInByZXZpZXdQbGFjZWhvbGRlciIsImVzdGltYXRlZFByb2Nlc3NpbmdUaW1lIiwiY29uc3RydWN0b3IiLCJxdWVyeUNsaWVudCIsImFjdGl2ZU9wdGltaXN0aWNVcGRhdGVzIiwiTWFwIiwic3RhcnRPcHRpbWlzdGljVXBkYXRlIiwidmFyaWFibGVzIiwiY29uZmlnIiwiYiIsIm1lcmdlZENvbmZpZyIsIm9wdGltaXN0aWNJZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjb250ZXh0Iiwic3RhcnRUaW1lIiwicm9sbGJhY2tGdW5jdGlvbnMiLCJhcHBseU9wdGltaXN0aWNVcGRhdGVzIiwic2V0IiwiYWRkT3B0aW1pc3RpY0hpc3RvcnlFbnRyeSIsInNldHVwUHJvZ3Jlc3NJbmRpY2F0b3IiLCJzZXR1cFJlc3VsdENhY2hpbmciLCJvcHRpbWlzdGljSGlzdG9yeUlkIiwib3B0aW1pc3RpY0VudHJ5IiwiaWQiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsImdlbmVyYXRlZEltYWdlIiwibW9kZWxJbWFnZSIsImFwcGFyZWxJbWFnZXMiLCJwcm9jZXNzaW5nVGltZSIsInVuZGVmaW5lZCIsIm1ldGFkYXRhIiwicHJvY2Vzc2luZ0NvbmZpZyIsImltYWdlUHJvY2Vzc2luZyIsIm9wdGlvbnMiLCJyZXF1ZXN0T3B0aW9ucyIsInRpbWVvdXQiLCJxdWFsaXR5IiwidGFncyIsIm5vdGVzIiwiaXNGYXZvcml0ZSIsImhpc3RvcnlRdWVyeUtleSIsIl91c2VUcnlvbkhpc3RvcnkiLCJISVNUT1JZX1FVRVJZX0tFWVMiLCJlbnRyaWVzIiwic2V0UXVlcnlEYXRhIiwib2xkRGF0YSIsInRvdGFsQ291bnQiLCJjdXJyZW50UGFnZSIsInBhZ2VTaXplIiwiaGFzTW9yZSIsImxhc3RVcGRhdGVkIiwicHVzaCIsImZpbHRlciIsImVudHJ5IiwibWF4IiwicHJvZ3Jlc3NRdWVyeUtleSIsImluaXRpYWxQcm9ncmVzcyIsInN0YXR1cyIsInByb2dyZXNzIiwic3RhZ2UiLCJlc3RpbWF0ZWRUaW1lUmVtYWluaW5nIiwicHJvZ3Jlc3NJbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsIm1pbiIsInByb2dyZXNzRGF0YSIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVRdWVyaWVzIiwicXVlcnlLZXkiLCJyZXN1bHRRdWVyeUtleSIsInBlbmRpbmdSZXN1bHQiLCJjb21wbGV0ZU9wdGltaXN0aWNVcGRhdGUiLCJyZXN1bHQiLCJtdXRhdGlvbkNvbnRleHQiLCJnZXQiLCJtYXAiLCJpbWdfZ2VuZXJhdGVkIiwibW9kZWxWZXJzaW9uIiwiYXBwbGllZFF1YWxpdHkiLCJpbWFnZVByb2Nlc3NpbmdSZXN1bHRzIiwidGFnIiwidG9GaXhlZCIsImNvbXBsZXRlZEF0IiwiY2xlYW51cE9wdGltaXN0aWNVcGRhdGUiLCJyb2xsYmFja09wdGltaXN0aWNVcGRhdGUiLCJlcnJvciIsImZvckVhY2giLCJyb2xsYmFjayIsInJvbGxiYWNrRXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwiU3RyaW5nIiwiZGVsZXRlIiwic2V0VGltZW91dCIsImdldE9wdGltaXN0aWNQcm9ncmVzcyIsImdldFF1ZXJ5RGF0YSIsImlzT3B0aW1pc3RpY1VwZGF0ZUFjdGl2ZSIsImhhcyIsImdldEFjdGl2ZU9wdGltaXN0aWNVcGRhdGVzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIl0sInNvdXJjZXMiOlsiL1VzZXJzL3dpbGxzdHJlZXRlci9XZWJzdG9ybVByb2plY3RzL3ZpYmUtY29kaW5nL3Rob3NlLXBlb3BsZS9UaGUtU3VzLUZpdC1ncC9zcmMvYnVzaW5lc3MtbGF5ZXIvdXRpbHMvb3B0aW1pc3RpY1VwZGF0ZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gT3B0aW1pc3RpYyBVcGRhdGVzIE1hbmFnZXJcbi8vIEhhbmRsZXMgaW1tZWRpYXRlIFVJIGZlZWRiYWNrIGFuZCByb2xsYmFjayBtZWNoYW5pc21zIGZvciB0cnktb24gbXV0YXRpb25zXG5cbmltcG9ydCB7IFF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB0eXBlIHtcbiAgVHJ5b25NdXRhdGlvblZhcmlhYmxlcyxcbiAgVHJ5b25NdXRhdGlvblJlc3BvbnNlLFxuICBUcnlvbk11dGF0aW9uQ29udGV4dFxufSBmcm9tICcuLi90eXBlcy90cnlvbi50eXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIFRyeW9uSGlzdG9yeUVudHJ5LFxuICBUcnlvbkhpc3RvcnlDb2xsZWN0aW9uXG59IGZyb20gJy4uL3R5cGVzL2hpc3RvcnkudHlwZXMnO1xuaW1wb3J0IHsgSElTVE9SWV9RVUVSWV9LRVlTIH0gZnJvbSAnLi4vaG9va3MvdXNlVHJ5b25IaXN0b3J5JztcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBvcHRpbWlzdGljIHVwZGF0ZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPcHRpbWlzdGljVXBkYXRlQ29uZmlnIHtcbiAgLyoqIFdoZXRoZXIgdG8gc2hvdyBpbW1lZGlhdGUgcHJldmlldyBvZiBnZW5lcmF0ZWQgaW1hZ2UgKi9cbiAgc2hvd1ByZXZpZXc/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byBhZGQgb3B0aW1pc3RpYyBlbnRyeSB0byBoaXN0b3J5ICovXG4gIHVwZGF0ZUhpc3Rvcnk/OiBib29sZWFuO1xuICAvKiogV2hldGhlciB0byBzaG93IGxvYWRpbmcgcHJvZ3Jlc3MgaW5kaWNhdG9ycyAqL1xuICBzaG93UHJvZ3Jlc3M/OiBib29sZWFuO1xuICAvKiogQ3VzdG9tIHByZXZpZXcgaW1hZ2UgdG8gc2hvdyBkdXJpbmcgcHJvY2Vzc2luZyAqL1xuICBwcmV2aWV3UGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gIC8qKiBFc3RpbWF0ZWQgcHJvY2Vzc2luZyB0aW1lIGZvciBwcm9ncmVzcyBjYWxjdWxhdGlvbiAqL1xuICBlc3RpbWF0ZWRQcm9jZXNzaW5nVGltZT86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGltaXN0aWMgdXBkYXRlIGNvbmZpZ3VyYXRpb25cbiAqL1xuY29uc3QgREVGQVVMVF9PUFRJTUlTVElDX0NPTkZJRzogUmVxdWlyZWQ8T3B0aW1pc3RpY1VwZGF0ZUNvbmZpZz4gPSB7XG4gIHNob3dQcmV2aWV3OiB0cnVlLFxuICB1cGRhdGVIaXN0b3J5OiB0cnVlLFxuICBzaG93UHJvZ3Jlc3M6IHRydWUsXG4gIHByZXZpZXdQbGFjZWhvbGRlcjogJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1UQXlOQ0lnYUdWcFoyaDBQU0l4TlRNMklpQjJhV1YzUW05NFBTSXdJREFnTVRBeU5DQXhOVE0ySWlCbWFXeHNQU0p1YjI1bElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaVBnbzhjbVZqZENCM2FXUjBhRDBpTVRBeU5DSWdhR1ZwWjJoMFBTSXhOVE0ySWlCbWFXeHNQU0lqWmpObU5HWTJJaTgrQ2p4amFYSmpiR1VnWTNnOUlqVXhNaUlnWTNrOUlqYzJPQ0lnY2owaU5qUWlJR1pwYkd3OUlpTmtNV1ExWkdJaUx6NEtQSE4yWnlCcFpEMGljM0JwYm01bGNpSWdkMmxrZEdnOUlqWTBJaUJvWldsbmFIUTlJalkwSWlCMmFXVjNRbTk0UFNJd0lEQWdOalFnTmpRaUlHWnBiR3c5SW01dmJtVWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStDanhqYVhKamJHVWdZM2c5SWpNeUlpQmplVDBpTXpJaUlISTlJakkwSWlCemRISnZhMlU5SWlNMk16WTJaakVpSUhOMGNtOXJaUzEzYVdSMGFEMGlOQ0lnYzNSeWIydGxMV3hwYm1WallYQTlJbkp2ZFc1a0lpQnpkSEp2YTJVdFpHRnphR0Z5Y21GNVBTSXhOVEF1TnprMk5EUTNNemN5TVRBd01pSWdjM1J5YjJ0bExXUmhjMmh2Wm1aelpYUTlJakUxTUM0M09UWTBORGN6TnpJeE1EQXdNaUkrQ2p4aGJtbHRZWFJsVkhKaGJuTm1iM0p0SUdGMGRISnBZblYwWlU1aGJXVTlJblJ5WVc1elptOXliU0lnZEhsd1pUMGljbTkwWVhSbElpQjJZV3gxWlhNOUlqQWdNeklnTXpJN016WXdJRE15SURNeUlpQmtkWEk5SWpGeklpQnlaWEJsWVhSRGIzVnVkRDBpYVc1a1pXWnBibWwwWlNJdlBnbzhMMk5wY21Oc1pUNEtQQzl6ZG1jKycsIC8vIExvYWRpbmcgc3Bpbm5lciBTVkdcbiAgZXN0aW1hdGVkUHJvY2Vzc2luZ1RpbWU6IDgwMDAgLy8gOCBzZWNvbmRzXG59O1xuXG4vKipcbiAqIENvbnRleHQgZm9yIHRyYWNraW5nIG9wdGltaXN0aWMgdXBkYXRlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE9wdGltaXN0aWNVcGRhdGVDb250ZXh0IHtcbiAgLyoqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIG9wdGltaXN0aWMgdXBkYXRlICovXG4gIG9wdGltaXN0aWNJZDogc3RyaW5nO1xuICAvKiogT3JpZ2luYWwgbXV0YXRpb24gdmFyaWFibGVzICovXG4gIHZhcmlhYmxlczogVHJ5b25NdXRhdGlvblZhcmlhYmxlcztcbiAgLyoqIENvbmZpZ3VyYXRpb24gdXNlZCAqL1xuICBjb25maWc6IE9wdGltaXN0aWNVcGRhdGVDb25maWc7XG4gIC8qKiBTdGFydCB0aW1lIGZvciBwcm9ncmVzcyBjYWxjdWxhdGlvbiAqL1xuICBzdGFydFRpbWU6IG51bWJlcjtcbiAgLyoqIE9wdGltaXN0aWMgaGlzdG9yeSBlbnRyeSBJRCBpZiBjcmVhdGVkICovXG4gIG9wdGltaXN0aWNIaXN0b3J5SWQ/OiBzdHJpbmc7XG4gIC8qKiBSb2xsYmFjayBmdW5jdGlvbnMgKi9cbiAgcm9sbGJhY2tGdW5jdGlvbnM6IEFycmF5PCgpID0+IHZvaWQ+O1xufVxuXG4vKipcbiAqIE9wdGltaXN0aWMgdXBkYXRlcyBtYW5hZ2VyIGNsYXNzXG4gKi9cbmV4cG9ydCBjbGFzcyBPcHRpbWlzdGljVXBkYXRlc01hbmFnZXIge1xuICBwcml2YXRlIHF1ZXJ5Q2xpZW50OiBRdWVyeUNsaWVudDtcbiAgcHJpdmF0ZSBhY3RpdmVPcHRpbWlzdGljVXBkYXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBPcHRpbWlzdGljVXBkYXRlQ29udGV4dD4oKTtcblxuICBjb25zdHJ1Y3RvcihxdWVyeUNsaWVudDogUXVlcnlDbGllbnQpIHtcbiAgICB0aGlzLnF1ZXJ5Q2xpZW50ID0gcXVlcnlDbGllbnQ7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgb3B0aW1pc3RpYyB1cGRhdGVzIGZvciBhIHRyeS1vbiBtdXRhdGlvblxuICAgKi9cbiAgc3RhcnRPcHRpbWlzdGljVXBkYXRlKFxuICAgIHZhcmlhYmxlczogVHJ5b25NdXRhdGlvblZhcmlhYmxlcyxcbiAgICBjb25maWc6IE9wdGltaXN0aWNVcGRhdGVDb25maWcgPSB7fVxuICApOiBPcHRpbWlzdGljVXBkYXRlQ29udGV4dCB7XG4gICAgY29uc3QgbWVyZ2VkQ29uZmlnID0geyAuLi5ERUZBVUxUX09QVElNSVNUSUNfQ09ORklHLCAuLi5jb25maWcgfTtcbiAgICBjb25zdCBvcHRpbWlzdGljSWQgPSBgb3B0aW1pc3RpY18ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgXG4gICAgY29uc3QgY29udGV4dDogT3B0aW1pc3RpY1VwZGF0ZUNvbnRleHQgPSB7XG4gICAgICBvcHRpbWlzdGljSWQsXG4gICAgICB2YXJpYWJsZXMsXG4gICAgICBjb25maWc6IG1lcmdlZENvbmZpZyxcbiAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgIHJvbGxiYWNrRnVuY3Rpb25zOiBbXVxuICAgIH07XG5cbiAgICAvLyBBcHBseSBvcHRpbWlzdGljIHVwZGF0ZXNcbiAgICB0aGlzLmFwcGx5T3B0aW1pc3RpY1VwZGF0ZXMoY29udGV4dCk7XG4gICAgXG4gICAgLy8gU3RvcmUgY29udGV4dCBmb3IgcG90ZW50aWFsIHJvbGxiYWNrXG4gICAgdGhpcy5hY3RpdmVPcHRpbWlzdGljVXBkYXRlcy5zZXQob3B0aW1pc3RpY0lkLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IG9wdGltaXN0aWMgdXBkYXRlcyB0byB0aGUgY2FjaGVcbiAgICovXG4gIHByaXZhdGUgYXBwbHlPcHRpbWlzdGljVXBkYXRlcyhjb250ZXh0OiBPcHRpbWlzdGljVXBkYXRlQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgdmFyaWFibGVzLCBjb25maWcsIG9wdGltaXN0aWNJZCB9ID0gY29udGV4dDtcblxuICAgIC8vIDEuIEFkZCBvcHRpbWlzdGljIGhpc3RvcnkgZW50cnkgaWYgZW5hYmxlZFxuICAgIGlmIChjb25maWcudXBkYXRlSGlzdG9yeSkge1xuICAgICAgdGhpcy5hZGRPcHRpbWlzdGljSGlzdG9yeUVudHJ5KGNvbnRleHQpO1xuICAgIH1cblxuICAgIC8vIDIuIFNldCB1cCBwcm9ncmVzcyBpbmRpY2F0b3IgZGF0YSBpZiBlbmFibGVkXG4gICAgaWYgKGNvbmZpZy5zaG93UHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuc2V0dXBQcm9ncmVzc0luZGljYXRvcihjb250ZXh0KTtcbiAgICB9XG5cbiAgICAvLyAzLiBQcmUtY2FjaGUgZXhwZWN0ZWQgcmVzdWx0IHN0cnVjdHVyZVxuICAgIHRoaXMuc2V0dXBSZXN1bHRDYWNoaW5nKGNvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBvcHRpbWlzdGljIGhpc3RvcnkgZW50cnlcbiAgICovXG4gIHByaXZhdGUgYWRkT3B0aW1pc3RpY0hpc3RvcnlFbnRyeShjb250ZXh0OiBPcHRpbWlzdGljVXBkYXRlQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgdmFyaWFibGVzLCBjb25maWcsIG9wdGltaXN0aWNJZCB9ID0gY29udGV4dDtcbiAgICBcbiAgICBjb25zdCBvcHRpbWlzdGljSGlzdG9yeUlkID0gYG9wdGltaXN0aWNfaGlzdG9yeV8ke29wdGltaXN0aWNJZH1gO1xuICAgIGNvbnRleHQub3B0aW1pc3RpY0hpc3RvcnlJZCA9IG9wdGltaXN0aWNIaXN0b3J5SWQ7XG5cbiAgICAvLyBDcmVhdGUgb3B0aW1pc3RpYyBoaXN0b3J5IGVudHJ5XG4gICAgY29uc3Qgb3B0aW1pc3RpY0VudHJ5OiBUcnlvbkhpc3RvcnlFbnRyeSA9IHtcbiAgICAgIGlkOiBvcHRpbWlzdGljSGlzdG9yeUlkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBnZW5lcmF0ZWRJbWFnZTogY29uZmlnLnByZXZpZXdQbGFjZWhvbGRlciB8fCBERUZBVUxUX09QVElNSVNUSUNfQ09ORklHLnByZXZpZXdQbGFjZWhvbGRlcixcbiAgICAgIG1vZGVsSW1hZ2U6IHZhcmlhYmxlcy5tb2RlbEltYWdlLFxuICAgICAgYXBwYXJlbEltYWdlczogdmFyaWFibGVzLmFwcGFyZWxJbWFnZXMsXG4gICAgICBwcm9jZXNzaW5nVGltZTogdW5kZWZpbmVkLCAvLyBXaWxsIGJlIHVwZGF0ZWQgb24gY29tcGxldGlvblxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgcHJvY2Vzc2luZ0NvbmZpZzoge1xuICAgICAgICAgIGltYWdlUHJvY2Vzc2luZzogdmFyaWFibGVzLm9wdGlvbnM/LmltYWdlUHJvY2Vzc2luZyxcbiAgICAgICAgICByZXF1ZXN0T3B0aW9uczoge1xuICAgICAgICAgICAgdGltZW91dDogdmFyaWFibGVzLm9wdGlvbnM/LnRpbWVvdXQsXG4gICAgICAgICAgICBxdWFsaXR5OiB2YXJpYWJsZXMub3B0aW9ucz8ucXVhbGl0eVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRhZ3M6IFsncHJvY2Vzc2luZycsICdvcHRpbWlzdGljJ10sXG4gICAgICBub3RlczogJ1Byb2Nlc3NpbmcuLi4nLFxuICAgICAgaXNGYXZvcml0ZTogZmFsc2VcbiAgICB9O1xuXG4gICAgLy8gVXBkYXRlIGhpc3RvcnkgY2FjaGUgb3B0aW1pc3RpY2FsbHlcbiAgICBjb25zdCBoaXN0b3J5UXVlcnlLZXkgPSBISVNUT1JZX1FVRVJZX0tFWVMuZW50cmllcygpO1xuICAgIHRoaXMucXVlcnlDbGllbnQuc2V0UXVlcnlEYXRhPFRyeW9uSGlzdG9yeUNvbGxlY3Rpb24+KFxuICAgICAgaGlzdG9yeVF1ZXJ5S2V5LFxuICAgICAgKG9sZERhdGEpID0+IHtcbiAgICAgICAgaWYgKCFvbGREYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVudHJpZXM6IFtvcHRpbWlzdGljRW50cnldLFxuICAgICAgICAgICAgdG90YWxDb3VudDogMSxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgICAgICAgICAgcGFnZVNpemU6IDIwLFxuICAgICAgICAgICAgaGFzTW9yZTogZmFsc2UsXG4gICAgICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ub2xkRGF0YSxcbiAgICAgICAgICBlbnRyaWVzOiBbb3B0aW1pc3RpY0VudHJ5LCAuLi5vbGREYXRhLmVudHJpZXNdLFxuICAgICAgICAgIHRvdGFsQ291bnQ6IG9sZERhdGEudG90YWxDb3VudCArIDEsXG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBBZGQgcm9sbGJhY2sgZnVuY3Rpb25cbiAgICBjb250ZXh0LnJvbGxiYWNrRnVuY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgdGhpcy5xdWVyeUNsaWVudC5zZXRRdWVyeURhdGE8VHJ5b25IaXN0b3J5Q29sbGVjdGlvbj4oXG4gICAgICAgIGhpc3RvcnlRdWVyeUtleSxcbiAgICAgICAgKG9sZERhdGEpID0+IHtcbiAgICAgICAgICBpZiAoIW9sZERhdGEpIHJldHVybiBvbGREYXRhO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5vbGREYXRhLFxuICAgICAgICAgICAgZW50cmllczogb2xkRGF0YS5lbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5pZCAhPT0gb3B0aW1pc3RpY0hpc3RvcnlJZCksXG4gICAgICAgICAgICB0b3RhbENvdW50OiBNYXRoLm1heCgwLCBvbGREYXRhLnRvdGFsQ291bnQgLSAxKSxcbiAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBwcm9ncmVzcyBpbmRpY2F0b3IgZGF0YVxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFByb2dyZXNzSW5kaWNhdG9yKGNvbnRleHQ6IE9wdGltaXN0aWNVcGRhdGVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBvcHRpbWlzdGljSWQsIGNvbmZpZyB9ID0gY29udGV4dDtcbiAgICBjb25zdCBwcm9ncmVzc1F1ZXJ5S2V5ID0gWyd0cnlvbi1wcm9ncmVzcycsIG9wdGltaXN0aWNJZF07XG5cbiAgICAvLyBJbml0aWFsaXplIHByb2dyZXNzIGRhdGFcbiAgICBjb25zdCBpbml0aWFsUHJvZ3Jlc3MgPSB7XG4gICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgc3RhdHVzOiAncHJvY2Vzc2luZycgYXMgY29uc3QsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHN0YWdlOiAnaW1hZ2UtcHJvY2Vzc2luZycgYXMgY29uc3QsXG4gICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nOiBjb25maWcuZXN0aW1hdGVkUHJvY2Vzc2luZ1RpbWUsXG4gICAgICBzdGFydFRpbWU6IGNvbnRleHQuc3RhcnRUaW1lXG4gICAgfTtcblxuICAgIHRoaXMucXVlcnlDbGllbnQuc2V0UXVlcnlEYXRhKHByb2dyZXNzUXVlcnlLZXksIGluaXRpYWxQcm9ncmVzcyk7XG5cbiAgICAvLyBTaW11bGF0ZSBwcm9ncmVzcyB1cGRhdGVzXG4gICAgY29uc3QgcHJvZ3Jlc3NJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gY29udGV4dC5zdGFydFRpbWU7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKDkwLCAoZWxhcHNlZCAvIChjb25maWcuZXN0aW1hdGVkUHJvY2Vzc2luZ1RpbWUgfHwgODAwMCkpICogMTAwKTtcbiAgICAgIFxuICAgICAgbGV0IHN0YWdlOiBzdHJpbmcgPSAnaW1hZ2UtcHJvY2Vzc2luZyc7XG4gICAgICBpZiAocHJvZ3Jlc3MgPiAyMCkgc3RhZ2UgPSAnYWktZ2VuZXJhdGlvbic7XG4gICAgICBpZiAocHJvZ3Jlc3MgPiA2MCkgc3RhZ2UgPSAncG9zdC1wcm9jZXNzaW5nJztcbiAgICAgIGlmIChwcm9ncmVzcyA+IDgwKSBzdGFnZSA9ICdmaW5hbGl6aW5nJztcblxuICAgICAgY29uc3QgcHJvZ3Jlc3NEYXRhID0ge1xuICAgICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgICBzdGF0dXM6ICdwcm9jZXNzaW5nJyBhcyBjb25zdCxcbiAgICAgICAgcHJvZ3Jlc3MsXG4gICAgICAgIHN0YWdlLFxuICAgICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nOiBNYXRoLm1heCgwLCAoY29uZmlnLmVzdGltYXRlZFByb2Nlc3NpbmdUaW1lIHx8IDgwMDApIC0gZWxhcHNlZCksXG4gICAgICAgIHN0YXJ0VGltZTogY29udGV4dC5zdGFydFRpbWVcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucXVlcnlDbGllbnQuc2V0UXVlcnlEYXRhKHByb2dyZXNzUXVlcnlLZXksIHByb2dyZXNzRGF0YSk7XG4gICAgfSwgNTAwKTtcblxuICAgIC8vIEFkZCByb2xsYmFjayBmdW5jdGlvbiB0byBjbGVhciBwcm9ncmVzc1xuICAgIGNvbnRleHQucm9sbGJhY2tGdW5jdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpO1xuICAgICAgdGhpcy5xdWVyeUNsaWVudC5yZW1vdmVRdWVyaWVzKHsgcXVlcnlLZXk6IHByb2dyZXNzUXVlcnlLZXkgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHJlc3VsdCBjYWNoaW5nIHN0cnVjdHVyZVxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFJlc3VsdENhY2hpbmcoY29udGV4dDogT3B0aW1pc3RpY1VwZGF0ZUNvbnRleHQpOiB2b2lkIHtcbiAgICAvLyBQcmUtcG9wdWxhdGUgdGhlIGNhY2hlIHN0cnVjdHVyZSBmb3IgdGhlIGV4cGVjdGVkIHJlc3VsdFxuICAgIGNvbnN0IHJlc3VsdFF1ZXJ5S2V5ID0gWyd0cnlvbi1yZXN1bHQnLCBjb250ZXh0Lm9wdGltaXN0aWNJZF07XG4gICAgXG4gICAgY29uc3QgcGVuZGluZ1Jlc3VsdCA9IHtcbiAgICAgIGlkOiBjb250ZXh0Lm9wdGltaXN0aWNJZCxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgdmFyaWFibGVzOiBjb250ZXh0LnZhcmlhYmxlcyxcbiAgICAgIHN0YXJ0VGltZTogY29udGV4dC5zdGFydFRpbWVcbiAgICB9O1xuXG4gICAgdGhpcy5xdWVyeUNsaWVudC5zZXRRdWVyeURhdGEocmVzdWx0UXVlcnlLZXksIHBlbmRpbmdSZXN1bHQpO1xuXG4gICAgLy8gQWRkIHJvbGxiYWNrIGZ1bmN0aW9uXG4gICAgY29udGV4dC5yb2xsYmFja0Z1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgIHRoaXMucXVlcnlDbGllbnQucmVtb3ZlUXVlcmllcyh7IHF1ZXJ5S2V5OiByZXN1bHRRdWVyeUtleSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGV0ZSBvcHRpbWlzdGljIHVwZGF0ZSB3aXRoIGFjdHVhbCByZXN1bHRcbiAgICovXG4gIGNvbXBsZXRlT3B0aW1pc3RpY1VwZGF0ZShcbiAgICBvcHRpbWlzdGljSWQ6IHN0cmluZyxcbiAgICByZXN1bHQ6IFRyeW9uTXV0YXRpb25SZXNwb25zZSxcbiAgICBtdXRhdGlvbkNvbnRleHQ6IFRyeW9uTXV0YXRpb25Db250ZXh0XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmFjdGl2ZU9wdGltaXN0aWNVcGRhdGVzLmdldChvcHRpbWlzdGljSWQpO1xuICAgIGlmICghY29udGV4dCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gY29udGV4dC5zdGFydFRpbWU7XG5cbiAgICAvLyBVcGRhdGUgaGlzdG9yeSBlbnRyeSBpZiBpdCB3YXMgY3JlYXRlZCBvcHRpbWlzdGljYWxseVxuICAgIGlmIChjb250ZXh0Lm9wdGltaXN0aWNIaXN0b3J5SWQpIHtcbiAgICAgIGNvbnN0IGhpc3RvcnlRdWVyeUtleSA9IEhJU1RPUllfUVVFUllfS0VZUy5lbnRyaWVzKCk7XG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YTxUcnlvbkhpc3RvcnlDb2xsZWN0aW9uPihcbiAgICAgICAgaGlzdG9yeVF1ZXJ5S2V5LFxuICAgICAgICAob2xkRGF0YSkgPT4ge1xuICAgICAgICAgIGlmICghb2xkRGF0YSkgcmV0dXJuIG9sZERhdGE7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ub2xkRGF0YSxcbiAgICAgICAgICAgIGVudHJpZXM6IG9sZERhdGEuZW50cmllcy5tYXAoZW50cnkgPT4gXG4gICAgICAgICAgICAgIGVudHJ5LmlkID09PSBjb250ZXh0Lm9wdGltaXN0aWNIaXN0b3J5SWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgIGlkOiBgY29tcGxldGVkXyR7RGF0ZS5ub3coKX1gLCAvLyBHZW5lcmF0ZSBuZXcgcmVhbCBJRFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRJbWFnZTogcmVzdWx0LmltZ19nZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdUaW1lLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmVyc2lvbjogcmVzdWx0Lm1ldGFkYXRhPy5tb2RlbFZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYXBwbGllZFF1YWxpdHk6IHJlc3VsdC5tZXRhZGF0YT8uYXBwbGllZFF1YWxpdHksXG4gICAgICAgICAgICAgICAgICAgICAgaW1hZ2VQcm9jZXNzaW5nUmVzdWx0czogbXV0YXRpb25Db250ZXh0LmltYWdlUHJvY2Vzc2luZ1Jlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGFnczogZW50cnkudGFncz8uZmlsdGVyKHRhZyA9PiB0YWcgIT09ICdwcm9jZXNzaW5nJyAmJiB0YWcgIT09ICdvcHRpbWlzdGljJykgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBgQ29tcGxldGVkIGluICR7KHByb2Nlc3NpbmdUaW1lIC8gMTAwMCkudG9GaXhlZCgxKX1zYFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogZW50cnlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgdG8gY29tcGxldGlvblxuICAgIGNvbnN0IHByb2dyZXNzUXVlcnlLZXkgPSBbJ3RyeW9uLXByb2dyZXNzJywgb3B0aW1pc3RpY0lkXTtcbiAgICB0aGlzLnF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YShwcm9ncmVzc1F1ZXJ5S2V5LCB7XG4gICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyBhcyBjb25zdCxcbiAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICBzdGFnZTogJ2NvbXBsZXRlZCcsXG4gICAgICBlc3RpbWF0ZWRUaW1lUmVtYWluaW5nOiAwLFxuICAgICAgc3RhcnRUaW1lOiBjb250ZXh0LnN0YXJ0VGltZSxcbiAgICAgIGNvbXBsZXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgcmVzdWx0XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgcmVzdWx0IGNhY2hlXG4gICAgY29uc3QgcmVzdWx0UXVlcnlLZXkgPSBbJ3RyeW9uLXJlc3VsdCcsIG9wdGltaXN0aWNJZF07XG4gICAgdGhpcy5xdWVyeUNsaWVudC5zZXRRdWVyeURhdGEocmVzdWx0UXVlcnlLZXksIHtcbiAgICAgIGlkOiBvcHRpbWlzdGljSWQsXG4gICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnIGFzIGNvbnN0LFxuICAgICAgdmFyaWFibGVzOiBjb250ZXh0LnZhcmlhYmxlcyxcbiAgICAgIHN0YXJ0VGltZTogY29udGV4dC5zdGFydFRpbWUsXG4gICAgICBjb21wbGV0ZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIHByb2Nlc3NpbmdUaW1lLFxuICAgICAgcmVzdWx0XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhbiB1cFxuICAgIHRoaXMuY2xlYW51cE9wdGltaXN0aWNVcGRhdGUob3B0aW1pc3RpY0lkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb2xsYmFjayBvcHRpbWlzdGljIHVwZGF0ZSBvbiBmYWlsdXJlXG4gICAqL1xuICByb2xsYmFja09wdGltaXN0aWNVcGRhdGUob3B0aW1pc3RpY0lkOiBzdHJpbmcsIGVycm9yPzogdW5rbm93bik6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmFjdGl2ZU9wdGltaXN0aWNVcGRhdGVzLmdldChvcHRpbWlzdGljSWQpO1xuICAgIGlmICghY29udGV4dCkgcmV0dXJuO1xuXG4gICAgLy8gRXhlY3V0ZSBhbGwgcm9sbGJhY2sgZnVuY3Rpb25zXG4gICAgY29udGV4dC5yb2xsYmFja0Z1bmN0aW9ucy5mb3JFYWNoKHJvbGxiYWNrID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJvbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChyb2xsYmFja0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBvcHRpbWlzdGljIHVwZGF0ZSByb2xsYmFjazonLCByb2xsYmFja0Vycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyB0byBlcnJvciBzdGF0ZVxuICAgIGNvbnN0IHByb2dyZXNzUXVlcnlLZXkgPSBbJ3RyeW9uLXByb2dyZXNzJywgb3B0aW1pc3RpY0lkXTtcbiAgICB0aGlzLnF1ZXJ5Q2xpZW50LnNldFF1ZXJ5RGF0YShwcm9ncmVzc1F1ZXJ5S2V5LCB7XG4gICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBzdGFnZTogJ2Vycm9yJyxcbiAgICAgIGVzdGltYXRlZFRpbWVSZW1haW5pbmc6IDAsXG4gICAgICBzdGFydFRpbWU6IGNvbnRleHQuc3RhcnRUaW1lLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgIH0pO1xuXG4gICAgLy8gQ2xlYW4gdXBcbiAgICB0aGlzLmNsZWFudXBPcHRpbWlzdGljVXBkYXRlKG9wdGltaXN0aWNJZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAgb3B0aW1pc3RpYyB1cGRhdGUgY29udGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBjbGVhbnVwT3B0aW1pc3RpY1VwZGF0ZShvcHRpbWlzdGljSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuYWN0aXZlT3B0aW1pc3RpY1VwZGF0ZXMuZGVsZXRlKG9wdGltaXN0aWNJZCk7XG4gICAgXG4gICAgLy8gU2NoZWR1bGUgY2xlYW51cCBvZiBwcm9ncmVzcyBhbmQgcmVzdWx0IGNhY2hlcyBhZnRlciBhIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LnJlbW92ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsndHJ5b24tcHJvZ3Jlc3MnLCBvcHRpbWlzdGljSWRdIFxuICAgICAgfSk7XG4gICAgICB0aGlzLnF1ZXJ5Q2xpZW50LnJlbW92ZVF1ZXJpZXMoeyBcbiAgICAgICAgcXVlcnlLZXk6IFsndHJ5b24tcmVzdWx0Jywgb3B0aW1pc3RpY0lkXSBcbiAgICAgIH0pO1xuICAgIH0sIDUwMDApOyAvLyBLZWVwIGZvciA1IHNlY29uZHMgZm9yIFVJIHRyYW5zaXRpb25zXG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgcHJvZ3Jlc3MgZm9yIGFuIG9wdGltaXN0aWMgdXBkYXRlXG4gICAqL1xuICBnZXRPcHRpbWlzdGljUHJvZ3Jlc3Mob3B0aW1pc3RpY0lkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwcm9ncmVzc1F1ZXJ5S2V5ID0gWyd0cnlvbi1wcm9ncmVzcycsIG9wdGltaXN0aWNJZF07XG4gICAgcmV0dXJuIHRoaXMucXVlcnlDbGllbnQuZ2V0UXVlcnlEYXRhKHByb2dyZXNzUXVlcnlLZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIG9wdGltaXN0aWMgdXBkYXRlIGlzIGFjdGl2ZVxuICAgKi9cbiAgaXNPcHRpbWlzdGljVXBkYXRlQWN0aXZlKG9wdGltaXN0aWNJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlT3B0aW1pc3RpY1VwZGF0ZXMuaGFzKG9wdGltaXN0aWNJZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBhY3RpdmUgb3B0aW1pc3RpYyB1cGRhdGVzXG4gICAqL1xuICBnZXRBY3RpdmVPcHRpbWlzdGljVXBkYXRlcygpOiBPcHRpbWlzdGljVXBkYXRlQ29udGV4dFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFjdGl2ZU9wdGltaXN0aWNVcGRhdGVzLnZhbHVlcygpKTtcbiAgfVxufVxuXG4vKipcbiAqIERlZmF1bHQgb3B0aW1pc3RpYyB1cGRhdGVzIG1hbmFnZXIgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGxldCBkZWZhdWx0T3B0aW1pc3RpY01hbmFnZXI6IE9wdGltaXN0aWNVcGRhdGVzTWFuYWdlciB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIGRlZmF1bHQgb3B0aW1pc3RpYyB1cGRhdGVzIG1hbmFnZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVPcHRpbWlzdGljVXBkYXRlcyhxdWVyeUNsaWVudDogUXVlcnlDbGllbnQpOiBPcHRpbWlzdGljVXBkYXRlc01hbmFnZXIge1xuICBkZWZhdWx0T3B0aW1pc3RpY01hbmFnZXIgPSBuZXcgT3B0aW1pc3RpY1VwZGF0ZXNNYW5hZ2VyKHF1ZXJ5Q2xpZW50KTtcbiAgcmV0dXJuIGRlZmF1bHRPcHRpbWlzdGljTWFuYWdlcjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGRlZmF1bHQgb3B0aW1pc3RpYyB1cGRhdGVzIG1hbmFnZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE9wdGltaXN0aWNVcGRhdGVzTWFuYWdlcigpOiBPcHRpbWlzdGljVXBkYXRlc01hbmFnZXIge1xuICBpZiAoIWRlZmF1bHRPcHRpbWlzdGljTWFuYWdlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignT3B0aW1pc3RpY1VwZGF0ZXNNYW5hZ2VyIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBpbml0aWFsaXplT3B0aW1pc3RpY1VwZGF0ZXMgZmlyc3QuJyk7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRPcHRpbWlzdGljTWFuYWdlcjtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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