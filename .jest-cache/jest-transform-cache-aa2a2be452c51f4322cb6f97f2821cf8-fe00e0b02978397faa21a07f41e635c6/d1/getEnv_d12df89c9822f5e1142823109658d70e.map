{"version":3,"sources":["/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/src/lib/getEnv.ts"],"sourcesContent":["/**\n * OpenAI Environment Configuration Helper\n * \n * Centralized retrieval and validation of OpenAI secrets for all server code.\n * This helper provides fail-fast validation to ensure required environment\n * variables are present before the application starts.\n */\n\nexport interface OpenAIEnv {\n  key: string;\n  model: string;\n}\n\n/**\n * Retrieves and validates OpenAI environment variables\n * @returns OpenAIEnv object with validated API key and model\n * @throws Error if OPENAI_API_KEY is not found\n */\nexport const getEnv = (): OpenAIEnv => {\n  const key = process.env.OPENAI_API_KEY;\n  \n  if (!key || key.trim() === '') {\n    throw new Error('OPENAI_API_KEY not found');\n  }\n  \n  const model = process.env.OPENAI_MODEL;\n  const defaultModel = 'gpt-image-1';\n  \n  return {\n    key,\n    model: model && model.trim() !== '' ? model : defaultModel,\n  };\n};\n\n/**\n * Alternative function that returns undefined instead of throwing\n * Useful for optional OpenAI features\n */\nexport const getEnvOptional = (): OpenAIEnv | undefined => {\n  const key = process.env.OPENAI_API_KEY;\n  \n  if (!key || key.trim() === '') {\n    return undefined;\n  }\n  \n  const model = process.env.OPENAI_MODEL;\n  const defaultModel = 'gpt-image-1';\n  \n  return {\n    key,\n    model: model && model.trim() !== '' ? model : defaultModel,\n  };\n}; "],"names":["getEnv","getEnvOptional","key","process","env","OPENAI_API_KEY","trim","Error","model","OPENAI_MODEL","defaultModel","undefined"],"mappings":"AAAA;;;;;;CAMC;;;;;;;;;;;IAYYA,MAAM;eAANA;;IAoBAC,cAAc;eAAdA;;;AApBN,MAAMD,SAAS;IACpB,MAAME,MAAMC,QAAQC,GAAG,CAACC,cAAc;IAEtC,IAAI,CAACH,OAAOA,IAAII,IAAI,OAAO,IAAI;QAC7B,MAAM,IAAIC,MAAM;IAClB;IAEA,MAAMC,QAAQL,QAAQC,GAAG,CAACK,YAAY;IACtC,MAAMC,eAAe;IAErB,OAAO;QACLR;QACAM,OAAOA,SAASA,MAAMF,IAAI,OAAO,KAAKE,QAAQE;IAChD;AACF;AAMO,MAAMT,iBAAiB;IAC5B,MAAMC,MAAMC,QAAQC,GAAG,CAACC,cAAc;IAEtC,IAAI,CAACH,OAAOA,IAAII,IAAI,OAAO,IAAI;QAC7B,OAAOK;IACT;IAEA,MAAMH,QAAQL,QAAQC,GAAG,CAACK,YAAY;IACtC,MAAMC,eAAe;IAErB,OAAO;QACLR;QACAM,OAAOA,SAASA,MAAMF,IAAI,OAAO,KAAKE,QAAQE;IAChD;AACF"}