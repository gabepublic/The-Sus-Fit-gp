9b5b4b0ea86b00b82ac58af32ad2cd1d
/**
 * @jest-environment jsdom
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _index = require("../test-utils/index");
const _useBridgeLayer = require("../../src/hooks/useBridgeLayer");
// Setup test environment
(0, _index.setupTestEnvironment)();
describe('useBridgeLayer', ()=>{
    beforeEach(()=>{
        _index.MockAPIUtils.setupServer();
    });
    describe('Initialization', ()=>{
        it('should initialize with correct default simplified state', ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const { state } = result.current;
            expect(state.isLoading).toBe(false);
            expect(state.isReady).toBe(false);
            expect(state.showResult).toBe(false);
            expect(state.resultImage).toBeNull();
            expect(state.errorMessage).toBeNull();
            expect(state.successMessage).toBeNull();
            expect(state.hasUserImage).toBe(false);
            expect(state.hasApparelImage).toBe(false);
            expect(state.userImagePreview).toBeNull();
            expect(state.apparelImagePreview).toBeNull();
            expect(state.progress).toBe(0);
            expect(state.canGenerate).toBe(false);
            expect(state.canRetry).toBe(false);
            expect(state.canReset).toBe(false);
        });
        it('should provide all required simplified actions', ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const { actions } = result.current;
            expect(typeof actions.uploadUserImage).toBe('function');
            expect(typeof actions.uploadApparelImage).toBe('function');
            expect(typeof actions.removeUserImage).toBe('function');
            expect(typeof actions.removeApparelImage).toBe('function');
            expect(typeof actions.generate).toBe('function');
            expect(typeof actions.retry).toBe('function');
            expect(typeof actions.reset).toBe('function');
            expect(typeof actions.hideResult).toBe('function');
            expect(typeof actions.clearError).toBe('function');
            expect(typeof actions.downloadResult).toBe('function');
            expect(typeof actions.shareResult).toBe('function');
        });
        it('should provide advanced access to underlying hooks', ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const { advanced } = result.current;
            expect(advanced.workflow).toBeDefined();
            expect(advanced.uploads).toBeDefined();
            expect(advanced.uploads.user).toBeDefined();
            expect(advanced.uploads.apparel).toBeDefined();
        });
    });
    describe('File Upload Actions', ()=>{
        it('should handle user image upload successfully', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockFileRead('data:image/jpeg;base64,user-image-data');
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.hasUserImage).toBe(true);
            });
        });
        it('should handle apparel image upload successfully', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockFileRead('data:image/jpeg;base64,apparel-image-data');
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.hasApparelImage).toBe(true);
            });
        });
        it('should handle upload errors gracefully', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockFileReadError('Upload failed');
            try {
                await (0, _react.act)(async ()=>{
                    await result.current.actions.uploadUserImage(mockFiles.userImage);
                });
            } catch (error) {
                expect(error).toBeDefined();
            }
            expect(result.current.state.hasUserImage).toBe(false);
        });
        it('should remove uploaded images correctly', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockFileRead('data:image/jpeg;base64,image-data');
            // Upload images first
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.hasUserImage).toBe(true);
                expect(result.current.state.hasApparelImage).toBe(true);
            });
            // Remove user image
            (0, _react.act)(()=>{
                result.current.actions.removeUserImage();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.hasUserImage).toBe(false);
            });
            // Remove apparel image
            (0, _react.act)(()=>{
                result.current.actions.removeApparelImage();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.hasApparelImage).toBe(false);
            });
        });
    });
    describe('Generation Actions', ()=>{
        it('should handle successful generation workflow', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup mocks
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,generated-result'
            });
            // Upload files
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.canGenerate).toBe(true);
            });
            // Generate
            await (0, _react.act)(async ()=>{
                await result.current.actions.generate();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
                expect(result.current.state.successMessage).toBeTruthy();
            }, {
                timeout: 10000
            });
        });
        it('should handle generation errors and enable retry', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup mocks
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockApiError('Generation failed', 500);
            // Upload files
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.canGenerate).toBe(true);
            });
            // Try to generate (will fail)
            try {
                await (0, _react.act)(async ()=>{
                    await result.current.actions.generate();
                });
            } catch (error) {
            // Expected to fail
            }
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.errorMessage).toBeTruthy();
                expect(result.current.state.canRetry).toBe(true);
            });
        });
        it('should handle retry after failure', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup mocks for initial failure
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockApiError('Generation failed', 500);
            // Upload files and fail generation
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            try {
                await (0, _react.act)(async ()=>{
                    await result.current.actions.generate();
                });
            } catch (error) {
            // Expected to fail
            }
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.canRetry).toBe(true);
            });
            // Setup successful retry
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,retry-success'
            });
            // Retry
            await (0, _react.act)(async ()=>{
                await result.current.actions.retry();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
                expect(result.current.state.errorMessage).toBeNull();
            }, {
                timeout: 10000
            });
        });
        it('should reset workflow state correctly', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup and complete workflow
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall();
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.generate();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
            });
            // Reset
            (0, _react.act)(()=>{
                result.current.actions.reset();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.hasUserImage).toBe(false);
                expect(result.current.state.hasApparelImage).toBe(false);
                expect(result.current.state.resultImage).toBeNull();
                expect(result.current.state.canGenerate).toBe(false);
            });
        });
    });
    describe('UI Actions', ()=>{
        it('should hide result when requested', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup and complete workflow to show result
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall();
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.generate();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.showResult).toBe(true);
            });
            // Hide result
            (0, _react.act)(()=>{
                result.current.actions.hideResult();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.showResult).toBe(false);
            });
        });
        it('should clear error when requested', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Setup error scenario
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockApiError('Test error', 500);
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            try {
                await (0, _react.act)(async ()=>{
                    await result.current.actions.generate();
                });
            } catch (error) {
            // Expected to fail
            }
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.errorMessage).toBeTruthy();
            });
            // Clear error
            (0, _react.act)(()=>{
                result.current.actions.clearError();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.errorMessage).toBeNull();
            });
        });
        it('should handle download action without errors', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Mock document.createElement and related APIs
            const mockLink = {
                href: '',
                download: '',
                click: jest.fn()
            };
            const originalCreateElement = document.createElement;
            document.createElement = jest.fn().mockImplementation((tag)=>{
                if (tag === 'a') return mockLink;
                return originalCreateElement.call(document, tag);
            });
            const mockAppendChild = jest.fn();
            const mockRemoveChild = jest.fn();
            document.body.appendChild = mockAppendChild;
            document.body.removeChild = mockRemoveChild;
            // Setup and complete workflow
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,download-test-image'
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.generate();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
            });
            // Download
            (0, _react.act)(()=>{
                result.current.actions.downloadResult();
            });
            expect(mockLink.click).toHaveBeenCalled();
            expect(mockAppendChild).toHaveBeenCalled();
            expect(mockRemoveChild).toHaveBeenCalled();
            // Restore original methods
            document.createElement = originalCreateElement;
        });
        it('should handle share action with navigator.share', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            // Mock navigator.share
            const mockShare = jest.fn().mockResolvedValue(undefined);
            Object.defineProperty(navigator, 'share', {
                value: mockShare,
                configurable: true
            });
            // Mock fetch for blob conversion
            const mockBlob = new Blob([
                'mock-image-data'
            ], {
                type: 'image/jpeg'
            });
            global.fetch = jest.fn().mockResolvedValue({
                blob: ()=>Promise.resolve(mockBlob)
            });
            // Setup and complete workflow
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,share-test-image'
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.generate();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
            });
            // Share
            await (0, _react.act)(async ()=>{
                await result.current.actions.shareResult();
            });
            expect(mockShare).toHaveBeenCalledWith(expect.objectContaining({
                title: 'My Try-On Result',
                text: 'Check out my virtual try-on!',
                files: expect.any(Array)
            }));
        });
    });
    describe('Configuration Options', ()=>{
        it('should respect custom configuration', ()=>{
            const customConfig = {
                workflow: {
                    timeoutMs: 30000,
                    compressionLimitKB: 1024
                },
                ui: {
                    showDetailedProgress: false,
                    enableShare: false,
                    enableDownload: false
                }
            };
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)(customConfig));
            // Configuration is applied internally, test should not throw errors
            expect(result.current.state).toBeDefined();
            expect(result.current.actions).toBeDefined();
        });
        it('should handle callback configuration', async ()=>{
            const onGenerationStart = jest.fn();
            const onGenerationComplete = jest.fn();
            const onError = jest.fn();
            const onSuccess = jest.fn();
            const config = {
                callbacks: {
                    onGenerationStart,
                    onGenerationComplete,
                    onError,
                    onSuccess
                }
            };
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)(config));
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall({
                img_generated: 'data:image/jpeg;base64,callback-test'
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            await (0, _react.act)(async ()=>{
                await result.current.actions.generate();
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
            });
            expect(onGenerationStart).toHaveBeenCalled();
            expect(onGenerationComplete).toHaveBeenCalled();
            expect(onSuccess).toHaveBeenCalled();
            expect(onError).not.toHaveBeenCalled();
        });
    });
    describe('Progress Tracking', ()=>{
        it('should track progress during workflow', async ()=>{
            const { result, testUtils } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            const mockFiles = _index.WorkflowTestUtils.createMockFiles();
            testUtils.mockFileRead('data:image/jpeg;base64,processed-image');
            testUtils.mockSuccessfulApiCall(undefined, 500); // Add delay
            // Upload files
            await (0, _react.act)(async ()=>{
                await result.current.actions.uploadUserImage(mockFiles.userImage);
                await result.current.actions.uploadApparelImage(mockFiles.apparelImage);
            });
            const initialProgress = result.current.state.progress;
            // Start generation
            (0, _react.act)(()=>{
                result.current.actions.generate();
            });
            // Progress should update during generation
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.isLoading).toBe(true);
            });
            await (0, _react.waitFor)(()=>{
                expect(result.current.state.resultImage).toBeTruthy();
            }, {
                timeout: 10000
            });
            expect(initialProgress).toBe(0);
        });
        it('should provide meaningful progress messages', async ()=>{
            const { result } = (0, _index.renderBridgeHook)(()=>(0, _useBridgeLayer.useBridgeLayer)());
            expect(result.current.state.progressMessage).toBe('Ready to generate');
        // Add more progress message tests as the workflow develops
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3AvX190ZXN0c19fL2JyaWRnZS1sYXllci91c2VCcmlkZ2VMYXllci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBqZXN0LWVudmlyb25tZW50IGpzZG9tXG4gKi9cbmltcG9ydCB7IGFjdCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgXG4gIHJlbmRlckJyaWRnZUhvb2ssIFxuICBNb2NrQVBJVXRpbHMsIFxuICBXb3JrZmxvd1Rlc3RVdGlscyxcbiAgc2V0dXBUZXN0RW52aXJvbm1lbnQgXG59IGZyb20gJy4uL3Rlc3QtdXRpbHMvaW5kZXgnO1xuaW1wb3J0IHsgdXNlQnJpZGdlTGF5ZXIgfSBmcm9tICdAL2hvb2tzL3VzZUJyaWRnZUxheWVyJztcblxuLy8gU2V0dXAgdGVzdCBlbnZpcm9ubWVudFxuc2V0dXBUZXN0RW52aXJvbm1lbnQoKTtcblxuZGVzY3JpYmUoJ3VzZUJyaWRnZUxheWVyJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBNb2NrQVBJVXRpbHMuc2V0dXBTZXJ2ZXIoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGNvcnJlY3QgZGVmYXVsdCBzaW1wbGlmaWVkIHN0YXRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG5cbiAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHJlc3VsdC5jdXJyZW50O1xuXG4gICAgICBleHBlY3Qoc3RhdGUuaXNMb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5pc1JlYWR5KS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5zaG93UmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5yZXN1bHRJbWFnZSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5lcnJvck1lc3NhZ2UpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuc3VjY2Vzc01lc3NhZ2UpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuaGFzVXNlckltYWdlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5oYXNBcHBhcmVsSW1hZ2UpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHN0YXRlLnVzZXJJbWFnZVByZXZpZXcpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuYXBwYXJlbEltYWdlUHJldmlldykudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5wcm9ncmVzcykudG9CZSgwKTtcbiAgICAgIGV4cGVjdChzdGF0ZS5jYW5HZW5lcmF0ZSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3Qoc3RhdGUuY2FuUmV0cnkpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHN0YXRlLmNhblJlc2V0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBhbGwgcmVxdWlyZWQgc2ltcGxpZmllZCBhY3Rpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG5cbiAgICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gcmVzdWx0LmN1cnJlbnQ7XG5cbiAgICAgIGV4cGVjdCh0eXBlb2YgYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhY3Rpb25zLnJlbW92ZVVzZXJJbWFnZSkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgYWN0aW9ucy5yZW1vdmVBcHBhcmVsSW1hZ2UpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFjdGlvbnMuZ2VuZXJhdGUpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFjdGlvbnMucmV0cnkpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFjdGlvbnMucmVzZXQpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGFjdGlvbnMuaGlkZVJlc3VsdCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgYWN0aW9ucy5jbGVhckVycm9yKS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhY3Rpb25zLmRvd25sb2FkUmVzdWx0KS50b0JlKCdmdW5jdGlvbicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBhY3Rpb25zLnNoYXJlUmVzdWx0KS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGFkdmFuY2VkIGFjY2VzcyB0byB1bmRlcmx5aW5nIGhvb2tzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG5cbiAgICAgIGNvbnN0IHsgYWR2YW5jZWQgfSA9IHJlc3VsdC5jdXJyZW50O1xuXG4gICAgICBleHBlY3QoYWR2YW5jZWQud29ya2Zsb3cpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYWR2YW5jZWQudXBsb2FkcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhZHZhbmNlZC51cGxvYWRzLnVzZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYWR2YW5jZWQudXBsb2Fkcy5hcHBhcmVsKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRmlsZSBVcGxvYWQgQWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1c2VyIGltYWdlIHVwbG9hZCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZUJyaWRnZUxheWVyKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsdXNlci1pbWFnZS1kYXRhJyk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkVXNlckltYWdlKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuaGFzVXNlckltYWdlKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhcHBhcmVsIGltYWdlIHVwbG9hZCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZUJyaWRnZUxheWVyKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsYXBwYXJlbC1pbWFnZS1kYXRhJyk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuaGFzQXBwYXJlbEltYWdlKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1cGxvYWQgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZUJyaWRnZUxheWVyKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWRFcnJvcignVXBsb2FkIGZhaWxlZCcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkVXNlckltYWdlKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGV4cGVjdChlcnJvcikudG9CZURlZmluZWQoKTtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLmhhc1VzZXJJbWFnZSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSB1cGxvYWRlZCBpbWFnZXMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VCcmlkZ2VMYXllcigpKTtcbiAgICAgIGNvbnN0IG1vY2tGaWxlcyA9IFdvcmtmbG93VGVzdFV0aWxzLmNyZWF0ZU1vY2tGaWxlcygpO1xuXG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LGltYWdlLWRhdGEnKTtcblxuICAgICAgLy8gVXBsb2FkIGltYWdlcyBmaXJzdFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuaGFzVXNlckltYWdlKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuaGFzQXBwYXJlbEltYWdlKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSB1c2VyIGltYWdlXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5hY3Rpb25zLnJlbW92ZVVzZXJJbWFnZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuaGFzVXNlckltYWdlKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgYXBwYXJlbCBpbWFnZVxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5yZW1vdmVBcHBhcmVsSW1hZ2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLmhhc0FwcGFyZWxJbWFnZSkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dlbmVyYXRpb24gQWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzdWNjZXNzZnVsIGdlbmVyYXRpb24gd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZUJyaWRnZUxheWVyKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIC8vIFNldHVwIG1vY2tzXG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuICAgICAgdGVzdFV0aWxzLm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCh7XG4gICAgICAgIGltZ19nZW5lcmF0ZWQ6ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LGdlbmVyYXRlZC1yZXN1bHQnXG4gICAgICB9KTtcblxuICAgICAgLy8gVXBsb2FkIGZpbGVzXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5hY3Rpb25zLnVwbG9hZFVzZXJJbWFnZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRBcHBhcmVsSW1hZ2UobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5jYW5HZW5lcmF0ZSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZW5lcmF0ZVxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5nZW5lcmF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUucmVzdWx0SW1hZ2UpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLnN1Y2Nlc3NNZXNzYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZ2VuZXJhdGlvbiBlcnJvcnMgYW5kIGVuYWJsZSByZXRyeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gU2V0dXAgbW9ja3NcbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQscHJvY2Vzc2VkLWltYWdlJyk7XG4gICAgICB0ZXN0VXRpbHMubW9ja0FwaUVycm9yKCdHZW5lcmF0aW9uIGZhaWxlZCcsIDUwMCk7XG5cbiAgICAgIC8vIFVwbG9hZCBmaWxlc1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuY2FuR2VuZXJhdGUpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVHJ5IHRvIGdlbmVyYXRlICh3aWxsIGZhaWwpXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuZ2VuZXJhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBFeHBlY3RlZCB0byBmYWlsXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuZXJyb3JNZXNzYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5jYW5SZXRyeSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmV0cnkgYWZ0ZXIgZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gU2V0dXAgbW9ja3MgZm9yIGluaXRpYWwgZmFpbHVyZVxuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtaW1hZ2UnKTtcbiAgICAgIHRlc3RVdGlscy5tb2NrQXBpRXJyb3IoJ0dlbmVyYXRpb24gZmFpbGVkJywgNTAwKTtcblxuICAgICAgLy8gVXBsb2FkIGZpbGVzIGFuZCBmYWlsIGdlbmVyYXRpb25cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkVXNlckltYWdlKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5hY3Rpb25zLnVwbG9hZEFwcGFyZWxJbWFnZShtb2NrRmlsZXMuYXBwYXJlbEltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuZ2VuZXJhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBFeHBlY3RlZCB0byBmYWlsXG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuY2FuUmV0cnkpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0dXAgc3VjY2Vzc2Z1bCByZXRyeVxuICAgICAgdGVzdFV0aWxzLm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCh7XG4gICAgICAgIGltZ19nZW5lcmF0ZWQ6ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHJldHJ5LXN1Y2Nlc3MnXG4gICAgICB9KTtcblxuICAgICAgLy8gUmV0cnlcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMucmV0cnkoKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLnJlc3VsdEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5lcnJvck1lc3NhZ2UpLnRvQmVOdWxsKCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXNldCB3b3JrZmxvdyBzdGF0ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgdGVzdFV0aWxzIH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZUJyaWRnZUxheWVyKCkpO1xuICAgICAgY29uc3QgbW9ja0ZpbGVzID0gV29ya2Zsb3dUZXN0VXRpbHMuY3JlYXRlTW9ja0ZpbGVzKCk7XG5cbiAgICAgIC8vIFNldHVwIGFuZCBjb21wbGV0ZSB3b3JrZmxvd1xuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtaW1hZ2UnKTtcbiAgICAgIHRlc3RVdGlscy5tb2NrU3VjY2Vzc2Z1bEFwaUNhbGwoKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuZ2VuZXJhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLnJlc3VsdEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVzZXRcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmFjdGlvbnMucmVzZXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLmhhc1VzZXJJbWFnZSkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5oYXNBcHBhcmVsSW1hZ2UpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUucmVzdWx0SW1hZ2UpLnRvQmVOdWxsKCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5jYW5HZW5lcmF0ZSkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1VJIEFjdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoaWRlIHJlc3VsdCB3aGVuIHJlcXVlc3RlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gU2V0dXAgYW5kIGNvbXBsZXRlIHdvcmtmbG93IHRvIHNob3cgcmVzdWx0XG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuICAgICAgdGVzdFV0aWxzLm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCgpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5hY3Rpb25zLnVwbG9hZFVzZXJJbWFnZShtb2NrRmlsZXMudXNlckltYWdlKTtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRBcHBhcmVsSW1hZ2UobW9ja0ZpbGVzLmFwcGFyZWxJbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5nZW5lcmF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuc2hvd1Jlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBIaWRlIHJlc3VsdFxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5oaWRlUmVzdWx0KCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5zaG93UmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbGVhciBlcnJvciB3aGVuIHJlcXVlc3RlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gU2V0dXAgZXJyb3Igc2NlbmFyaW9cbiAgICAgIHRlc3RVdGlscy5tb2NrRmlsZVJlYWQoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQscHJvY2Vzc2VkLWltYWdlJyk7XG4gICAgICB0ZXN0VXRpbHMubW9ja0FwaUVycm9yKCdUZXN0IGVycm9yJywgNTAwKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5nZW5lcmF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIHRvIGZhaWxcbiAgICAgIH1cblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5lcnJvck1lc3NhZ2UpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGVhciBlcnJvclxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5jbGVhckVycm9yKCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5lcnJvck1lc3NhZ2UpLnRvQmVOdWxsKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRvd25sb2FkIGFjdGlvbiB3aXRob3V0IGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgLy8gTW9jayBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGFuZCByZWxhdGVkIEFQSXNcbiAgICAgIGNvbnN0IG1vY2tMaW5rID0ge1xuICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgZG93bmxvYWQ6ICcnLFxuICAgICAgICBjbGljazogamVzdC5mbigpLFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3JpZ2luYWxDcmVhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudDtcbiAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCh0YWcpID0+IHtcbiAgICAgICAgaWYgKHRhZyA9PT0gJ2EnKSByZXR1cm4gbW9ja0xpbms7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbENyZWF0ZUVsZW1lbnQuY2FsbChkb2N1bWVudCwgdGFnKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb2NrQXBwZW5kQ2hpbGQgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBtb2NrUmVtb3ZlQ2hpbGQgPSBqZXN0LmZuKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkID0gbW9ja0FwcGVuZENoaWxkO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCA9IG1vY2tSZW1vdmVDaGlsZDtcblxuICAgICAgLy8gU2V0dXAgYW5kIGNvbXBsZXRlIHdvcmtmbG93XG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuICAgICAgdGVzdFV0aWxzLm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCh7XG4gICAgICAgIGltZ19nZW5lcmF0ZWQ6ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LGRvd25sb2FkLXRlc3QtaW1hZ2UnXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuZ2VuZXJhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLnJlc3VsdEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRG93bmxvYWRcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuZG93bmxvYWRSZXN1bHQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0xpbmsuY2xpY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrQXBwZW5kQ2hpbGQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrUmVtb3ZlQ2hpbGQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBtZXRob2RzXG4gICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50ID0gb3JpZ2luYWxDcmVhdGVFbGVtZW50O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2hhcmUgYWN0aW9uIHdpdGggbmF2aWdhdG9yLnNoYXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VCcmlkZ2VMYXllcigpKTtcbiAgICAgIGNvbnN0IG1vY2tGaWxlcyA9IFdvcmtmbG93VGVzdFV0aWxzLmNyZWF0ZU1vY2tGaWxlcygpO1xuXG4gICAgICAvLyBNb2NrIG5hdmlnYXRvci5zaGFyZVxuICAgICAgY29uc3QgbW9ja1NoYXJlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAnc2hhcmUnLCB7XG4gICAgICAgIHZhbHVlOiBtb2NrU2hhcmUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGZldGNoIGZvciBibG9iIGNvbnZlcnNpb25cbiAgICAgIGNvbnN0IG1vY2tCbG9iID0gbmV3IEJsb2IoWydtb2NrLWltYWdlLWRhdGEnXSwgeyB0eXBlOiAnaW1hZ2UvanBlZycgfSk7XG4gICAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBibG9iOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobW9ja0Jsb2IpXG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0dXAgYW5kIGNvbXBsZXRlIHdvcmtmbG93XG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuICAgICAgdGVzdFV0aWxzLm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCh7XG4gICAgICAgIGltZ19nZW5lcmF0ZWQ6ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHNoYXJlLXRlc3QtaW1hZ2UnXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy51cGxvYWRVc2VySW1hZ2UobW9ja0ZpbGVzLnVzZXJJbWFnZSk7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkQXBwYXJlbEltYWdlKG1vY2tGaWxlcy5hcHBhcmVsSW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuZ2VuZXJhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXRlLnJlc3VsdEltYWdlKS50b0JlVHJ1dGh5KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hhcmVcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMuc2hhcmVSZXN1bHQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja1NoYXJlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHRpdGxlOiAnTXkgVHJ5LU9uIFJlc3VsdCcsXG4gICAgICAgICAgdGV4dDogJ0NoZWNrIG91dCBteSB2aXJ0dWFsIHRyeS1vbiEnLFxuICAgICAgICAgIGZpbGVzOiBleHBlY3QuYW55KEFycmF5KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25maWd1cmF0aW9uIE9wdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXNwZWN0IGN1c3RvbSBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tQ29uZmlnID0ge1xuICAgICAgICB3b3JrZmxvdzoge1xuICAgICAgICAgIHRpbWVvdXRNczogMzAwMDAsXG4gICAgICAgICAgY29tcHJlc3Npb25MaW1pdEtCOiAxMDI0LFxuICAgICAgICB9LFxuICAgICAgICB1aToge1xuICAgICAgICAgIHNob3dEZXRhaWxlZFByb2dyZXNzOiBmYWxzZSxcbiAgICAgICAgICBlbmFibGVTaGFyZTogZmFsc2UsXG4gICAgICAgICAgZW5hYmxlRG93bmxvYWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoY3VzdG9tQ29uZmlnKSk7XG5cbiAgICAgIC8vIENvbmZpZ3VyYXRpb24gaXMgYXBwbGllZCBpbnRlcm5hbGx5LCB0ZXN0IHNob3VsZCBub3QgdGhyb3cgZXJyb3JzXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWN0aW9ucykudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhbGxiYWNrIGNvbmZpZ3VyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvbkdlbmVyYXRpb25TdGFydCA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IG9uR2VuZXJhdGlvbkNvbXBsZXRlID0gamVzdC5mbigpO1xuICAgICAgY29uc3Qgb25FcnJvciA9IGplc3QuZm4oKTtcbiAgICAgIGNvbnN0IG9uU3VjY2VzcyA9IGplc3QuZm4oKTtcblxuICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICBvbkdlbmVyYXRpb25TdGFydCxcbiAgICAgICAgICBvbkdlbmVyYXRpb25Db21wbGV0ZSxcbiAgICAgICAgICBvbkVycm9yLFxuICAgICAgICAgIG9uU3VjY2VzcyxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB0ZXN0VXRpbHMgfSA9IHJlbmRlckJyaWRnZUhvb2soKCkgPT4gdXNlQnJpZGdlTGF5ZXIoY29uZmlnKSk7XG4gICAgICBjb25zdCBtb2NrRmlsZXMgPSBXb3JrZmxvd1Rlc3RVdGlscy5jcmVhdGVNb2NrRmlsZXMoKTtcblxuICAgICAgdGVzdFV0aWxzLm1vY2tGaWxlUmVhZCgnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxwcm9jZXNzZWQtaW1hZ2UnKTtcbiAgICAgIHRlc3RVdGlscy5tb2NrU3VjY2Vzc2Z1bEFwaUNhbGwoe1xuICAgICAgICBpbWdfZ2VuZXJhdGVkOiAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxjYWxsYmFjay10ZXN0J1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkVXNlckltYWdlKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5hY3Rpb25zLnVwbG9hZEFwcGFyZWxJbWFnZShtb2NrRmlsZXMuYXBwYXJlbEltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5hY3Rpb25zLmdlbmVyYXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0ZS5yZXN1bHRJbWFnZSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChvbkdlbmVyYXRpb25TdGFydCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG9uR2VuZXJhdGlvbkNvbXBsZXRlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3Qob25TdWNjZXNzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3Qob25FcnJvcikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Byb2dyZXNzIFRyYWNraW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdHJhY2sgcHJvZ3Jlc3MgZHVyaW5nIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHRlc3RVdGlscyB9ID0gcmVuZGVyQnJpZGdlSG9vaygoKSA9PiB1c2VCcmlkZ2VMYXllcigpKTtcbiAgICAgIGNvbnN0IG1vY2tGaWxlcyA9IFdvcmtmbG93VGVzdFV0aWxzLmNyZWF0ZU1vY2tGaWxlcygpO1xuXG4gICAgICB0ZXN0VXRpbHMubW9ja0ZpbGVSZWFkKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LHByb2Nlc3NlZC1pbWFnZScpO1xuICAgICAgdGVzdFV0aWxzLm1vY2tTdWNjZXNzZnVsQXBpQ2FsbCh1bmRlZmluZWQsIDUwMCk7IC8vIEFkZCBkZWxheVxuXG4gICAgICAvLyBVcGxvYWQgZmlsZXNcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmFjdGlvbnMudXBsb2FkVXNlckltYWdlKG1vY2tGaWxlcy51c2VySW1hZ2UpO1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5hY3Rpb25zLnVwbG9hZEFwcGFyZWxJbWFnZShtb2NrRmlsZXMuYXBwYXJlbEltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpbml0aWFsUHJvZ3Jlc3MgPSByZXN1bHQuY3VycmVudC5zdGF0ZS5wcm9ncmVzcztcblxuICAgICAgLy8gU3RhcnQgZ2VuZXJhdGlvblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQuYWN0aW9ucy5nZW5lcmF0ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb2dyZXNzIHNob3VsZCB1cGRhdGUgZHVyaW5nIGdlbmVyYXRpb25cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUuaXNMb2FkaW5nKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUucmVzdWx0SW1hZ2UpLnRvQmVUcnV0aHkoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMTAwMDAgfSk7XG5cbiAgICAgIGV4cGVjdChpbml0aWFsUHJvZ3Jlc3MpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgbWVhbmluZ2Z1bCBwcm9ncmVzcyBtZXNzYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJCcmlkZ2VIb29rKCgpID0+IHVzZUJyaWRnZUxheWVyKCkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdGUucHJvZ3Jlc3NNZXNzYWdlKS50b0JlKCdSZWFkeSB0byBnZW5lcmF0ZScpO1xuXG4gICAgICAvLyBBZGQgbW9yZSBwcm9ncmVzcyBtZXNzYWdlIHRlc3RzIGFzIHRoZSB3b3JrZmxvdyBkZXZlbG9wc1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJzZXR1cFRlc3RFbnZpcm9ubWVudCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsIk1vY2tBUElVdGlscyIsInNldHVwU2VydmVyIiwiaXQiLCJyZXN1bHQiLCJyZW5kZXJCcmlkZ2VIb29rIiwidXNlQnJpZGdlTGF5ZXIiLCJzdGF0ZSIsImN1cnJlbnQiLCJleHBlY3QiLCJpc0xvYWRpbmciLCJ0b0JlIiwiaXNSZWFkeSIsInNob3dSZXN1bHQiLCJyZXN1bHRJbWFnZSIsInRvQmVOdWxsIiwiZXJyb3JNZXNzYWdlIiwic3VjY2Vzc01lc3NhZ2UiLCJoYXNVc2VySW1hZ2UiLCJoYXNBcHBhcmVsSW1hZ2UiLCJ1c2VySW1hZ2VQcmV2aWV3IiwiYXBwYXJlbEltYWdlUHJldmlldyIsInByb2dyZXNzIiwiY2FuR2VuZXJhdGUiLCJjYW5SZXRyeSIsImNhblJlc2V0IiwiYWN0aW9ucyIsInVwbG9hZFVzZXJJbWFnZSIsInVwbG9hZEFwcGFyZWxJbWFnZSIsInJlbW92ZVVzZXJJbWFnZSIsInJlbW92ZUFwcGFyZWxJbWFnZSIsImdlbmVyYXRlIiwicmV0cnkiLCJyZXNldCIsImhpZGVSZXN1bHQiLCJjbGVhckVycm9yIiwiZG93bmxvYWRSZXN1bHQiLCJzaGFyZVJlc3VsdCIsImFkdmFuY2VkIiwid29ya2Zsb3ciLCJ0b0JlRGVmaW5lZCIsInVwbG9hZHMiLCJ1c2VyIiwiYXBwYXJlbCIsInRlc3RVdGlscyIsIm1vY2tGaWxlcyIsIldvcmtmbG93VGVzdFV0aWxzIiwiY3JlYXRlTW9ja0ZpbGVzIiwibW9ja0ZpbGVSZWFkIiwiYWN0IiwidXNlckltYWdlIiwid2FpdEZvciIsImFwcGFyZWxJbWFnZSIsIm1vY2tGaWxlUmVhZEVycm9yIiwiZXJyb3IiLCJtb2NrU3VjY2Vzc2Z1bEFwaUNhbGwiLCJpbWdfZ2VuZXJhdGVkIiwidG9CZVRydXRoeSIsInRpbWVvdXQiLCJtb2NrQXBpRXJyb3IiLCJtb2NrTGluayIsImhyZWYiLCJkb3dubG9hZCIsImNsaWNrIiwiamVzdCIsImZuIiwib3JpZ2luYWxDcmVhdGVFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwibW9ja0ltcGxlbWVudGF0aW9uIiwidGFnIiwiY2FsbCIsIm1vY2tBcHBlbmRDaGlsZCIsIm1vY2tSZW1vdmVDaGlsZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tTaGFyZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidW5kZWZpbmVkIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJuYXZpZ2F0b3IiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIm1vY2tCbG9iIiwiQmxvYiIsInR5cGUiLCJnbG9iYWwiLCJmZXRjaCIsImJsb2IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwib2JqZWN0Q29udGFpbmluZyIsInRpdGxlIiwidGV4dCIsImZpbGVzIiwiYW55IiwiQXJyYXkiLCJjdXN0b21Db25maWciLCJ0aW1lb3V0TXMiLCJjb21wcmVzc2lvbkxpbWl0S0IiLCJ1aSIsInNob3dEZXRhaWxlZFByb2dyZXNzIiwiZW5hYmxlU2hhcmUiLCJlbmFibGVEb3dubG9hZCIsIm9uR2VuZXJhdGlvblN0YXJ0Iiwib25HZW5lcmF0aW9uQ29tcGxldGUiLCJvbkVycm9yIiwib25TdWNjZXNzIiwiY29uZmlnIiwiY2FsbGJhY2tzIiwibm90IiwiaW5pdGlhbFByb2dyZXNzIiwicHJvZ3Jlc3NNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQzs7Ozt1QkFDNEI7dUJBTXRCO2dDQUN3QjtBQUUvQix5QkFBeUI7QUFDekJBLElBQUFBLDJCQUFvQjtBQUVwQkMsU0FBUyxrQkFBa0I7SUFDekJDLFdBQVc7UUFDVEMsbUJBQVksQ0FBQ0MsV0FBVztJQUMxQjtJQUVBSCxTQUFTLGtCQUFrQjtRQUN6QkksR0FBRywyREFBMkQ7WUFDNUQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFFeEQsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR0gsT0FBT0ksT0FBTztZQUVoQ0MsT0FBT0YsTUFBTUcsU0FBUyxFQUFFQyxJQUFJLENBQUM7WUFDN0JGLE9BQU9GLE1BQU1LLE9BQU8sRUFBRUQsSUFBSSxDQUFDO1lBQzNCRixPQUFPRixNQUFNTSxVQUFVLEVBQUVGLElBQUksQ0FBQztZQUM5QkYsT0FBT0YsTUFBTU8sV0FBVyxFQUFFQyxRQUFRO1lBQ2xDTixPQUFPRixNQUFNUyxZQUFZLEVBQUVELFFBQVE7WUFDbkNOLE9BQU9GLE1BQU1VLGNBQWMsRUFBRUYsUUFBUTtZQUNyQ04sT0FBT0YsTUFBTVcsWUFBWSxFQUFFUCxJQUFJLENBQUM7WUFDaENGLE9BQU9GLE1BQU1ZLGVBQWUsRUFBRVIsSUFBSSxDQUFDO1lBQ25DRixPQUFPRixNQUFNYSxnQkFBZ0IsRUFBRUwsUUFBUTtZQUN2Q04sT0FBT0YsTUFBTWMsbUJBQW1CLEVBQUVOLFFBQVE7WUFDMUNOLE9BQU9GLE1BQU1lLFFBQVEsRUFBRVgsSUFBSSxDQUFDO1lBQzVCRixPQUFPRixNQUFNZ0IsV0FBVyxFQUFFWixJQUFJLENBQUM7WUFDL0JGLE9BQU9GLE1BQU1pQixRQUFRLEVBQUViLElBQUksQ0FBQztZQUM1QkYsT0FBT0YsTUFBTWtCLFFBQVEsRUFBRWQsSUFBSSxDQUFDO1FBQzlCO1FBRUFSLEdBQUcsa0RBQWtEO1lBQ25ELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBRXhELE1BQU0sRUFBRW9CLE9BQU8sRUFBRSxHQUFHdEIsT0FBT0ksT0FBTztZQUVsQ0MsT0FBTyxPQUFPaUIsUUFBUUMsZUFBZSxFQUFFaEIsSUFBSSxDQUFDO1lBQzVDRixPQUFPLE9BQU9pQixRQUFRRSxrQkFBa0IsRUFBRWpCLElBQUksQ0FBQztZQUMvQ0YsT0FBTyxPQUFPaUIsUUFBUUcsZUFBZSxFQUFFbEIsSUFBSSxDQUFDO1lBQzVDRixPQUFPLE9BQU9pQixRQUFRSSxrQkFBa0IsRUFBRW5CLElBQUksQ0FBQztZQUMvQ0YsT0FBTyxPQUFPaUIsUUFBUUssUUFBUSxFQUFFcEIsSUFBSSxDQUFDO1lBQ3JDRixPQUFPLE9BQU9pQixRQUFRTSxLQUFLLEVBQUVyQixJQUFJLENBQUM7WUFDbENGLE9BQU8sT0FBT2lCLFFBQVFPLEtBQUssRUFBRXRCLElBQUksQ0FBQztZQUNsQ0YsT0FBTyxPQUFPaUIsUUFBUVEsVUFBVSxFQUFFdkIsSUFBSSxDQUFDO1lBQ3ZDRixPQUFPLE9BQU9pQixRQUFRUyxVQUFVLEVBQUV4QixJQUFJLENBQUM7WUFDdkNGLE9BQU8sT0FBT2lCLFFBQVFVLGNBQWMsRUFBRXpCLElBQUksQ0FBQztZQUMzQ0YsT0FBTyxPQUFPaUIsUUFBUVcsV0FBVyxFQUFFMUIsSUFBSSxDQUFDO1FBQzFDO1FBRUFSLEdBQUcsc0RBQXNEO1lBQ3ZELE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBRXhELE1BQU0sRUFBRWdDLFFBQVEsRUFBRSxHQUFHbEMsT0FBT0ksT0FBTztZQUVuQ0MsT0FBTzZCLFNBQVNDLFFBQVEsRUFBRUMsV0FBVztZQUNyQy9CLE9BQU82QixTQUFTRyxPQUFPLEVBQUVELFdBQVc7WUFDcEMvQixPQUFPNkIsU0FBU0csT0FBTyxDQUFDQyxJQUFJLEVBQUVGLFdBQVc7WUFDekMvQixPQUFPNkIsU0FBU0csT0FBTyxDQUFDRSxPQUFPLEVBQUVILFdBQVc7UUFDOUM7SUFDRjtJQUVBekMsU0FBUyx1QkFBdUI7UUFDOUJJLEdBQUcsZ0RBQWdEO1lBQ2pELE1BQU0sRUFBRUMsTUFBTSxFQUFFd0MsU0FBUyxFQUFFLEdBQUd2QyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUNuRSxNQUFNdUMsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkRILFVBQVVJLFlBQVksQ0FBQztZQUV2QixNQUFNQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztZQUNsRTtZQUVBLE1BQU1DLElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDVyxZQUFZLEVBQUVQLElBQUksQ0FBQztZQUNqRDtRQUNGO1FBRUFSLEdBQUcsbURBQW1EO1lBQ3BELE1BQU0sRUFBRUMsTUFBTSxFQUFFd0MsU0FBUyxFQUFFLEdBQUd2QyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUNuRSxNQUFNdUMsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkRILFVBQVVJLFlBQVksQ0FBQztZQUV2QixNQUFNQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsTUFBTUQsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNZLGVBQWUsRUFBRVIsSUFBSSxDQUFDO1lBQ3BEO1FBQ0Y7UUFFQVIsR0FBRywwQ0FBMEM7WUFDM0MsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QyxTQUFTLEVBQUUsR0FBR3ZDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBQ25FLE1BQU11QyxZQUFZQyx3QkFBaUIsQ0FBQ0MsZUFBZTtZQUVuREgsVUFBVVMsaUJBQWlCLENBQUM7WUFFNUIsSUFBSTtnQkFDRixNQUFNSixJQUFBQSxVQUFHLEVBQUM7b0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDbEU7WUFDRixFQUFFLE9BQU9JLE9BQU87Z0JBQ2Q3QyxPQUFPNkMsT0FBT2QsV0FBVztZQUMzQjtZQUVBL0IsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNXLFlBQVksRUFBRVAsSUFBSSxDQUFDO1FBQ2pEO1FBRUFSLEdBQUcsMkNBQTJDO1lBQzVDLE1BQU0sRUFBRUMsTUFBTSxFQUFFd0MsU0FBUyxFQUFFLEdBQUd2QyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUNuRSxNQUFNdUMsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkRILFVBQVVJLFlBQVksQ0FBQztZQUV2QixzQkFBc0I7WUFDdEIsTUFBTUMsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNDLGVBQWUsQ0FBQ2tCLFVBQVVLLFNBQVM7Z0JBQ2hFLE1BQU05QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNFLGtCQUFrQixDQUFDaUIsVUFBVU8sWUFBWTtZQUN4RTtZQUVBLE1BQU1ELElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDVyxZQUFZLEVBQUVQLElBQUksQ0FBQztnQkFDL0NGLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDWSxlQUFlLEVBQUVSLElBQUksQ0FBQztZQUNwRDtZQUVBLG9CQUFvQjtZQUNwQnNDLElBQUFBLFVBQUcsRUFBQztnQkFDRjdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0csZUFBZTtZQUN4QztZQUVBLE1BQU1zQixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1oxQyxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ1csWUFBWSxFQUFFUCxJQUFJLENBQUM7WUFDakQ7WUFFQSx1QkFBdUI7WUFDdkJzQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNJLGtCQUFrQjtZQUMzQztZQUVBLE1BQU1xQixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1oxQyxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ1ksZUFBZSxFQUFFUixJQUFJLENBQUM7WUFDcEQ7UUFDRjtJQUNGO0lBRUFaLFNBQVMsc0JBQXNCO1FBQzdCSSxHQUFHLGdEQUFnRDtZQUNqRCxNQUFNLEVBQUVDLE1BQU0sRUFBRXdDLFNBQVMsRUFBRSxHQUFHdkMsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFDbkUsTUFBTXVDLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELGNBQWM7WUFDZEgsVUFBVUksWUFBWSxDQUFDO1lBQ3ZCSixVQUFVVyxxQkFBcUIsQ0FBQztnQkFDOUJDLGVBQWU7WUFDakI7WUFFQSxlQUFlO1lBQ2YsTUFBTVAsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNDLGVBQWUsQ0FBQ2tCLFVBQVVLLFNBQVM7Z0JBQ2hFLE1BQU05QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNFLGtCQUFrQixDQUFDaUIsVUFBVU8sWUFBWTtZQUN4RTtZQUVBLE1BQU1ELElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDZ0IsV0FBVyxFQUFFWixJQUFJLENBQUM7WUFDaEQ7WUFFQSxXQUFXO1lBQ1gsTUFBTXNDLElBQUFBLFVBQUcsRUFBQztnQkFDUixNQUFNN0MsT0FBT0ksT0FBTyxDQUFDa0IsT0FBTyxDQUFDSyxRQUFRO1lBQ3ZDO1lBRUEsTUFBTW9CLElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDTyxXQUFXLEVBQUUyQyxVQUFVO2dCQUNuRGhELE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDVSxjQUFjLEVBQUV3QyxVQUFVO1lBQ3hELEdBQUc7Z0JBQUVDLFNBQVM7WUFBTTtRQUN0QjtRQUVBdkQsR0FBRyxvREFBb0Q7WUFDckQsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QyxTQUFTLEVBQUUsR0FBR3ZDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBQ25FLE1BQU11QyxZQUFZQyx3QkFBaUIsQ0FBQ0MsZUFBZTtZQUVuRCxjQUFjO1lBQ2RILFVBQVVJLFlBQVksQ0FBQztZQUN2QkosVUFBVWUsWUFBWSxDQUFDLHFCQUFxQjtZQUU1QyxlQUFlO1lBQ2YsTUFBTVYsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNDLGVBQWUsQ0FBQ2tCLFVBQVVLLFNBQVM7Z0JBQ2hFLE1BQU05QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNFLGtCQUFrQixDQUFDaUIsVUFBVU8sWUFBWTtZQUN4RTtZQUVBLE1BQU1ELElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDZ0IsV0FBVyxFQUFFWixJQUFJLENBQUM7WUFDaEQ7WUFFQSw4QkFBOEI7WUFDOUIsSUFBSTtnQkFDRixNQUFNc0MsSUFBQUEsVUFBRyxFQUFDO29CQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNLLFFBQVE7Z0JBQ3ZDO1lBQ0YsRUFBRSxPQUFPdUIsT0FBTztZQUNkLG1CQUFtQjtZQUNyQjtZQUVBLE1BQU1ILElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDUyxZQUFZLEVBQUV5QyxVQUFVO2dCQUNwRGhELE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDaUIsUUFBUSxFQUFFYixJQUFJLENBQUM7WUFDN0M7UUFDRjtRQUVBUixHQUFHLHFDQUFxQztZQUN0QyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdDLFNBQVMsRUFBRSxHQUFHdkMsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFDbkUsTUFBTXVDLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELGtDQUFrQztZQUNsQ0gsVUFBVUksWUFBWSxDQUFDO1lBQ3ZCSixVQUFVZSxZQUFZLENBQUMscUJBQXFCO1lBRTVDLG1DQUFtQztZQUNuQyxNQUFNVixJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDaEUsTUFBTTlDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsSUFBSTtnQkFDRixNQUFNSCxJQUFBQSxVQUFHLEVBQUM7b0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0ssUUFBUTtnQkFDdkM7WUFDRixFQUFFLE9BQU91QixPQUFPO1lBQ2QsbUJBQW1CO1lBQ3JCO1lBRUEsTUFBTUgsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNpQixRQUFRLEVBQUViLElBQUksQ0FBQztZQUM3QztZQUVBLHlCQUF5QjtZQUN6QmlDLFVBQVVXLHFCQUFxQixDQUFDO2dCQUM5QkMsZUFBZTtZQUNqQjtZQUVBLFFBQVE7WUFDUixNQUFNUCxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ00sS0FBSztZQUNwQztZQUVBLE1BQU1tQixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1oxQyxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ08sV0FBVyxFQUFFMkMsVUFBVTtnQkFDbkRoRCxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ1MsWUFBWSxFQUFFRCxRQUFRO1lBQ3BELEdBQUc7Z0JBQUUyQyxTQUFTO1lBQU07UUFDdEI7UUFFQXZELEdBQUcseUNBQXlDO1lBQzFDLE1BQU0sRUFBRUMsTUFBTSxFQUFFd0MsU0FBUyxFQUFFLEdBQUd2QyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUNuRSxNQUFNdUMsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkQsOEJBQThCO1lBQzlCSCxVQUFVSSxZQUFZLENBQUM7WUFDdkJKLFVBQVVXLHFCQUFxQjtZQUUvQixNQUFNTixJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDaEUsTUFBTTlDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsTUFBTUgsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNLLFFBQVE7WUFDdkM7WUFFQSxNQUFNb0IsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNPLFdBQVcsRUFBRTJDLFVBQVU7WUFDckQ7WUFFQSxRQUFRO1lBQ1JSLElBQUFBLFVBQUcsRUFBQztnQkFDRjdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ08sS0FBSztZQUM5QjtZQUVBLE1BQU1rQixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1oxQyxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ1csWUFBWSxFQUFFUCxJQUFJLENBQUM7Z0JBQy9DRixPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ1ksZUFBZSxFQUFFUixJQUFJLENBQUM7Z0JBQ2xERixPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ08sV0FBVyxFQUFFQyxRQUFRO2dCQUNqRE4sT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNnQixXQUFXLEVBQUVaLElBQUksQ0FBQztZQUNoRDtRQUNGO0lBQ0Y7SUFFQVosU0FBUyxjQUFjO1FBQ3JCSSxHQUFHLHFDQUFxQztZQUN0QyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdDLFNBQVMsRUFBRSxHQUFHdkMsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFDbkUsTUFBTXVDLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELDZDQUE2QztZQUM3Q0gsVUFBVUksWUFBWSxDQUFDO1lBQ3ZCSixVQUFVVyxxQkFBcUI7WUFFL0IsTUFBTU4sSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNDLGVBQWUsQ0FBQ2tCLFVBQVVLLFNBQVM7Z0JBQ2hFLE1BQU05QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNFLGtCQUFrQixDQUFDaUIsVUFBVU8sWUFBWTtZQUN4RTtZQUVBLE1BQU1ILElBQUFBLFVBQUcsRUFBQztnQkFDUixNQUFNN0MsT0FBT0ksT0FBTyxDQUFDa0IsT0FBTyxDQUFDSyxRQUFRO1lBQ3ZDO1lBRUEsTUFBTW9CLElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDTSxVQUFVLEVBQUVGLElBQUksQ0FBQztZQUMvQztZQUVBLGNBQWM7WUFDZHNDLElBQUFBLFVBQUcsRUFBQztnQkFDRjdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ1EsVUFBVTtZQUNuQztZQUVBLE1BQU1pQixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1oxQyxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ00sVUFBVSxFQUFFRixJQUFJLENBQUM7WUFDL0M7UUFDRjtRQUVBUixHQUFHLHFDQUFxQztZQUN0QyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdDLFNBQVMsRUFBRSxHQUFHdkMsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFDbkUsTUFBTXVDLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ELHVCQUF1QjtZQUN2QkgsVUFBVUksWUFBWSxDQUFDO1lBQ3ZCSixVQUFVZSxZQUFZLENBQUMsY0FBYztZQUVyQyxNQUFNVixJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDaEUsTUFBTTlDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsSUFBSTtnQkFDRixNQUFNSCxJQUFBQSxVQUFHLEVBQUM7b0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0ssUUFBUTtnQkFDdkM7WUFDRixFQUFFLE9BQU91QixPQUFPO1lBQ2QsbUJBQW1CO1lBQ3JCO1lBRUEsTUFBTUgsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNTLFlBQVksRUFBRXlDLFVBQVU7WUFDdEQ7WUFFQSxjQUFjO1lBQ2RSLElBQUFBLFVBQUcsRUFBQztnQkFDRjdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ1MsVUFBVTtZQUNuQztZQUVBLE1BQU1nQixJQUFBQSxjQUFPLEVBQUM7Z0JBQ1oxQyxPQUFPTCxPQUFPSSxPQUFPLENBQUNELEtBQUssQ0FBQ1MsWUFBWSxFQUFFRCxRQUFRO1lBQ3BEO1FBQ0Y7UUFFQVosR0FBRyxnREFBZ0Q7WUFDakQsTUFBTSxFQUFFQyxNQUFNLEVBQUV3QyxTQUFTLEVBQUUsR0FBR3ZDLElBQUFBLHVCQUFnQixFQUFDLElBQU1DLElBQUFBLDhCQUFjO1lBQ25FLE1BQU11QyxZQUFZQyx3QkFBaUIsQ0FBQ0MsZUFBZTtZQUVuRCwrQ0FBK0M7WUFDL0MsTUFBTWEsV0FBVztnQkFDZkMsTUFBTTtnQkFDTkMsVUFBVTtnQkFDVkMsT0FBT0MsS0FBS0MsRUFBRTtZQUNoQjtZQUVBLE1BQU1DLHdCQUF3QkMsU0FBU0MsYUFBYTtZQUNwREQsU0FBU0MsYUFBYSxHQUFHSixLQUFLQyxFQUFFLEdBQUdJLGtCQUFrQixDQUFDLENBQUNDO2dCQUNyRCxJQUFJQSxRQUFRLEtBQUssT0FBT1Y7Z0JBQ3hCLE9BQU9NLHNCQUFzQkssSUFBSSxDQUFDSixVQUFVRztZQUM5QztZQUVBLE1BQU1FLGtCQUFrQlIsS0FBS0MsRUFBRTtZQUMvQixNQUFNUSxrQkFBa0JULEtBQUtDLEVBQUU7WUFDL0JFLFNBQVNPLElBQUksQ0FBQ0MsV0FBVyxHQUFHSDtZQUM1QkwsU0FBU08sSUFBSSxDQUFDRSxXQUFXLEdBQUdIO1lBRTVCLDhCQUE4QjtZQUM5QjdCLFVBQVVJLFlBQVksQ0FBQztZQUN2QkosVUFBVVcscUJBQXFCLENBQUM7Z0JBQzlCQyxlQUFlO1lBQ2pCO1lBRUEsTUFBTVAsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNDLGVBQWUsQ0FBQ2tCLFVBQVVLLFNBQVM7Z0JBQ2hFLE1BQU05QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNFLGtCQUFrQixDQUFDaUIsVUFBVU8sWUFBWTtZQUN4RTtZQUVBLE1BQU1ILElBQUFBLFVBQUcsRUFBQztnQkFDUixNQUFNN0MsT0FBT0ksT0FBTyxDQUFDa0IsT0FBTyxDQUFDSyxRQUFRO1lBQ3ZDO1lBRUEsTUFBTW9CLElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDTyxXQUFXLEVBQUUyQyxVQUFVO1lBQ3JEO1lBRUEsV0FBVztZQUNYUixJQUFBQSxVQUFHLEVBQUM7Z0JBQ0Y3QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNVLGNBQWM7WUFDdkM7WUFFQTNCLE9BQU9tRCxTQUFTRyxLQUFLLEVBQUVjLGdCQUFnQjtZQUN2Q3BFLE9BQU8rRCxpQkFBaUJLLGdCQUFnQjtZQUN4Q3BFLE9BQU9nRSxpQkFBaUJJLGdCQUFnQjtZQUV4QywyQkFBMkI7WUFDM0JWLFNBQVNDLGFBQWEsR0FBR0Y7UUFDM0I7UUFFQS9ELEdBQUcsbURBQW1EO1lBQ3BELE1BQU0sRUFBRUMsTUFBTSxFQUFFd0MsU0FBUyxFQUFFLEdBQUd2QyxJQUFBQSx1QkFBZ0IsRUFBQyxJQUFNQyxJQUFBQSw4QkFBYztZQUNuRSxNQUFNdUMsWUFBWUMsd0JBQWlCLENBQUNDLGVBQWU7WUFFbkQsdUJBQXVCO1lBQ3ZCLE1BQU0rQixZQUFZZCxLQUFLQyxFQUFFLEdBQUdjLGlCQUFpQixDQUFDQztZQUM5Q0MsT0FBT0MsY0FBYyxDQUFDQyxXQUFXLFNBQVM7Z0JBQ3hDQyxPQUFPTjtnQkFDUE8sY0FBYztZQUNoQjtZQUVBLGlDQUFpQztZQUNqQyxNQUFNQyxXQUFXLElBQUlDLEtBQUs7Z0JBQUM7YUFBa0IsRUFBRTtnQkFBRUMsTUFBTTtZQUFhO1lBQ3BFQyxPQUFPQyxLQUFLLEdBQUcxQixLQUFLQyxFQUFFLEdBQUdjLGlCQUFpQixDQUFDO2dCQUN6Q1ksTUFBTSxJQUFNQyxRQUFRQyxPQUFPLENBQUNQO1lBQzlCO1lBRUEsOEJBQThCO1lBQzlCMUMsVUFBVUksWUFBWSxDQUFDO1lBQ3ZCSixVQUFVVyxxQkFBcUIsQ0FBQztnQkFDOUJDLGVBQWU7WUFDakI7WUFFQSxNQUFNUCxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDaEUsTUFBTTlDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsTUFBTUgsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNLLFFBQVE7WUFDdkM7WUFFQSxNQUFNb0IsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNPLFdBQVcsRUFBRTJDLFVBQVU7WUFDckQ7WUFFQSxRQUFRO1lBQ1IsTUFBTVIsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNXLFdBQVc7WUFDMUM7WUFFQTVCLE9BQU9xRSxXQUFXZ0Isb0JBQW9CLENBQ3BDckYsT0FBT3NGLGdCQUFnQixDQUFDO2dCQUN0QkMsT0FBTztnQkFDUEMsTUFBTTtnQkFDTkMsT0FBT3pGLE9BQU8wRixHQUFHLENBQUNDO1lBQ3BCO1FBRUo7SUFDRjtJQUVBckcsU0FBUyx5QkFBeUI7UUFDaENJLEdBQUcsdUNBQXVDO1lBQ3hDLE1BQU1rRyxlQUFlO2dCQUNuQjlELFVBQVU7b0JBQ1IrRCxXQUFXO29CQUNYQyxvQkFBb0I7Z0JBQ3RCO2dCQUNBQyxJQUFJO29CQUNGQyxzQkFBc0I7b0JBQ3RCQyxhQUFhO29CQUNiQyxnQkFBZ0I7Z0JBQ2xCO1lBQ0Y7WUFFQSxNQUFNLEVBQUV2RyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWMsRUFBQytGO1lBRXpELG9FQUFvRTtZQUNwRTVGLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxFQUFFaUMsV0FBVztZQUN4Qy9CLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sRUFBRWMsV0FBVztRQUM1QztRQUVBckMsR0FBRyx3Q0FBd0M7WUFDekMsTUFBTXlHLG9CQUFvQjVDLEtBQUtDLEVBQUU7WUFDakMsTUFBTTRDLHVCQUF1QjdDLEtBQUtDLEVBQUU7WUFDcEMsTUFBTTZDLFVBQVU5QyxLQUFLQyxFQUFFO1lBQ3ZCLE1BQU04QyxZQUFZL0MsS0FBS0MsRUFBRTtZQUV6QixNQUFNK0MsU0FBUztnQkFDYkMsV0FBVztvQkFDVEw7b0JBQ0FDO29CQUNBQztvQkFDQUM7Z0JBQ0Y7WUFDRjtZQUVBLE1BQU0sRUFBRTNHLE1BQU0sRUFBRXdDLFNBQVMsRUFBRSxHQUFHdkMsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWMsRUFBQzBHO1lBQ3BFLE1BQU1uRSxZQUFZQyx3QkFBaUIsQ0FBQ0MsZUFBZTtZQUVuREgsVUFBVUksWUFBWSxDQUFDO1lBQ3ZCSixVQUFVVyxxQkFBcUIsQ0FBQztnQkFDOUJDLGVBQWU7WUFDakI7WUFFQSxNQUFNUCxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDaEUsTUFBTTlDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsTUFBTUgsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU03QyxPQUFPSSxPQUFPLENBQUNrQixPQUFPLENBQUNLLFFBQVE7WUFDdkM7WUFFQSxNQUFNb0IsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNPLFdBQVcsRUFBRTJDLFVBQVU7WUFDckQ7WUFFQWhELE9BQU9tRyxtQkFBbUIvQixnQkFBZ0I7WUFDMUNwRSxPQUFPb0csc0JBQXNCaEMsZ0JBQWdCO1lBQzdDcEUsT0FBT3NHLFdBQVdsQyxnQkFBZ0I7WUFDbENwRSxPQUFPcUcsU0FBU0ksR0FBRyxDQUFDckMsZ0JBQWdCO1FBQ3RDO0lBQ0Y7SUFFQTlFLFNBQVMscUJBQXFCO1FBQzVCSSxHQUFHLHlDQUF5QztZQUMxQyxNQUFNLEVBQUVDLE1BQU0sRUFBRXdDLFNBQVMsRUFBRSxHQUFHdkMsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFDbkUsTUFBTXVDLFlBQVlDLHdCQUFpQixDQUFDQyxlQUFlO1lBRW5ESCxVQUFVSSxZQUFZLENBQUM7WUFDdkJKLFVBQVVXLHFCQUFxQixDQUFDeUIsV0FBVyxNQUFNLFlBQVk7WUFFN0QsZUFBZTtZQUNmLE1BQU0vQixJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTTdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDa0IsVUFBVUssU0FBUztnQkFDaEUsTUFBTTlDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0Usa0JBQWtCLENBQUNpQixVQUFVTyxZQUFZO1lBQ3hFO1lBRUEsTUFBTStELGtCQUFrQi9HLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDZSxRQUFRO1lBRXJELG1CQUFtQjtZQUNuQjJCLElBQUFBLFVBQUcsRUFBQztnQkFDRjdDLE9BQU9JLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQ0ssUUFBUTtZQUNqQztZQUVBLDJDQUEyQztZQUMzQyxNQUFNb0IsSUFBQUEsY0FBTyxFQUFDO2dCQUNaMUMsT0FBT0wsT0FBT0ksT0FBTyxDQUFDRCxLQUFLLENBQUNHLFNBQVMsRUFBRUMsSUFBSSxDQUFDO1lBQzlDO1lBRUEsTUFBTXdDLElBQUFBLGNBQU8sRUFBQztnQkFDWjFDLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDTyxXQUFXLEVBQUUyQyxVQUFVO1lBQ3JELEdBQUc7Z0JBQUVDLFNBQVM7WUFBTTtZQUVwQmpELE9BQU8wRyxpQkFBaUJ4RyxJQUFJLENBQUM7UUFDL0I7UUFFQVIsR0FBRywrQ0FBK0M7WUFDaEQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsdUJBQWdCLEVBQUMsSUFBTUMsSUFBQUEsOEJBQWM7WUFFeERHLE9BQU9MLE9BQU9JLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDNkcsZUFBZSxFQUFFekcsSUFBSSxDQUFDO1FBRWxELDJEQUEyRDtRQUM3RDtJQUNGO0FBQ0YifQ==