22b3d6df599d2be4156e252853aaced7
// Text Overlay System for Canvas
// Comprehensive text rendering with styling, positioning, and measurement
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    DEFAULT_TEXT_STYLE: function() {
        return DEFAULT_TEXT_STYLE;
    },
    TextAlign: function() {
        return TextAlign;
    },
    TextBaseline: function() {
        return TextBaseline;
    },
    TextOverlayRenderer: function() {
        return TextOverlayRenderer;
    },
    TextOverlayUtils: function() {
        return TextOverlayUtils;
    },
    createTextOverlayRenderer: function() {
        return createTextOverlayRenderer;
    }
});
var TextAlign = /*#__PURE__*/ function(TextAlign) {
    TextAlign["Left"] = "left";
    TextAlign["Center"] = "center";
    TextAlign["Right"] = "right";
    TextAlign["Start"] = "start";
    TextAlign["End"] = "end";
    return TextAlign;
}({});
var TextBaseline = /*#__PURE__*/ function(TextBaseline) {
    TextBaseline["Top"] = "top";
    TextBaseline["Hanging"] = "hanging";
    TextBaseline["Middle"] = "middle";
    TextBaseline["Alphabetic"] = "alphabetic";
    TextBaseline["Ideographic"] = "ideographic";
    TextBaseline["Bottom"] = "bottom";
    return TextBaseline;
}({});
const DEFAULT_TEXT_STYLE = {
    fontFamily: 'Arial, sans-serif',
    fontSize: 16,
    fontWeight: 'normal',
    fontStyle: 'normal',
    color: '#000000',
    textAlign: "left",
    textBaseline: "top",
    lineHeight: 1.2,
    letterSpacing: 0,
    opacity: 1,
    textTransform: 'none'
};
class TextOverlayRenderer {
    constructor(managedCanvas){
        this.canvas = managedCanvas.canvas;
        this.ctx = managedCanvas.context;
    }
    /**
   * Apply text transform
   */ applyTextTransform(text, transform) {
        switch(transform){
            case 'uppercase':
                return text.toUpperCase();
            case 'lowercase':
                return text.toLowerCase();
            case 'capitalize':
                return text.replace(/\b\w/g, (l)=>l.toUpperCase());
            default:
                return text;
        }
    }
    /**
   * Build font string from style
   */ buildFontString(style) {
        const fontStyle = style.fontStyle || DEFAULT_TEXT_STYLE.fontStyle;
        const fontWeight = style.fontWeight || DEFAULT_TEXT_STYLE.fontWeight;
        const fontSize = style.fontSize || DEFAULT_TEXT_STYLE.fontSize;
        const fontFamily = style.fontFamily || DEFAULT_TEXT_STYLE.fontFamily;
        return `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;
    }
    /**
   * Apply text styling to context
   */ applyTextStyle(style) {
        this.ctx.font = this.buildFontString(style);
        this.ctx.textAlign = style.textAlign || DEFAULT_TEXT_STYLE.textAlign;
        this.ctx.textBaseline = style.textBaseline || DEFAULT_TEXT_STYLE.textBaseline;
        this.ctx.globalAlpha = style.opacity || DEFAULT_TEXT_STYLE.opacity;
        // Handle gradient fill
        if (style.gradient) {
            this.ctx.fillStyle = this.createTextGradient(style.gradient);
        } else {
            this.ctx.fillStyle = style.color || DEFAULT_TEXT_STYLE.color;
        }
        // Handle outline
        if (style.outline) {
            this.ctx.strokeStyle = style.outline.color;
            this.ctx.lineWidth = style.outline.width;
        }
    }
    /**
   * Create gradient for text
   */ createTextGradient(gradient) {
        let canvasGradient;
        if (gradient.type === 'linear') {
            canvasGradient = this.ctx.createLinearGradient(gradient.x1 || 0, gradient.y1 || 0, gradient.x2 || 100, gradient.y2 || 0);
        } else {
            canvasGradient = this.ctx.createRadialGradient(gradient.x1 || 0, gradient.y1 || 0, gradient.r1 || 0, gradient.x2 || 0, gradient.y2 || 0, gradient.r2 || 100);
        }
        gradient.colors.forEach((stop)=>{
            canvasGradient.addColorStop(stop.offset, stop.color);
        });
        return canvasGradient;
    }
    /**
   * Wrap text to fit within specified width
   */ wrapText(text, maxWidth, style, wrapOptions) {
        if (!wrapOptions?.enabled || !maxWidth) {
            return [
                text
            ];
        }
        this.applyTextStyle(style);
        const words = text.split(' ');
        const lines = [];
        let currentLine = '';
        for (const word of words){
            const testLine = currentLine + (currentLine ? ' ' : '') + word;
            const metrics = this.ctx.measureText(testLine);
            if (metrics.width > maxWidth && currentLine) {
                lines.push(currentLine);
                currentLine = word;
                // Handle long words
                if (wrapOptions.breakWords && this.ctx.measureText(currentLine).width > maxWidth) {
                    const chars = currentLine.split('');
                    let charLine = '';
                    for (const char of chars){
                        const testCharLine = charLine + char;
                        if (this.ctx.measureText(testCharLine).width > maxWidth && charLine) {
                            lines.push(charLine);
                            charLine = char;
                        } else {
                            charLine = testCharLine;
                        }
                    }
                    currentLine = charLine;
                }
            } else {
                currentLine = testLine;
            }
        }
        if (currentLine) {
            lines.push(currentLine);
        }
        return lines;
    }
    /**
   * Measure text dimensions
   */ measureText(text, style, position, wrapOptions) {
        this.applyTextStyle(style);
        const transformedText = this.applyTextTransform(text, style.textTransform);
        const lines = this.wrapText(transformedText, position.maxWidth || 0, style, wrapOptions);
        const lineHeight = (style.fontSize || DEFAULT_TEXT_STYLE.fontSize) * (style.lineHeight || DEFAULT_TEXT_STYLE.lineHeight);
        let maxWidth = 0;
        const lineData = lines.map((line, index)=>{
            const metrics = this.ctx.measureText(line);
            maxWidth = Math.max(maxWidth, metrics.width);
            return {
                text: line,
                width: metrics.width,
                y: index * lineHeight
            };
        });
        const totalHeight = lines.length * lineHeight;
        // Calculate bounding box based on anchor
        const anchor = position.anchor || {
            x: 'left',
            y: 'top'
        };
        let boundingX = position.x;
        let boundingY = position.y;
        if (anchor.x === 'center') {
            boundingX -= maxWidth / 2;
        } else if (anchor.x === 'right') {
            boundingX -= maxWidth;
        }
        if (anchor.y === 'middle') {
            boundingY -= totalHeight / 2;
        } else if (anchor.y === 'bottom') {
            boundingY -= totalHeight;
        }
        return {
            width: maxWidth,
            height: totalHeight,
            lineHeight,
            lineCount: lines.length,
            lines: lineData,
            boundingBox: {
                x: boundingX,
                y: boundingY,
                width: maxWidth,
                height: totalHeight
            }
        };
    }
    /**
   * Draw text shadow
   */ drawTextShadow(text, x, y, shadow) {
        this.ctx.save();
        this.ctx.shadowColor = shadow.color;
        this.ctx.shadowOffsetX = shadow.offsetX;
        this.ctx.shadowOffsetY = shadow.offsetY;
        this.ctx.shadowBlur = shadow.blur;
        this.ctx.fillText(text, x, y);
        this.ctx.restore();
    }
    /**
   * Draw text decoration (underline, overline, strikethrough)
   */ drawTextDecoration(text, x, y, width, style) {
        if (!style.decoration) return;
        const fontSize = style.fontSize || DEFAULT_TEXT_STYLE.fontSize;
        const thickness = style.decoration.thickness || 1;
        const color = style.decoration.color || style.color || DEFAULT_TEXT_STYLE.color;
        this.ctx.save();
        this.ctx.strokeStyle = color;
        this.ctx.lineWidth = thickness;
        this.ctx.beginPath();
        if (style.decoration.underline) {
            const underlineY = y + fontSize * 0.1;
            this.ctx.moveTo(x, underlineY);
            this.ctx.lineTo(x + width, underlineY);
        }
        if (style.decoration.overline) {
            const overlineY = y - fontSize * 0.8;
            this.ctx.moveTo(x, overlineY);
            this.ctx.lineTo(x + width, overlineY);
        }
        if (style.decoration.lineThrough) {
            const lineThroughY = y - fontSize * 0.3;
            this.ctx.moveTo(x, lineThroughY);
            this.ctx.lineTo(x + width, lineThroughY);
        }
        this.ctx.stroke();
        this.ctx.restore();
    }
    /**
   * Draw background for text
   */ drawTextBackground(measurement, background) {
        const padding = background.padding || 0;
        const x = measurement.boundingBox.x - padding;
        const y = measurement.boundingBox.y - padding;
        const width = measurement.boundingBox.width + padding * 2;
        const height = measurement.boundingBox.height + padding * 2;
        this.ctx.save();
        this.ctx.globalAlpha = background.opacity || 1;
        if (background.gradient) {
            this.ctx.fillStyle = this.createTextGradient(background.gradient);
        } else {
            this.ctx.fillStyle = background.color || 'rgba(255, 255, 255, 0.8)';
        }
        if (background.borderRadius) {
            this.drawRoundedRect(x, y, width, height, background.borderRadius);
            this.ctx.fill();
        } else {
            this.ctx.fillRect(x, y, width, height);
        }
        this.ctx.restore();
    }
    /**
   * Draw rounded rectangle
   */ drawRoundedRect(x, y, width, height, radius) {
        this.ctx.beginPath();
        this.ctx.moveTo(x + radius, y);
        this.ctx.lineTo(x + width - radius, y);
        this.ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
        this.ctx.lineTo(x + width, y + height - radius);
        this.ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
        this.ctx.lineTo(x + radius, y + height);
        this.ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
        this.ctx.lineTo(x, y + radius);
        this.ctx.quadraticCurveTo(x, y, x + radius, y);
        this.ctx.closePath();
    }
    /**
   * Render text overlay
   */ renderText(config) {
        const { text, style, position, wrap, background } = config;
        this.ctx.save();
        // Apply rotation if specified
        if (position.rotation) {
            this.ctx.translate(position.x, position.y);
            this.ctx.rotate(position.rotation);
            this.ctx.translate(-position.x, -position.y);
        }
        // Measure text
        const measurement = this.measureText(text, style, position, wrap);
        // Draw background if specified
        if (background) {
            this.drawTextBackground(measurement, background);
        }
        // Apply text styling
        this.applyTextStyle(style);
        // Calculate starting position based on anchor
        const anchor = position.anchor || {
            x: 'left',
            y: 'top'
        };
        let startX = position.x;
        let startY = position.y;
        if (anchor.x === 'center') {
            startX -= measurement.width / 2;
        } else if (anchor.x === 'right') {
            startX -= measurement.width;
        }
        if (anchor.y === 'middle') {
            startY -= measurement.height / 2;
        } else if (anchor.y === 'bottom') {
            startY -= measurement.height;
        }
        // Draw each line
        measurement.lines.forEach((line, index)=>{
            const lineX = startX;
            const lineY = startY + line.y;
            // Adjust line position based on text alignment
            let adjustedX = lineX;
            if (style.textAlign === "center") {
                adjustedX = startX + (measurement.width - line.width) / 2;
            } else if (style.textAlign === "right") {
                adjustedX = startX + measurement.width - line.width;
            }
            // Draw shadow first if specified
            if (style.shadow) {
                this.drawTextShadow(line.text, adjustedX, lineY, style.shadow);
            }
            // Draw text outline if specified
            if (style.outline) {
                this.ctx.strokeText(line.text, adjustedX, lineY);
            }
            // Draw main text
            this.ctx.fillText(line.text, adjustedX, lineY);
            // Draw text decoration if specified
            if (style.decoration) {
                this.drawTextDecoration(line.text, adjustedX, lineY, line.width, style);
            }
        });
        this.ctx.restore();
        return measurement;
    }
    /**
   * Clear text from specific area
   */ clearText(measurement, padding = 0) {
        const { x, y, width, height } = measurement.boundingBox;
        this.ctx.clearRect(x - padding, y - padding, width + padding * 2, height + padding * 2);
    }
}
class TextOverlayUtils {
    /**
   * Calculate optimal font size to fit text in area
   */ static calculateOptimalFontSize(text, maxWidth, maxHeight, style, canvas) {
        const ctx = canvas.getContext('2d');
        if (!ctx) throw new Error('Could not get canvas context');
        let fontSize = style.fontSize || 16;
        let testStyle = {
            ...style,
            fontSize
        };
        // Binary search for optimal font size
        let minSize = 1;
        let maxSize = 200;
        while(minSize < maxSize - 1){
            fontSize = Math.floor((minSize + maxSize) / 2);
            testStyle.fontSize = fontSize;
            ctx.font = `${testStyle.fontStyle || 'normal'} ${testStyle.fontWeight || 'normal'} ${fontSize}px ${testStyle.fontFamily || 'Arial'}`;
            const metrics = ctx.measureText(text);
            const textHeight = fontSize * (testStyle.lineHeight || 1.2);
            if (metrics.width <= maxWidth && textHeight <= maxHeight) {
                minSize = fontSize;
            } else {
                maxSize = fontSize;
            }
        }
        return minSize;
    }
    /**
   * Create text preset configurations
   */ static createPresets() {
        return {
            title: {
                style: {
                    ...DEFAULT_TEXT_STYLE,
                    fontSize: 32,
                    fontWeight: 'bold',
                    color: '#2c3e50'
                }
            },
            subtitle: {
                style: {
                    ...DEFAULT_TEXT_STYLE,
                    fontSize: 24,
                    fontWeight: '600',
                    color: '#34495e'
                }
            },
            body: {
                style: {
                    ...DEFAULT_TEXT_STYLE,
                    fontSize: 16,
                    color: '#2c3e50',
                    lineHeight: 1.5
                }
            },
            caption: {
                style: {
                    ...DEFAULT_TEXT_STYLE,
                    fontSize: 12,
                    color: '#7f8c8d',
                    fontStyle: 'italic'
                }
            },
            watermark: {
                style: {
                    ...DEFAULT_TEXT_STYLE,
                    fontSize: 14,
                    color: 'rgba(255, 255, 255, 0.7)',
                    shadow: {
                        color: 'rgba(0, 0, 0, 0.3)',
                        offsetX: 1,
                        offsetY: 1,
                        blur: 2
                    }
                }
            }
        };
    }
}
function createTextOverlayRenderer(managedCanvas) {
    return new TextOverlayRenderer(managedCanvas);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3Avc3JjL2J1c2luZXNzLWxheWVyL3V0aWxzL3RleHRPdmVybGF5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRleHQgT3ZlcmxheSBTeXN0ZW0gZm9yIENhbnZhc1xuLy8gQ29tcHJlaGVuc2l2ZSB0ZXh0IHJlbmRlcmluZyB3aXRoIHN0eWxpbmcsIHBvc2l0aW9uaW5nLCBhbmQgbWVhc3VyZW1lbnRcblxuaW1wb3J0IHR5cGUgeyBNYW5hZ2VkQ2FudmFzIH0gZnJvbSAnLi4vcHJvdmlkZXJzL0NhbnZhc1Byb3ZpZGVyJztcblxuLyoqXG4gKiBUZXh0IGFsaWdubWVudCBvcHRpb25zXG4gKi9cbmV4cG9ydCBlbnVtIFRleHRBbGlnbiB7XG4gIExlZnQgPSAnbGVmdCcsXG4gIENlbnRlciA9ICdjZW50ZXInLFxuICBSaWdodCA9ICdyaWdodCcsXG4gIFN0YXJ0ID0gJ3N0YXJ0JyxcbiAgRW5kID0gJ2VuZCdcbn1cblxuLyoqXG4gKiBUZXh0IGJhc2VsaW5lIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGVudW0gVGV4dEJhc2VsaW5lIHtcbiAgVG9wID0gJ3RvcCcsXG4gIEhhbmdpbmcgPSAnaGFuZ2luZycsXG4gIE1pZGRsZSA9ICdtaWRkbGUnLFxuICBBbHBoYWJldGljID0gJ2FscGhhYmV0aWMnLFxuICBJZGVvZ3JhcGhpYyA9ICdpZGVvZ3JhcGhpYycsXG4gIEJvdHRvbSA9ICdib3R0b20nXG59XG5cbi8qKlxuICogVGV4dCBkZWNvcmF0aW9uIHN0eWxlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHREZWNvcmF0aW9uIHtcbiAgdW5kZXJsaW5lPzogYm9vbGVhbjtcbiAgb3ZlcmxpbmU/OiBib29sZWFuO1xuICBsaW5lVGhyb3VnaD86IGJvb2xlYW47XG4gIGNvbG9yPzogc3RyaW5nO1xuICB0aGlja25lc3M/OiBudW1iZXI7XG59XG5cbi8qKlxuICogVGV4dCBzaGFkb3cgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRTaGFkb3cge1xuICBjb2xvcjogc3RyaW5nO1xuICBvZmZzZXRYOiBudW1iZXI7XG4gIG9mZnNldFk6IG51bWJlcjtcbiAgYmx1cjogbnVtYmVyO1xufVxuXG4vKipcbiAqIFRleHQgb3V0bGluZS9zdHJva2UgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRPdXRsaW5lIHtcbiAgY29sb3I6IHN0cmluZztcbiAgd2lkdGg6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHcmFkaWVudCB0ZXh0IGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0R3JhZGllbnQge1xuICB0eXBlOiAnbGluZWFyJyB8ICdyYWRpYWwnO1xuICBjb2xvcnM6IEFycmF5PHsgb2Zmc2V0OiBudW1iZXI7IGNvbG9yOiBzdHJpbmcgfT47XG4gIHgxPzogbnVtYmVyO1xuICB5MT86IG51bWJlcjtcbiAgeDI/OiBudW1iZXI7XG4gIHkyPzogbnVtYmVyO1xuICByMT86IG51bWJlcjtcbiAgcjI/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQ29tcHJlaGVuc2l2ZSB0ZXh0IHN0eWxpbmcgb3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRTdHlsZSB7XG4gIC8qKiBGb250IGZhbWlseSAqL1xuICBmb250RmFtaWx5Pzogc3RyaW5nO1xuICAvKiogRm9udCBzaXplIGluIHBpeGVscyAqL1xuICBmb250U2l6ZT86IG51bWJlcjtcbiAgLyoqIEZvbnQgd2VpZ2h0ICovXG4gIGZvbnRXZWlnaHQ/OiAnbm9ybWFsJyB8ICdib2xkJyB8ICcxMDAnIHwgJzIwMCcgfCAnMzAwJyB8ICc0MDAnIHwgJzUwMCcgfCAnNjAwJyB8ICc3MDAnIHwgJzgwMCcgfCAnOTAwJyB8IG51bWJlcjtcbiAgLyoqIEZvbnQgc3R5bGUgKi9cbiAgZm9udFN0eWxlPzogJ25vcm1hbCcgfCAnaXRhbGljJyB8ICdvYmxpcXVlJztcbiAgLyoqIFRleHQgY29sb3IgKi9cbiAgY29sb3I/OiBzdHJpbmc7XG4gIC8qKiBUZXh0IGFsaWdubWVudCAqL1xuICB0ZXh0QWxpZ24/OiBUZXh0QWxpZ247XG4gIC8qKiBUZXh0IGJhc2VsaW5lICovXG4gIHRleHRCYXNlbGluZT86IFRleHRCYXNlbGluZTtcbiAgLyoqIExpbmUgaGVpZ2h0IG11bHRpcGxpZXIgKi9cbiAgbGluZUhlaWdodD86IG51bWJlcjtcbiAgLyoqIExldHRlciBzcGFjaW5nIGluIHBpeGVscyAqL1xuICBsZXR0ZXJTcGFjaW5nPzogbnVtYmVyO1xuICAvKiogVGV4dCBkZWNvcmF0aW9uICovXG4gIGRlY29yYXRpb24/OiBUZXh0RGVjb3JhdGlvbjtcbiAgLyoqIFRleHQgc2hhZG93ICovXG4gIHNoYWRvdz86IFRleHRTaGFkb3c7XG4gIC8qKiBUZXh0IG91dGxpbmUvc3Ryb2tlICovXG4gIG91dGxpbmU/OiBUZXh0T3V0bGluZTtcbiAgLyoqIEdyYWRpZW50IGZpbGwgKi9cbiAgZ3JhZGllbnQ/OiBUZXh0R3JhZGllbnQ7XG4gIC8qKiBHbG9iYWwgYWxwaGEvb3BhY2l0eSAqL1xuICBvcGFjaXR5PzogbnVtYmVyO1xuICAvKiogVGV4dCB0cmFuc2Zvcm0gKi9cbiAgdGV4dFRyYW5zZm9ybT86ICdub25lJyB8ICd1cHBlcmNhc2UnIHwgJ2xvd2VyY2FzZScgfCAnY2FwaXRhbGl6ZSc7XG59XG5cbi8qKlxuICogVGV4dCBwb3NpdGlvbmluZyBhbmQgbGF5b3V0IG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0UG9zaXRpb24ge1xuICAvKiogWCBjb29yZGluYXRlICovXG4gIHg6IG51bWJlcjtcbiAgLyoqIFkgY29vcmRpbmF0ZSAqL1xuICB5OiBudW1iZXI7XG4gIC8qKiBNYXhpbXVtIHdpZHRoIGZvciB0ZXh0IHdyYXBwaW5nICovXG4gIG1heFdpZHRoPzogbnVtYmVyO1xuICAvKiogTWF4aW11bSBoZWlnaHQgZm9yIHRleHQgb3ZlcmZsb3cgKi9cbiAgbWF4SGVpZ2h0PzogbnVtYmVyO1xuICAvKiogUGFkZGluZyBhcm91bmQgdGV4dCAqL1xuICBwYWRkaW5nPzoge1xuICAgIHRvcD86IG51bWJlcjtcbiAgICByaWdodD86IG51bWJlcjtcbiAgICBib3R0b20/OiBudW1iZXI7XG4gICAgbGVmdD86IG51bWJlcjtcbiAgfTtcbiAgLyoqIFRleHQgcm90YXRpb24gaW4gcmFkaWFucyAqL1xuICByb3RhdGlvbj86IG51bWJlcjtcbiAgLyoqIEFuY2hvciBwb2ludCBmb3IgcG9zaXRpb25pbmcgKi9cbiAgYW5jaG9yPzoge1xuICAgIHg6ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JztcbiAgICB5OiAndG9wJyB8ICdtaWRkbGUnIHwgJ2JvdHRvbSc7XG4gIH07XG59XG5cbi8qKlxuICogVGV4dCB3cmFwcGluZyBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dFdyYXBPcHRpb25zIHtcbiAgLyoqIEVuYWJsZSB3b3JkIHdyYXBwaW5nICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKiBCcmVhayBsb25nIHdvcmRzICovXG4gIGJyZWFrV29yZHM/OiBib29sZWFuO1xuICAvKiogSHlwaGVuYXRpb24gY2hhcmFjdGVyICovXG4gIGh5cGhlbkNoYXI/OiBzdHJpbmc7XG4gIC8qKiBNaW5pbXVtIGNoYXJhY3RlcnMgYmVmb3JlIGh5cGhlbmF0aW9uICovXG4gIG1pbkNoYXJzQmVmb3JlSHlwaGVuPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFRleHQgbWVhc3VyZW1lbnQgcmVzdWx0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dE1lYXN1cmVtZW50IHtcbiAgLyoqIFRleHQgd2lkdGggKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqIFRleHQgaGVpZ2h0ICovXG4gIGhlaWdodDogbnVtYmVyO1xuICAvKiogTGluZSBoZWlnaHQgKi9cbiAgbGluZUhlaWdodDogbnVtYmVyO1xuICAvKiogTnVtYmVyIG9mIGxpbmVzICovXG4gIGxpbmVDb3VudDogbnVtYmVyO1xuICAvKiogSW5kaXZpZHVhbCBsaW5lIG1lYXN1cmVtZW50cyAqL1xuICBsaW5lczogQXJyYXk8e1xuICAgIHRleHQ6IHN0cmluZztcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgfT47XG4gIC8qKiBCb3VuZGluZyBib3ggKi9cbiAgYm91bmRpbmdCb3g6IHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gIH07XG59XG5cbi8qKlxuICogVGV4dCBvdmVybGF5IGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0T3ZlcmxheUNvbmZpZyB7XG4gIC8qKiBUZXh0IGNvbnRlbnQgKi9cbiAgdGV4dDogc3RyaW5nO1xuICAvKiogVGV4dCBzdHlsaW5nICovXG4gIHN0eWxlOiBUZXh0U3R5bGU7XG4gIC8qKiBUZXh0IHBvc2l0aW9uaW5nICovXG4gIHBvc2l0aW9uOiBUZXh0UG9zaXRpb247XG4gIC8qKiBUZXh0IHdyYXBwaW5nIG9wdGlvbnMgKi9cbiAgd3JhcD86IFRleHRXcmFwT3B0aW9ucztcbiAgLyoqIEJhY2tncm91bmQgY29uZmlndXJhdGlvbiAqL1xuICBiYWNrZ3JvdW5kPzoge1xuICAgIGNvbG9yPzogc3RyaW5nO1xuICAgIGdyYWRpZW50PzogVGV4dEdyYWRpZW50O1xuICAgIHBhZGRpbmc/OiBudW1iZXI7XG4gICAgYm9yZGVyUmFkaXVzPzogbnVtYmVyO1xuICAgIG9wYWNpdHk/OiBudW1iZXI7XG4gIH07XG4gIC8qKiBBbmltYXRpb24gY29uZmlndXJhdGlvbiAqL1xuICBhbmltYXRpb24/OiB7XG4gICAgdHlwZTogJ25vbmUnIHwgJ2ZhZGVJbicgfCAnc2xpZGVJbicgfCAndHlwZXdyaXRlcicgfCAncHVsc2UnO1xuICAgIGR1cmF0aW9uPzogbnVtYmVyO1xuICAgIGRlbGF5PzogbnVtYmVyO1xuICAgIGVhc2luZz86ICh0OiBudW1iZXIpID0+IG51bWJlcjtcbiAgfTtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHRleHQgc3R5bGVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVYVF9TVFlMRTogUmVxdWlyZWQ8T21pdDxUZXh0U3R5bGUsICdkZWNvcmF0aW9uJyB8ICdzaGFkb3cnIHwgJ291dGxpbmUnIHwgJ2dyYWRpZW50Jz4+ID0ge1xuICBmb250RmFtaWx5OiAnQXJpYWwsIHNhbnMtc2VyaWYnLFxuICBmb250U2l6ZTogMTYsXG4gIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICBmb250U3R5bGU6ICdub3JtYWwnLFxuICBjb2xvcjogJyMwMDAwMDAnLFxuICB0ZXh0QWxpZ246IFRleHRBbGlnbi5MZWZ0LFxuICB0ZXh0QmFzZWxpbmU6IFRleHRCYXNlbGluZS5Ub3AsXG4gIGxpbmVIZWlnaHQ6IDEuMixcbiAgbGV0dGVyU3BhY2luZzogMCxcbiAgb3BhY2l0eTogMSxcbiAgdGV4dFRyYW5zZm9ybTogJ25vbmUnXG59O1xuXG4vKipcbiAqIFRleHQgb3ZlcmxheSByZW5kZXJlciBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgVGV4dE92ZXJsYXlSZW5kZXJlciB7XG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICBjb25zdHJ1Y3RvcihtYW5hZ2VkQ2FudmFzOiBNYW5hZ2VkQ2FudmFzKSB7XG4gICAgdGhpcy5jYW52YXMgPSBtYW5hZ2VkQ2FudmFzLmNhbnZhcztcbiAgICB0aGlzLmN0eCA9IG1hbmFnZWRDYW52YXMuY29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSB0ZXh0IHRyYW5zZm9ybVxuICAgKi9cbiAgcHJpdmF0ZSBhcHBseVRleHRUcmFuc2Zvcm0odGV4dDogc3RyaW5nLCB0cmFuc2Zvcm06IFRleHRTdHlsZVsndGV4dFRyYW5zZm9ybSddKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRyYW5zZm9ybSkge1xuICAgICAgY2FzZSAndXBwZXJjYXNlJzpcbiAgICAgICAgcmV0dXJuIHRleHQudG9VcHBlckNhc2UoKTtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6XG4gICAgICAgIHJldHVybiB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICBjYXNlICdjYXBpdGFsaXplJzpcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBmb250IHN0cmluZyBmcm9tIHN0eWxlXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkRm9udFN0cmluZyhzdHlsZTogVGV4dFN0eWxlKTogc3RyaW5nIHtcbiAgICBjb25zdCBmb250U3R5bGUgPSBzdHlsZS5mb250U3R5bGUgfHwgREVGQVVMVF9URVhUX1NUWUxFLmZvbnRTdHlsZTtcbiAgICBjb25zdCBmb250V2VpZ2h0ID0gc3R5bGUuZm9udFdlaWdodCB8fCBERUZBVUxUX1RFWFRfU1RZTEUuZm9udFdlaWdodDtcbiAgICBjb25zdCBmb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplIHx8IERFRkFVTFRfVEVYVF9TVFlMRS5mb250U2l6ZTtcbiAgICBjb25zdCBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseSB8fCBERUZBVUxUX1RFWFRfU1RZTEUuZm9udEZhbWlseTtcbiAgICBcbiAgICByZXR1cm4gYCR7Zm9udFN0eWxlfSAke2ZvbnRXZWlnaHR9ICR7Zm9udFNpemV9cHggJHtmb250RmFtaWx5fWA7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgdGV4dCBzdHlsaW5nIHRvIGNvbnRleHRcbiAgICovXG4gIHByaXZhdGUgYXBwbHlUZXh0U3R5bGUoc3R5bGU6IFRleHRTdHlsZSk6IHZvaWQge1xuICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmJ1aWxkRm9udFN0cmluZyhzdHlsZSk7XG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gc3R5bGUudGV4dEFsaWduIHx8IERFRkFVTFRfVEVYVF9TVFlMRS50ZXh0QWxpZ247XG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lIHx8IERFRkFVTFRfVEVYVF9TVFlMRS50ZXh0QmFzZWxpbmU7XG4gICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSBzdHlsZS5vcGFjaXR5IHx8IERFRkFVTFRfVEVYVF9TVFlMRS5vcGFjaXR5O1xuXG4gICAgLy8gSGFuZGxlIGdyYWRpZW50IGZpbGxcbiAgICBpZiAoc3R5bGUuZ3JhZGllbnQpIHtcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY3JlYXRlVGV4dEdyYWRpZW50KHN0eWxlLmdyYWRpZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gc3R5bGUuY29sb3IgfHwgREVGQVVMVF9URVhUX1NUWUxFLmNvbG9yO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBvdXRsaW5lXG4gICAgaWYgKHN0eWxlLm91dGxpbmUpIHtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gc3R5bGUub3V0bGluZS5jb2xvcjtcbiAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHN0eWxlLm91dGxpbmUud2lkdGg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBncmFkaWVudCBmb3IgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVUZXh0R3JhZGllbnQoZ3JhZGllbnQ6IFRleHRHcmFkaWVudCk6IENhbnZhc0dyYWRpZW50IHtcbiAgICBsZXQgY2FudmFzR3JhZGllbnQ6IENhbnZhc0dyYWRpZW50O1xuXG4gICAgaWYgKGdyYWRpZW50LnR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICBjYW52YXNHcmFkaWVudCA9IHRoaXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxuICAgICAgICBncmFkaWVudC54MSB8fCAwLFxuICAgICAgICBncmFkaWVudC55MSB8fCAwLFxuICAgICAgICBncmFkaWVudC54MiB8fCAxMDAsXG4gICAgICAgIGdyYWRpZW50LnkyIHx8IDBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbnZhc0dyYWRpZW50ID0gdGhpcy5jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoXG4gICAgICAgIGdyYWRpZW50LngxIHx8IDAsXG4gICAgICAgIGdyYWRpZW50LnkxIHx8IDAsXG4gICAgICAgIGdyYWRpZW50LnIxIHx8IDAsXG4gICAgICAgIGdyYWRpZW50LngyIHx8IDAsXG4gICAgICAgIGdyYWRpZW50LnkyIHx8IDAsXG4gICAgICAgIGdyYWRpZW50LnIyIHx8IDEwMFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBncmFkaWVudC5jb2xvcnMuZm9yRWFjaChzdG9wID0+IHtcbiAgICAgIGNhbnZhc0dyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLm9mZnNldCwgc3RvcC5jb2xvcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2FudmFzR3JhZGllbnQ7XG4gIH1cblxuICAvKipcbiAgICogV3JhcCB0ZXh0IHRvIGZpdCB3aXRoaW4gc3BlY2lmaWVkIHdpZHRoXG4gICAqL1xuICBwcml2YXRlIHdyYXBUZXh0KHRleHQ6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlciwgc3R5bGU6IFRleHRTdHlsZSwgd3JhcE9wdGlvbnM/OiBUZXh0V3JhcE9wdGlvbnMpOiBzdHJpbmdbXSB7XG4gICAgaWYgKCF3cmFwT3B0aW9ucz8uZW5hYmxlZCB8fCAhbWF4V2lkdGgpIHtcbiAgICAgIHJldHVybiBbdGV4dF07XG4gICAgfVxuXG4gICAgdGhpcy5hcHBseVRleHRTdHlsZShzdHlsZSk7XG4gICAgY29uc3Qgd29yZHMgPSB0ZXh0LnNwbGl0KCcgJyk7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGN1cnJlbnRMaW5lID0gJyc7XG5cbiAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgIGNvbnN0IHRlc3RMaW5lID0gY3VycmVudExpbmUgKyAoY3VycmVudExpbmUgPyAnICcgOiAnJykgKyB3b3JkO1xuICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KHRlc3RMaW5lKTtcbiAgICAgIFxuICAgICAgaWYgKG1ldHJpY3Mud2lkdGggPiBtYXhXaWR0aCAmJiBjdXJyZW50TGluZSkge1xuICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgICAgY3VycmVudExpbmUgPSB3b3JkO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGxvbmcgd29yZHNcbiAgICAgICAgaWYgKHdyYXBPcHRpb25zLmJyZWFrV29yZHMgJiYgdGhpcy5jdHgubWVhc3VyZVRleHQoY3VycmVudExpbmUpLndpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICBjb25zdCBjaGFycyA9IGN1cnJlbnRMaW5lLnNwbGl0KCcnKTtcbiAgICAgICAgICBsZXQgY2hhckxpbmUgPSAnJztcbiAgICAgICAgICBcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoYXIgb2YgY2hhcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlc3RDaGFyTGluZSA9IGNoYXJMaW5lICsgY2hhcjtcbiAgICAgICAgICAgIGlmICh0aGlzLmN0eC5tZWFzdXJlVGV4dCh0ZXN0Q2hhckxpbmUpLndpZHRoID4gbWF4V2lkdGggJiYgY2hhckxpbmUpIHtcbiAgICAgICAgICAgICAgbGluZXMucHVzaChjaGFyTGluZSk7XG4gICAgICAgICAgICAgIGNoYXJMaW5lID0gY2hhcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoYXJMaW5lID0gdGVzdENoYXJMaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50TGluZSA9IGNoYXJMaW5lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50TGluZSA9IHRlc3RMaW5lO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjdXJyZW50TGluZSkge1xuICAgICAgbGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmUgdGV4dCBkaW1lbnNpb25zXG4gICAqL1xuICBtZWFzdXJlVGV4dCh0ZXh0OiBzdHJpbmcsIHN0eWxlOiBUZXh0U3R5bGUsIHBvc2l0aW9uOiBUZXh0UG9zaXRpb24sIHdyYXBPcHRpb25zPzogVGV4dFdyYXBPcHRpb25zKTogVGV4dE1lYXN1cmVtZW50IHtcbiAgICB0aGlzLmFwcGx5VGV4dFN0eWxlKHN0eWxlKTtcbiAgICBcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFRleHQgPSB0aGlzLmFwcGx5VGV4dFRyYW5zZm9ybSh0ZXh0LCBzdHlsZS50ZXh0VHJhbnNmb3JtKTtcbiAgICBjb25zdCBsaW5lcyA9IHRoaXMud3JhcFRleHQodHJhbnNmb3JtZWRUZXh0LCBwb3NpdGlvbi5tYXhXaWR0aCB8fCAwLCBzdHlsZSwgd3JhcE9wdGlvbnMpO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSAoc3R5bGUuZm9udFNpemUgfHwgREVGQVVMVF9URVhUX1NUWUxFLmZvbnRTaXplKSAqIChzdHlsZS5saW5lSGVpZ2h0IHx8IERFRkFVTFRfVEVYVF9TVFlMRS5saW5lSGVpZ2h0KTtcbiAgICBcbiAgICBsZXQgbWF4V2lkdGggPSAwO1xuICAgIGNvbnN0IGxpbmVEYXRhID0gbGluZXMubWFwKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KGxpbmUpO1xuICAgICAgbWF4V2lkdGggPSBNYXRoLm1heChtYXhXaWR0aCwgbWV0cmljcy53aWR0aCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHQ6IGxpbmUsXG4gICAgICAgIHdpZHRoOiBtZXRyaWNzLndpZHRoLFxuICAgICAgICB5OiBpbmRleCAqIGxpbmVIZWlnaHRcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b3RhbEhlaWdodCA9IGxpbmVzLmxlbmd0aCAqIGxpbmVIZWlnaHQ7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGJvdW5kaW5nIGJveCBiYXNlZCBvbiBhbmNob3JcbiAgICBjb25zdCBhbmNob3IgPSBwb3NpdGlvbi5hbmNob3IgfHwgeyB4OiAnbGVmdCcsIHk6ICd0b3AnIH07XG4gICAgbGV0IGJvdW5kaW5nWCA9IHBvc2l0aW9uLng7XG4gICAgbGV0IGJvdW5kaW5nWSA9IHBvc2l0aW9uLnk7XG4gICAgXG4gICAgaWYgKGFuY2hvci54ID09PSAnY2VudGVyJykge1xuICAgICAgYm91bmRpbmdYIC09IG1heFdpZHRoIC8gMjtcbiAgICB9IGVsc2UgaWYgKGFuY2hvci54ID09PSAncmlnaHQnKSB7XG4gICAgICBib3VuZGluZ1ggLT0gbWF4V2lkdGg7XG4gICAgfVxuICAgIFxuICAgIGlmIChhbmNob3IueSA9PT0gJ21pZGRsZScpIHtcbiAgICAgIGJvdW5kaW5nWSAtPSB0b3RhbEhlaWdodCAvIDI7XG4gICAgfSBlbHNlIGlmIChhbmNob3IueSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIGJvdW5kaW5nWSAtPSB0b3RhbEhlaWdodDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IG1heFdpZHRoLFxuICAgICAgaGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgIGxpbmVIZWlnaHQsXG4gICAgICBsaW5lQ291bnQ6IGxpbmVzLmxlbmd0aCxcbiAgICAgIGxpbmVzOiBsaW5lRGF0YSxcbiAgICAgIGJvdW5kaW5nQm94OiB7XG4gICAgICAgIHg6IGJvdW5kaW5nWCxcbiAgICAgICAgeTogYm91bmRpbmdZLFxuICAgICAgICB3aWR0aDogbWF4V2lkdGgsXG4gICAgICAgIGhlaWdodDogdG90YWxIZWlnaHRcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGV4dCBzaGFkb3dcbiAgICovXG4gIHByaXZhdGUgZHJhd1RleHRTaGFkb3codGV4dDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgc2hhZG93OiBUZXh0U2hhZG93KTogdm9pZCB7XG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIHRoaXMuY3R4LnNoYWRvd0NvbG9yID0gc2hhZG93LmNvbG9yO1xuICAgIHRoaXMuY3R4LnNoYWRvd09mZnNldFggPSBzaGFkb3cub2Zmc2V0WDtcbiAgICB0aGlzLmN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFk7XG4gICAgdGhpcy5jdHguc2hhZG93Qmx1ciA9IHNoYWRvdy5ibHVyO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRleHQgZGVjb3JhdGlvbiAodW5kZXJsaW5lLCBvdmVybGluZSwgc3RyaWtldGhyb3VnaClcbiAgICovXG4gIHByaXZhdGUgZHJhd1RleHREZWNvcmF0aW9uKHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIHN0eWxlOiBUZXh0U3R5bGUpOiB2b2lkIHtcbiAgICBpZiAoIXN0eWxlLmRlY29yYXRpb24pIHJldHVybjtcblxuICAgIGNvbnN0IGZvbnRTaXplID0gc3R5bGUuZm9udFNpemUgfHwgREVGQVVMVF9URVhUX1NUWUxFLmZvbnRTaXplO1xuICAgIGNvbnN0IHRoaWNrbmVzcyA9IHN0eWxlLmRlY29yYXRpb24udGhpY2tuZXNzIHx8IDE7XG4gICAgY29uc3QgY29sb3IgPSBzdHlsZS5kZWNvcmF0aW9uLmNvbG9yIHx8IHN0eWxlLmNvbG9yIHx8IERFRkFVTFRfVEVYVF9TVFlMRS5jb2xvcjtcblxuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHRoaWNrbmVzcztcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcblxuICAgIGlmIChzdHlsZS5kZWNvcmF0aW9uLnVuZGVybGluZSkge1xuICAgICAgY29uc3QgdW5kZXJsaW5lWSA9IHkgKyBmb250U2l6ZSAqIDAuMTtcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyh4LCB1bmRlcmxpbmVZKTtcbiAgICAgIHRoaXMuY3R4LmxpbmVUbyh4ICsgd2lkdGgsIHVuZGVybGluZVkpO1xuICAgIH1cblxuICAgIGlmIChzdHlsZS5kZWNvcmF0aW9uLm92ZXJsaW5lKSB7XG4gICAgICBjb25zdCBvdmVybGluZVkgPSB5IC0gZm9udFNpemUgKiAwLjg7XG4gICAgICB0aGlzLmN0eC5tb3ZlVG8oeCwgb3ZlcmxpbmVZKTtcbiAgICAgIHRoaXMuY3R4LmxpbmVUbyh4ICsgd2lkdGgsIG92ZXJsaW5lWSk7XG4gICAgfVxuXG4gICAgaWYgKHN0eWxlLmRlY29yYXRpb24ubGluZVRocm91Z2gpIHtcbiAgICAgIGNvbnN0IGxpbmVUaHJvdWdoWSA9IHkgLSBmb250U2l6ZSAqIDAuMztcbiAgICAgIHRoaXMuY3R4Lm1vdmVUbyh4LCBsaW5lVGhyb3VnaFkpO1xuICAgICAgdGhpcy5jdHgubGluZVRvKHggKyB3aWR0aCwgbGluZVRocm91Z2hZKTtcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyBiYWNrZ3JvdW5kIGZvciB0ZXh0XG4gICAqL1xuICBwcml2YXRlIGRyYXdUZXh0QmFja2dyb3VuZChtZWFzdXJlbWVudDogVGV4dE1lYXN1cmVtZW50LCBiYWNrZ3JvdW5kOiBOb25OdWxsYWJsZTxUZXh0T3ZlcmxheUNvbmZpZ1snYmFja2dyb3VuZCddPik6IHZvaWQge1xuICAgIGNvbnN0IHBhZGRpbmcgPSBiYWNrZ3JvdW5kLnBhZGRpbmcgfHwgMDtcbiAgICBjb25zdCB4ID0gbWVhc3VyZW1lbnQuYm91bmRpbmdCb3gueCAtIHBhZGRpbmc7XG4gICAgY29uc3QgeSA9IG1lYXN1cmVtZW50LmJvdW5kaW5nQm94LnkgLSBwYWRkaW5nO1xuICAgIGNvbnN0IHdpZHRoID0gbWVhc3VyZW1lbnQuYm91bmRpbmdCb3gud2lkdGggKyBwYWRkaW5nICogMjtcbiAgICBjb25zdCBoZWlnaHQgPSBtZWFzdXJlbWVudC5ib3VuZGluZ0JveC5oZWlnaHQgKyBwYWRkaW5nICogMjtcblxuICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IGJhY2tncm91bmQub3BhY2l0eSB8fCAxO1xuXG4gICAgaWYgKGJhY2tncm91bmQuZ3JhZGllbnQpIHtcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY3JlYXRlVGV4dEdyYWRpZW50KGJhY2tncm91bmQuZ3JhZGllbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kLmNvbG9yIHx8ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknO1xuICAgIH1cblxuICAgIGlmIChiYWNrZ3JvdW5kLmJvcmRlclJhZGl1cykge1xuICAgICAgdGhpcy5kcmF3Um91bmRlZFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgYmFja2dyb3VuZC5ib3JkZXJSYWRpdXMpO1xuICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyByb3VuZGVkIHJlY3RhbmdsZVxuICAgKi9cbiAgcHJpdmF0ZSBkcmF3Um91bmRlZFJlY3QoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCByYWRpdXM6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIHRoaXMuY3R4Lm1vdmVUbyh4ICsgcmFkaXVzLCB5KTtcbiAgICB0aGlzLmN0eC5saW5lVG8oeCArIHdpZHRoIC0gcmFkaXVzLCB5KTtcbiAgICB0aGlzLmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzKTtcbiAgICB0aGlzLmN0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICB0aGlzLmN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0KTtcbiAgICB0aGlzLmN0eC5saW5lVG8oeCArIHJhZGl1cywgeSArIGhlaWdodCk7XG4gICAgdGhpcy5jdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICB0aGlzLmN0eC5saW5lVG8oeCwgeSArIHJhZGl1cyk7XG4gICAgdGhpcy5jdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgcmFkaXVzLCB5KTtcbiAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdGV4dCBvdmVybGF5XG4gICAqL1xuICByZW5kZXJUZXh0KGNvbmZpZzogVGV4dE92ZXJsYXlDb25maWcpOiBUZXh0TWVhc3VyZW1lbnQge1xuICAgIGNvbnN0IHsgdGV4dCwgc3R5bGUsIHBvc2l0aW9uLCB3cmFwLCBiYWNrZ3JvdW5kIH0gPSBjb25maWc7XG4gICAgXG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIFxuICAgIC8vIEFwcGx5IHJvdGF0aW9uIGlmIHNwZWNpZmllZFxuICAgIGlmIChwb3NpdGlvbi5yb3RhdGlvbikge1xuICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgdGhpcy5jdHgucm90YXRlKHBvc2l0aW9uLnJvdGF0aW9uKTtcbiAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtcG9zaXRpb24ueCwgLXBvc2l0aW9uLnkpO1xuICAgIH1cblxuICAgIC8vIE1lYXN1cmUgdGV4dFxuICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gdGhpcy5tZWFzdXJlVGV4dCh0ZXh0LCBzdHlsZSwgcG9zaXRpb24sIHdyYXApO1xuXG4gICAgLy8gRHJhdyBiYWNrZ3JvdW5kIGlmIHNwZWNpZmllZFxuICAgIGlmIChiYWNrZ3JvdW5kKSB7XG4gICAgICB0aGlzLmRyYXdUZXh0QmFja2dyb3VuZChtZWFzdXJlbWVudCwgYmFja2dyb3VuZCk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgdGV4dCBzdHlsaW5nXG4gICAgdGhpcy5hcHBseVRleHRTdHlsZShzdHlsZSk7XG5cbiAgICAvLyBDYWxjdWxhdGUgc3RhcnRpbmcgcG9zaXRpb24gYmFzZWQgb24gYW5jaG9yXG4gICAgY29uc3QgYW5jaG9yID0gcG9zaXRpb24uYW5jaG9yIHx8IHsgeDogJ2xlZnQnLCB5OiAndG9wJyB9O1xuICAgIGxldCBzdGFydFggPSBwb3NpdGlvbi54O1xuICAgIGxldCBzdGFydFkgPSBwb3NpdGlvbi55O1xuXG4gICAgaWYgKGFuY2hvci54ID09PSAnY2VudGVyJykge1xuICAgICAgc3RhcnRYIC09IG1lYXN1cmVtZW50LndpZHRoIC8gMjtcbiAgICB9IGVsc2UgaWYgKGFuY2hvci54ID09PSAncmlnaHQnKSB7XG4gICAgICBzdGFydFggLT0gbWVhc3VyZW1lbnQud2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKGFuY2hvci55ID09PSAnbWlkZGxlJykge1xuICAgICAgc3RhcnRZIC09IG1lYXN1cmVtZW50LmhlaWdodCAvIDI7XG4gICAgfSBlbHNlIGlmIChhbmNob3IueSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHN0YXJ0WSAtPSBtZWFzdXJlbWVudC5oZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBlYWNoIGxpbmVcbiAgICBtZWFzdXJlbWVudC5saW5lcy5mb3JFYWNoKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGluZVggPSBzdGFydFg7XG4gICAgICBjb25zdCBsaW5lWSA9IHN0YXJ0WSArIGxpbmUueTtcblxuICAgICAgLy8gQWRqdXN0IGxpbmUgcG9zaXRpb24gYmFzZWQgb24gdGV4dCBhbGlnbm1lbnRcbiAgICAgIGxldCBhZGp1c3RlZFggPSBsaW5lWDtcbiAgICAgIGlmIChzdHlsZS50ZXh0QWxpZ24gPT09IFRleHRBbGlnbi5DZW50ZXIpIHtcbiAgICAgICAgYWRqdXN0ZWRYID0gc3RhcnRYICsgKG1lYXN1cmVtZW50LndpZHRoIC0gbGluZS53aWR0aCkgLyAyO1xuICAgICAgfSBlbHNlIGlmIChzdHlsZS50ZXh0QWxpZ24gPT09IFRleHRBbGlnbi5SaWdodCkge1xuICAgICAgICBhZGp1c3RlZFggPSBzdGFydFggKyBtZWFzdXJlbWVudC53aWR0aCAtIGxpbmUud2lkdGg7XG4gICAgICB9XG5cbiAgICAgIC8vIERyYXcgc2hhZG93IGZpcnN0IGlmIHNwZWNpZmllZFxuICAgICAgaWYgKHN0eWxlLnNoYWRvdykge1xuICAgICAgICB0aGlzLmRyYXdUZXh0U2hhZG93KGxpbmUudGV4dCwgYWRqdXN0ZWRYLCBsaW5lWSwgc3R5bGUuc2hhZG93KTtcbiAgICAgIH1cblxuICAgICAgLy8gRHJhdyB0ZXh0IG91dGxpbmUgaWYgc3BlY2lmaWVkXG4gICAgICBpZiAoc3R5bGUub3V0bGluZSkge1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VUZXh0KGxpbmUudGV4dCwgYWRqdXN0ZWRYLCBsaW5lWSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERyYXcgbWFpbiB0ZXh0XG4gICAgICB0aGlzLmN0eC5maWxsVGV4dChsaW5lLnRleHQsIGFkanVzdGVkWCwgbGluZVkpO1xuXG4gICAgICAvLyBEcmF3IHRleHQgZGVjb3JhdGlvbiBpZiBzcGVjaWZpZWRcbiAgICAgIGlmIChzdHlsZS5kZWNvcmF0aW9uKSB7XG4gICAgICAgIHRoaXMuZHJhd1RleHREZWNvcmF0aW9uKGxpbmUudGV4dCwgYWRqdXN0ZWRYLCBsaW5lWSwgbGluZS53aWR0aCwgc3R5bGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgIHJldHVybiBtZWFzdXJlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB0ZXh0IGZyb20gc3BlY2lmaWMgYXJlYVxuICAgKi9cbiAgY2xlYXJUZXh0KG1lYXN1cmVtZW50OiBUZXh0TWVhc3VyZW1lbnQsIHBhZGRpbmc6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IG1lYXN1cmVtZW50LmJvdW5kaW5nQm94O1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdChcbiAgICAgIHggLSBwYWRkaW5nLFxuICAgICAgeSAtIHBhZGRpbmcsXG4gICAgICB3aWR0aCArIHBhZGRpbmcgKiAyLFxuICAgICAgaGVpZ2h0ICsgcGFkZGluZyAqIDJcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogVGV4dCBvdmVybGF5IHV0aWxpdGllc1xuICovXG5leHBvcnQgY2xhc3MgVGV4dE92ZXJsYXlVdGlscyB7XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgb3B0aW1hbCBmb250IHNpemUgdG8gZml0IHRleHQgaW4gYXJlYVxuICAgKi9cbiAgc3RhdGljIGNhbGN1bGF0ZU9wdGltYWxGb250U2l6ZShcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgbWF4V2lkdGg6IG51bWJlcixcbiAgICBtYXhIZWlnaHQ6IG51bWJlcixcbiAgICBzdHlsZTogVGV4dFN0eWxlLFxuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnRcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZ2V0IGNhbnZhcyBjb250ZXh0Jyk7XG5cbiAgICBsZXQgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZSB8fCAxNjtcbiAgICBsZXQgdGVzdFN0eWxlID0geyAuLi5zdHlsZSwgZm9udFNpemUgfTtcbiAgICBcbiAgICAvLyBCaW5hcnkgc2VhcmNoIGZvciBvcHRpbWFsIGZvbnQgc2l6ZVxuICAgIGxldCBtaW5TaXplID0gMTtcbiAgICBsZXQgbWF4U2l6ZSA9IDIwMDtcblxuICAgIHdoaWxlIChtaW5TaXplIDwgbWF4U2l6ZSAtIDEpIHtcbiAgICAgIGZvbnRTaXplID0gTWF0aC5mbG9vcigobWluU2l6ZSArIG1heFNpemUpIC8gMik7XG4gICAgICB0ZXN0U3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgIFxuICAgICAgY3R4LmZvbnQgPSBgJHt0ZXN0U3R5bGUuZm9udFN0eWxlIHx8ICdub3JtYWwnfSAke3Rlc3RTdHlsZS5mb250V2VpZ2h0IHx8ICdub3JtYWwnfSAke2ZvbnRTaXplfXB4ICR7dGVzdFN0eWxlLmZvbnRGYW1pbHkgfHwgJ0FyaWFsJ31gO1xuICAgICAgY29uc3QgbWV0cmljcyA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSBmb250U2l6ZSAqICh0ZXN0U3R5bGUubGluZUhlaWdodCB8fCAxLjIpO1xuXG4gICAgICBpZiAobWV0cmljcy53aWR0aCA8PSBtYXhXaWR0aCAmJiB0ZXh0SGVpZ2h0IDw9IG1heEhlaWdodCkge1xuICAgICAgICBtaW5TaXplID0gZm9udFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhTaXplID0gZm9udFNpemU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pblNpemU7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRleHQgcHJlc2V0IGNvbmZpZ3VyYXRpb25zXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlUHJlc2V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAuLi5ERUZBVUxUX1RFWFRfU1RZTEUsXG4gICAgICAgICAgZm9udFNpemU6IDMyLFxuICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgICAgICBjb2xvcjogJyMyYzNlNTAnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdWJ0aXRsZToge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIC4uLkRFRkFVTFRfVEVYVF9TVFlMRSxcbiAgICAgICAgICBmb250U2l6ZTogMjQsXG4gICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgY29sb3I6ICcjMzQ0OTVlJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYm9keToge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIC4uLkRFRkFVTFRfVEVYVF9TVFlMRSxcbiAgICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgICAgY29sb3I6ICcjMmMzZTUwJyxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhcHRpb246IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAuLi5ERUZBVUxUX1RFWFRfU1RZTEUsXG4gICAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICAgIGNvbG9yOiAnIzdmOGM4ZCcsXG4gICAgICAgICAgZm9udFN0eWxlOiAnaXRhbGljJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgd2F0ZXJtYXJrOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgLi4uREVGQVVMVF9URVhUX1NUWUxFLFxuICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KScsXG4gICAgICAgICAgc2hhZG93OiB7XG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC4zKScsXG4gICAgICAgICAgICBvZmZzZXRYOiAxLFxuICAgICAgICAgICAgb2Zmc2V0WTogMSxcbiAgICAgICAgICAgIGJsdXI6IDJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgdGV4dCBvdmVybGF5IHJlbmRlcmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXh0T3ZlcmxheVJlbmRlcmVyKG1hbmFnZWRDYW52YXM6IE1hbmFnZWRDYW52YXMpOiBUZXh0T3ZlcmxheVJlbmRlcmVyIHtcbiAgcmV0dXJuIG5ldyBUZXh0T3ZlcmxheVJlbmRlcmVyKG1hbmFnZWRDYW52YXMpO1xufSJdLCJuYW1lcyI6WyJERUZBVUxUX1RFWFRfU1RZTEUiLCJUZXh0QWxpZ24iLCJUZXh0QmFzZWxpbmUiLCJUZXh0T3ZlcmxheVJlbmRlcmVyIiwiVGV4dE92ZXJsYXlVdGlscyIsImNyZWF0ZVRleHRPdmVybGF5UmVuZGVyZXIiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwiY29sb3IiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJsaW5lSGVpZ2h0IiwibGV0dGVyU3BhY2luZyIsIm9wYWNpdHkiLCJ0ZXh0VHJhbnNmb3JtIiwiY29uc3RydWN0b3IiLCJtYW5hZ2VkQ2FudmFzIiwiY2FudmFzIiwiY3R4IiwiY29udGV4dCIsImFwcGx5VGV4dFRyYW5zZm9ybSIsInRleHQiLCJ0cmFuc2Zvcm0iLCJ0b1VwcGVyQ2FzZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImwiLCJidWlsZEZvbnRTdHJpbmciLCJzdHlsZSIsImFwcGx5VGV4dFN0eWxlIiwiZm9udCIsImdsb2JhbEFscGhhIiwiZ3JhZGllbnQiLCJmaWxsU3R5bGUiLCJjcmVhdGVUZXh0R3JhZGllbnQiLCJvdXRsaW5lIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJ3aWR0aCIsImNhbnZhc0dyYWRpZW50IiwidHlwZSIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwieDEiLCJ5MSIsIngyIiwieTIiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsInIxIiwicjIiLCJjb2xvcnMiLCJmb3JFYWNoIiwic3RvcCIsImFkZENvbG9yU3RvcCIsIm9mZnNldCIsIndyYXBUZXh0IiwibWF4V2lkdGgiLCJ3cmFwT3B0aW9ucyIsImVuYWJsZWQiLCJ3b3JkcyIsInNwbGl0IiwibGluZXMiLCJjdXJyZW50TGluZSIsIndvcmQiLCJ0ZXN0TGluZSIsIm1ldHJpY3MiLCJtZWFzdXJlVGV4dCIsInB1c2giLCJicmVha1dvcmRzIiwiY2hhcnMiLCJjaGFyTGluZSIsImNoYXIiLCJ0ZXN0Q2hhckxpbmUiLCJwb3NpdGlvbiIsInRyYW5zZm9ybWVkVGV4dCIsImxpbmVEYXRhIiwibWFwIiwibGluZSIsImluZGV4IiwiTWF0aCIsIm1heCIsInkiLCJ0b3RhbEhlaWdodCIsImxlbmd0aCIsImFuY2hvciIsIngiLCJib3VuZGluZ1giLCJib3VuZGluZ1kiLCJoZWlnaHQiLCJsaW5lQ291bnQiLCJib3VuZGluZ0JveCIsImRyYXdUZXh0U2hhZG93Iiwic2hhZG93Iiwic2F2ZSIsInNoYWRvd0NvbG9yIiwic2hhZG93T2Zmc2V0WCIsIm9mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwib2Zmc2V0WSIsInNoYWRvd0JsdXIiLCJibHVyIiwiZmlsbFRleHQiLCJyZXN0b3JlIiwiZHJhd1RleHREZWNvcmF0aW9uIiwiZGVjb3JhdGlvbiIsInRoaWNrbmVzcyIsImJlZ2luUGF0aCIsInVuZGVybGluZSIsInVuZGVybGluZVkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJvdmVybGluZSIsIm92ZXJsaW5lWSIsImxpbmVUaHJvdWdoIiwibGluZVRocm91Z2hZIiwic3Ryb2tlIiwiZHJhd1RleHRCYWNrZ3JvdW5kIiwibWVhc3VyZW1lbnQiLCJiYWNrZ3JvdW5kIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImRyYXdSb3VuZGVkUmVjdCIsImZpbGwiLCJmaWxsUmVjdCIsInJhZGl1cyIsInF1YWRyYXRpY0N1cnZlVG8iLCJjbG9zZVBhdGgiLCJyZW5kZXJUZXh0IiwiY29uZmlnIiwid3JhcCIsInJvdGF0aW9uIiwidHJhbnNsYXRlIiwicm90YXRlIiwic3RhcnRYIiwic3RhcnRZIiwibGluZVgiLCJsaW5lWSIsImFkanVzdGVkWCIsInN0cm9rZVRleHQiLCJjbGVhclRleHQiLCJjbGVhclJlY3QiLCJjYWxjdWxhdGVPcHRpbWFsRm9udFNpemUiLCJtYXhIZWlnaHQiLCJnZXRDb250ZXh0IiwiRXJyb3IiLCJ0ZXN0U3R5bGUiLCJtaW5TaXplIiwibWF4U2l6ZSIsImZsb29yIiwidGV4dEhlaWdodCIsImNyZWF0ZVByZXNldHMiLCJ0aXRsZSIsInN1YnRpdGxlIiwiYm9keSIsImNhcHRpb24iLCJ3YXRlcm1hcmsiXSwibWFwcGluZ3MiOiJBQUFBLGlDQUFpQztBQUNqQywwRUFBMEU7Ozs7Ozs7Ozs7OztJQStNN0RBLGtCQUFrQjtlQUFsQkE7O0lBeE1EQyxTQUFTO2VBQVRBOztJQVdBQyxZQUFZO2VBQVpBOztJQThNQ0MsbUJBQW1CO2VBQW5CQTs7SUFvWUFDLGdCQUFnQjtlQUFoQkE7O0lBZ0dHQyx5QkFBeUI7ZUFBekJBOzs7QUE3ckJULElBQUEsQUFBS0osbUNBQUFBOzs7Ozs7V0FBQUE7O0FBV0wsSUFBQSxBQUFLQyxzQ0FBQUE7Ozs7Ozs7V0FBQUE7O0FBNkxMLE1BQU1GLHFCQUFrRztJQUM3R00sWUFBWTtJQUNaQyxVQUFVO0lBQ1ZDLFlBQVk7SUFDWkMsV0FBVztJQUNYQyxPQUFPO0lBQ1BDLFNBQVM7SUFDVEMsWUFBWTtJQUNaQyxZQUFZO0lBQ1pDLGVBQWU7SUFDZkMsU0FBUztJQUNUQyxlQUFlO0FBQ2pCO0FBS08sTUFBTWI7SUFJWGMsWUFBWUMsYUFBNEIsQ0FBRTtRQUN4QyxJQUFJLENBQUNDLE1BQU0sR0FBR0QsY0FBY0MsTUFBTTtRQUNsQyxJQUFJLENBQUNDLEdBQUcsR0FBR0YsY0FBY0csT0FBTztJQUNsQztJQUVBOztHQUVDLEdBQ0QsQUFBUUMsbUJBQW1CQyxJQUFZLEVBQUVDLFNBQXFDLEVBQVU7UUFDdEYsT0FBUUE7WUFDTixLQUFLO2dCQUNILE9BQU9ELEtBQUtFLFdBQVc7WUFDekIsS0FB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