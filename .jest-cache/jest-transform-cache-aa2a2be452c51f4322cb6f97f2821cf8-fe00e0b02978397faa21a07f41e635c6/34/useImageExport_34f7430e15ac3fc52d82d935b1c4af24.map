{"version":3,"names":["cov_2o6cjfsmml","actualCoverage","s","useBatchImageExport","f","useImageExport","useSimpleImageExport","canvasWidth","canvasHeight","canvasId","options","b","canvas","_CanvasProvider","useManagedCanvas","exporterRef","_react","useRef","undefined","state","setState","useState","isExporting","progress","currentExport","completedExports","failedExports","totalExports","current","_imageExport","createImageExporter","updateProgress","useCallback","prev","onProgress","exportImage","config","Error","finalConfig","defaultConfig","exportId","Date","now","Math","random","toString","substr","result","autoDownload","downloadImage","onExportComplete","error","classifiedError","_errorHandling","classifyTryonError","logAndClassifyError","operation","onExportError","exportWithPreset","preset","exportMultiple","configs","length","results","totalConfigs","i","push","completedCount","totalCount","downloadLastExport","lastExport","clearHistory","getOptimalConfig","useCase","baseConfig","DEFAULT_EXPORT_CONFIG","format","ExportFormat","WEBP","QualityPreset","WEB","quality","JPEG","SOCIAL","width","height","PNG","PRINT","dpi","MAXIMUM","estimateSize","estimateFileSize","exporter","concurrency","batchManagerRef","queueStatus","setQueueStatus","pending","processing","createBatchExportManager","updateQueueStatus","getQueueStatus","queueExport","queueMultiple","promises","map","Promise","all","clearQueue","exportPresets","presets","batchManager","exportForWeb","exportForSocial","exportForPrint","exportPNG","exportJPEG","downloadLast"],"sources":["/Users/willstreeter/WebstormProjects/vibe-coding/those-people/The-Sus-Fit-gp/src/business-layer/hooks/useImageExport.ts"],"sourcesContent":["'use client';\n\n// Image Export React Hooks\n// React hooks for managing image export operations with progress tracking and optimization\n\nimport { useCallback, useRef, useState } from 'react';\nimport { useManagedCanvas } from '../providers/CanvasProvider';\nimport {\n  ImageExporter,\n  BatchExportManager,\n  createImageExporter,\n  createBatchExportManager,\n  ExportFormat,\n  QualityPreset,\n  type ExportConfig,\n  type ExportResult,\n  DEFAULT_EXPORT_CONFIG,\n  estimateFileSize\n} from '../utils/imageExport';\nimport {\n  classifyTryonError,\n  logAndClassifyError,\n  type ClassifiedError\n} from '../utils/errorHandling';\n\n/**\n * Export hook options\n */\nexport interface UseImageExportOptions {\n  /** Default export configuration */\n  defaultConfig?: Partial<ExportConfig>;\n  /** Enable auto-download after export */\n  autoDownload?: boolean;\n  /** Callback when export completes */\n  onExportComplete?: (result: ExportResult) => void;\n  /** Callback when export fails */\n  onExportError?: (error: ClassifiedError) => void;\n  /** Callback for export progress */\n  onProgress?: (progress: number) => void;\n}\n\n/**\n * Export state\n */\nexport interface ExportState {\n  isExporting: boolean;\n  progress: number;\n  currentExport: string | null;\n  completedExports: ExportResult[];\n  failedExports: Array<{ config: Partial<ExportConfig>; error: ClassifiedError }>;\n  totalExports: number;\n}\n\n/**\n * Main image export hook\n */\nexport function useImageExport(\n  canvasWidth: number,\n  canvasHeight: number,\n  canvasId?: string,\n  options: UseImageExportOptions = {}\n): {\n  canvas: HTMLCanvasElement;\n  exporter: ImageExporter;\n  state: ExportState;\n  exportImage: (config?: Partial<ExportConfig>) => Promise<ExportResult>;\n  exportWithPreset: (preset: QualityPreset) => Promise<ExportResult>;\n  exportMultiple: (configs: Partial<ExportConfig>[]) => Promise<ExportResult[]>;\n  downloadLastExport: () => void;\n  clearHistory: () => void;\n  getOptimalConfig: (useCase: 'web' | 'social' | 'print' | 'archive') => ExportConfig;\n  estimateSize: (config?: Partial<ExportConfig>) => number;\n} {\n  const canvas = useManagedCanvas(canvasWidth, canvasHeight, canvasId);\n  const exporterRef = useRef<ImageExporter | undefined>(undefined);\n  const [state, setState] = useState<ExportState>({\n    isExporting: false,\n    progress: 0,\n    currentExport: null,\n    completedExports: [],\n    failedExports: [],\n    totalExports: 0\n  });\n\n  // Initialize exporter\n  if (!exporterRef.current) {\n    exporterRef.current = createImageExporter(canvas);\n  }\n\n  const updateProgress = useCallback((progress: number) => {\n    setState(prev => ({ ...prev, progress }));\n    options.onProgress?.(progress);\n  }, [options]);\n\n  const exportImage = useCallback(async (config: Partial<ExportConfig> = {}): Promise<ExportResult> => {\n    if (!exporterRef.current) throw new Error('Exporter not initialized');\n\n    const finalConfig = { ...options.defaultConfig, ...config };\n    const exportId = `export_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n    setState(prev => ({\n      ...prev,\n      isExporting: true,\n      progress: 0,\n      currentExport: exportId,\n      totalExports: prev.totalExports + 1\n    }));\n\n    try {\n      updateProgress(25);\n      \n      const result = await exporterRef.current.exportImage(finalConfig);\n      \n      updateProgress(75);\n\n      setState(prev => ({\n        ...prev,\n        isExporting: false,\n        progress: 100,\n        currentExport: null,\n        completedExports: [...prev.completedExports, result]\n      }));\n\n      updateProgress(100);\n\n      // Auto-download if enabled\n      if (options.autoDownload) {\n        exporterRef.current!.downloadImage(result);\n      }\n\n      options.onExportComplete?.(result);\n      return result;\n    } catch (error) {\n      const classifiedError = classifyTryonError(error);\n      \n      setState(prev => ({\n        ...prev,\n        isExporting: false,\n        progress: 0,\n        currentExport: null,\n        failedExports: [...prev.failedExports, { config: finalConfig, error: classifiedError }]\n      }));\n\n      logAndClassifyError(error, {\n        operation: 'image_export',\n        config: finalConfig,\n        exportId\n      });\n\n      options.onExportError?.(classifiedError);\n      throw classifiedError;\n    }\n  }, [options, updateProgress]);\n\n  const exportWithPreset = useCallback(async (preset: QualityPreset): Promise<ExportResult> => {\n    return exportImage({ preset });\n  }, [exportImage]);\n\n  const exportMultiple = useCallback(async (configs: Partial<ExportConfig>[]): Promise<ExportResult[]> => {\n    if (!exporterRef.current) throw new Error('Exporter not initialized');\n\n    setState(prev => ({\n      ...prev,\n      isExporting: true,\n      progress: 0,\n      totalExports: prev.totalExports + configs.length\n    }));\n\n    const results: ExportResult[] = [];\n    const totalConfigs = configs.length;\n\n    try {\n      for (let i = 0; i < configs.length; i++) {\n        const config = { ...options.defaultConfig, ...configs[i] };\n        updateProgress((i / totalConfigs) * 100);\n        \n        const result = await exporterRef.current.exportImage(config);\n        results.push(result);\n        \n        setState(prev => ({\n          ...prev,\n          completedExports: [...prev.completedExports, result]\n        }));\n      }\n\n      setState(prev => ({\n        ...prev,\n        isExporting: false,\n        progress: 100\n      }));\n\n      updateProgress(100);\n      return results;\n    } catch (error) {\n      const classifiedError = classifyTryonError(error);\n      \n      setState(prev => ({\n        ...prev,\n        isExporting: false,\n        progress: 0,\n        failedExports: [...prev.failedExports, { config: configs[results.length], error: classifiedError }]\n      }));\n\n      logAndClassifyError(error, {\n        operation: 'batch_export',\n        completedCount: results.length,\n        totalCount: totalConfigs\n      });\n\n      options.onExportError?.(classifiedError);\n      throw classifiedError;\n    }\n  }, [options, updateProgress]);\n\n  const downloadLastExport = useCallback(() => {\n    if (!exporterRef.current || state.completedExports.length === 0) return;\n    \n    const lastExport = state.completedExports[state.completedExports.length - 1];\n    exporterRef.current.downloadImage(lastExport);\n  }, [state.completedExports]);\n\n  const clearHistory = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      completedExports: [],\n      failedExports: [],\n      totalExports: 0\n    }));\n  }, []);\n\n  const getOptimalConfig = useCallback((useCase: 'web' | 'social' | 'print' | 'archive'): ExportConfig => {\n    const baseConfig = { ...DEFAULT_EXPORT_CONFIG, ...options.defaultConfig };\n\n    switch (useCase) {\n      case 'web':\n        return {\n          ...baseConfig,\n          format: ExportFormat.WEBP,\n          preset: QualityPreset.WEB,\n          quality: 0.8\n        };\n      case 'social':\n        return {\n          ...baseConfig,\n          format: ExportFormat.JPEG,\n          preset: QualityPreset.SOCIAL,\n          quality: 0.85,\n          width: 1080,\n          height: 1080\n        };\n      case 'print':\n        return {\n          ...baseConfig,\n          format: ExportFormat.PNG,\n          preset: QualityPreset.PRINT,\n          quality: 1.0,\n          dpi: 300\n        };\n      case 'archive':\n        return {\n          ...baseConfig,\n          format: ExportFormat.PNG,\n          preset: QualityPreset.MAXIMUM,\n          quality: 1.0\n        };\n      default:\n        return baseConfig;\n    }\n  }, [options.defaultConfig]);\n\n  const estimateSize = useCallback((config: Partial<ExportConfig> = {}): number => {\n    const finalConfig = { ...DEFAULT_EXPORT_CONFIG, ...options.defaultConfig, ...config };\n    \n    return estimateFileSize(\n      finalConfig.width || canvasWidth,\n      finalConfig.height || canvasHeight,\n      finalConfig.format,\n      finalConfig.quality\n    );\n  }, [canvasWidth, canvasHeight, options.defaultConfig]);\n\n  return {\n    canvas: canvas.canvas,\n    exporter: exporterRef.current!,\n    state,\n    exportImage,\n    exportWithPreset,\n    exportMultiple,\n    downloadLastExport,\n    clearHistory,\n    getOptimalConfig,\n    estimateSize\n  };\n}\n\n/**\n * Batch export hook with queue management\n */\nexport function useBatchImageExport(\n  canvasWidth: number,\n  canvasHeight: number,\n  canvasId?: string,\n  concurrency: number = 2\n): {\n  canvas: HTMLCanvasElement;\n  batchManager: BatchExportManager;\n  queueExport: (config: Partial<ExportConfig>) => Promise<ExportResult>;\n  queueMultiple: (configs: Partial<ExportConfig>[]) => Promise<ExportResult[]>;\n  clearQueue: () => void;\n  queueStatus: { pending: number; processing: boolean };\n  exportPresets: (presets: QualityPreset[]) => Promise<ExportResult[]>;\n} {\n  const canvas = useManagedCanvas(canvasWidth, canvasHeight, canvasId);\n  const exporterRef = useRef<ImageExporter | undefined>(undefined);\n  const batchManagerRef = useRef<BatchExportManager | undefined>(undefined);\n  const [queueStatus, setQueueStatus] = useState({ pending: 0, processing: false });\n\n  // Initialize exporter and batch manager\n  if (!exporterRef.current) {\n    exporterRef.current = createImageExporter(canvas);\n    batchManagerRef.current = createBatchExportManager(exporterRef.current, concurrency);\n  }\n\n  const updateQueueStatus = useCallback(() => {\n    if (batchManagerRef.current) {\n      setQueueStatus(batchManagerRef.current.getQueueStatus());\n    }\n  }, []);\n\n  const queueExport = useCallback(async (config: Partial<ExportConfig>): Promise<ExportResult> => {\n    if (!batchManagerRef.current) throw new Error('Batch manager not initialized');\n    \n    updateQueueStatus();\n    const result = await batchManagerRef.current.queueExport(config);\n    updateQueueStatus();\n    \n    return result;\n  }, [updateQueueStatus]);\n\n  const queueMultiple = useCallback(async (configs: Partial<ExportConfig>[]): Promise<ExportResult[]> => {\n    if (!batchManagerRef.current) throw new Error('Batch manager not initialized');\n    \n    const promises = configs.map(config => queueExport(config));\n    return Promise.all(promises);\n  }, [queueExport]);\n\n  const clearQueue = useCallback(() => {\n    if (batchManagerRef.current) {\n      batchManagerRef.current.clearQueue();\n      updateQueueStatus();\n    }\n  }, [updateQueueStatus]);\n\n  const exportPresets = useCallback(async (presets: QualityPreset[]): Promise<ExportResult[]> => {\n    const configs = presets.map(preset => ({ preset }));\n    return queueMultiple(configs);\n  }, [queueMultiple]);\n\n  return {\n    canvas: canvas.canvas,\n    batchManager: batchManagerRef.current!,\n    queueExport,\n    queueMultiple,\n    clearQueue,\n    queueStatus,\n    exportPresets\n  };\n}\n\n/**\n * Simple export hook with common presets\n */\nexport function useSimpleImageExport(\n  canvasWidth: number,\n  canvasHeight: number,\n  canvasId?: string\n): {\n  canvas: HTMLCanvasElement;\n  exportForWeb: () => Promise<ExportResult>;\n  exportForSocial: () => Promise<ExportResult>;\n  exportForPrint: () => Promise<ExportResult>;\n  exportPNG: () => Promise<ExportResult>;\n  exportJPEG: (quality?: number) => Promise<ExportResult>;\n  isExporting: boolean;\n  lastExport: ExportResult | null;\n  downloadLast: () => void;\n} {\n  const {\n    canvas,\n    state,\n    exportImage,\n    downloadLastExport,\n    getOptimalConfig\n  } = useImageExport(canvasWidth, canvasHeight, canvasId, { autoDownload: true });\n\n  const exportForWeb = useCallback(() => {\n    return exportImage(getOptimalConfig('web'));\n  }, [exportImage, getOptimalConfig]);\n\n  const exportForSocial = useCallback(() => {\n    return exportImage(getOptimalConfig('social'));\n  }, [exportImage, getOptimalConfig]);\n\n  const exportForPrint = useCallback(() => {\n    return exportImage(getOptimalConfig('print'));\n  }, [exportImage, getOptimalConfig]);\n\n  const exportPNG = useCallback(() => {\n    return exportImage({ format: ExportFormat.PNG, quality: 1.0 });\n  }, [exportImage]);\n\n  const exportJPEG = useCallback((quality: number = 0.9) => {\n    return exportImage({ format: ExportFormat.JPEG, quality });\n  }, [exportImage]);\n\n  return {\n    canvas,\n    exportForWeb,\n    exportForSocial,\n    exportForPrint,\n    exportPNG,\n    exportJPEG,\n    isExporting: state.isExporting,\n    lastExport: state.completedExports[state.completedExports.length - 1] || null,\n    downloadLast: downloadLastExport\n  };\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}