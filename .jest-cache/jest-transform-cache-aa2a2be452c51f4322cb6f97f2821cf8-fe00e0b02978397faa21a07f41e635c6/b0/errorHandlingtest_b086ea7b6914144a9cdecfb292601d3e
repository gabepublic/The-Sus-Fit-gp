899f4f5d8ac4d3ee4a077714e7e3a5af
/**
 * @jest-environment jsdom
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _image = require("../../../src/utils/image");
const _imageProcessing = require("../../../src/business-layer/utils/imageProcessing");
const _errorHandling = require("../../../src/business-layer/utils/errorHandling");
describe('Error Handling System', ()=>{
    let mockLogger;
    beforeEach(()=>{
        mockLogger = {
            logError: jest.fn()
        };
        (0, _errorHandling.setErrorLogger)(mockLogger);
    });
    describe('Error Classification', ()=>{
        it('should classify FileTypeNotSupportedError correctly', ()=>{
            const error = new _image.FileTypeNotSupportedError('Invalid file type');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.VALIDATION);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.LOW);
            expect(classified.errorCode).toBe('INVALID_FILE_TYPE');
            expect(classified.retryable).toBe(false);
            expect(classified.userMessage).toContain('valid image file');
            expect(classified.recoveryActions).toHaveLength(1);
            expect(classified.recoveryActions[0].type).toBe('try_different_image');
        });
        it('should classify FileTooLargeError correctly', ()=>{
            const error = new _image.FileTooLargeError('File too large');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.VALIDATION);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('FILE_TOO_LARGE');
            expect(classified.retryable).toBe(false);
            expect(classified.userMessage).toContain('too large');
            expect(classified.recoveryActions).toHaveLength(2);
            expect(classified.recoveryActions[0].type).toBe('reduce_image_size');
        });
        it('should classify ImageDimensionError correctly', ()=>{
            const error = new _imageProcessing.ImageDimensionError('Invalid dimensions', 100, 100);
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.VALIDATION);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('INVALID_DIMENSIONS');
            expect(classified.retryable).toBe(false);
            expect(classified.userMessage).toContain('dimensions');
        });
        it('should classify ImageProcessingError correctly', ()=>{
            const error = new _imageProcessing.ImageProcessingError('Processing failed');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.IMAGE_PROCESSING);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('IMAGE_PROCESSING_FAILED');
            expect(classified.retryable).toBe(false);
            expect(classified.userMessage).toContain('process the image');
        });
        it('should classify CompressionFailedError correctly', ()=>{
            const error = new _image.CompressionFailedError('Compression failed');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.IMAGE_PROCESSING);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('IMAGE_PROCESSING_FAILED');
            expect(classified.retryable).toBe(false);
        });
        it('should classify rate limit errors correctly', ()=>{
            const error = {
                error: 'Rate limited',
                status: 429
            };
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.RATE_LIMIT);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('RATE_LIMITED');
            expect(classified.retryable).toBe(true);
            expect(classified.recoveryActions[0].type).toBe('wait_and_retry');
            expect(classified.recoveryActions[0].waitTime).toBe(60);
        });
        it('should classify server errors correctly', ()=>{
            const error = {
                error: 'Internal server error',
                status: 500
            };
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.API_SERVER);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.HIGH);
            expect(classified.errorCode).toBe('SERVER_ERROR');
            expect(classified.retryable).toBe(true);
            expect(classified.recoveryActions[0].type).toBe('retry');
        });
        it('should classify client errors correctly', ()=>{
            const error = {
                error: 'Bad request',
                status: 400
            };
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.VALIDATION);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('CLIENT_ERROR');
            expect(classified.retryable).toBe(false);
        });
        it('should classify timeout errors correctly', ()=>{
            const error = new Error('Request timeout');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.TIMEOUT);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('REQUEST_TIMEOUT');
            expect(classified.retryable).toBe(true);
            expect(classified.recoveryActions).toContainEqual(expect.objectContaining({
                type: 'check_connection'
            }));
        });
        it('should classify network errors correctly', ()=>{
            const error = new Error('Network connection failed');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.NETWORK);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.MEDIUM);
            expect(classified.errorCode).toBe('NETWORK_ERROR');
            expect(classified.retryable).toBe(true);
        });
        it('should classify unknown errors correctly', ()=>{
            const error = new Error('Something unexpected happened');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.UNKNOWN);
            expect(classified.severity).toBe(_errorHandling.ErrorSeverity.HIGH);
            expect(classified.errorCode).toBe('UNKNOWN_ERROR');
            expect(classified.retryable).toBe(true);
            expect(classified.userMessage).toContain('unexpected error');
        });
    });
    describe('Error Logging', ()=>{
        it('should log errors with classification', ()=>{
            const error = new Error('Test error');
            const context = {
                test: 'context'
            };
            const classified = (0, _errorHandling.logAndClassifyError)(error, context);
            expect(mockLogger.logError).toHaveBeenCalledWith(classified, context);
        });
        it('should use default console logger when no custom logger set', ()=>{
            const consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation();
            const consoleWarnSpy = jest.spyOn(console, 'warn').mockImplementation();
            const consoleInfoSpy = jest.spyOn(console, 'info').mockImplementation();
            const logger = new _errorHandling.ConsoleErrorLogger();
            (0, _errorHandling.setErrorLogger)(logger);
            // Test critical error
            const criticalError = (0, _errorHandling.classifyTryonError)(new Error('Critical'));
            criticalError.severity = _errorHandling.ErrorSeverity.CRITICAL;
            logger.logError(criticalError);
            expect(consoleErrorSpy).toHaveBeenCalled();
            // Test medium error
            const mediumError = (0, _errorHandling.classifyTryonError)(new Error('Medium'));
            mediumError.severity = _errorHandling.ErrorSeverity.MEDIUM;
            logger.logError(mediumError);
            expect(consoleWarnSpy).toHaveBeenCalled();
            // Test low error
            const lowError = (0, _errorHandling.classifyTryonError)(new Error('Low'));
            lowError.severity = _errorHandling.ErrorSeverity.LOW;
            logger.logError(lowError);
            expect(consoleInfoSpy).toHaveBeenCalled();
            consoleErrorSpy.mockRestore();
            consoleWarnSpy.mockRestore();
            consoleInfoSpy.mockRestore();
        });
    });
    describe('Utility Functions', ()=>{
        it('should get user-friendly error messages', ()=>{
            const error = new _image.FileTypeNotSupportedError('Invalid type');
            const message = (0, _errorHandling.getUserFriendlyErrorMessage)(error);
            expect(message).toContain('valid image file');
            expect(message).not.toContain('Invalid type'); // Should not expose technical message
        });
        it('should determine if errors are retryable', ()=>{
            const retryableError = new Error('Network error');
            const nonRetryableError = new _image.FileTypeNotSupportedError('Invalid type');
            expect((0, _errorHandling.isErrorRetryable)(retryableError)).toBe(true);
            expect((0, _errorHandling.isErrorRetryable)(nonRetryableError)).toBe(false);
        });
        it('should get recovery actions for errors', ()=>{
            const error = new _image.FileTooLargeError('Too large');
            const actions = (0, _errorHandling.getErrorRecoveryActions)(error);
            expect(actions).toHaveLength(2);
            expect(actions[0].type).toBe('reduce_image_size');
            expect(actions[1].type).toBe('try_different_image');
        });
        it('should format errors for display', ()=>{
            const error = new Error('Network connection failed');
            const formatted = (0, _errorHandling.formatErrorForDisplay)(error);
            expect(formatted.title).toBe('Connection Issue');
            expect(formatted.message).toContain('Network connection');
            expect(formatted.canRetry).toBe(true);
            expect(formatted.actions.length).toBeGreaterThan(0);
        });
    });
    describe('Recovery Actions', ()=>{
        it('should provide appropriate recovery actions for validation errors', ()=>{
            const error = new _image.FileTypeNotSupportedError('Invalid type');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.recoveryActions).toContainEqual(expect.objectContaining({
                type: 'try_different_image',
                description: expect.stringContaining('JPEG, PNG, WebP, or GIF')
            }));
        });
        it('should provide automated recovery actions for network errors', ()=>{
            const error = new Error('Network error');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            const automatedAction = classified.recoveryActions.find((action)=>action.automated === true);
            expect(automatedAction).toBeDefined();
            expect(automatedAction?.type).toBe('retry');
            expect(automatedAction?.waitTime).toBeDefined();
        });
        it('should provide wait times for rate limiting', ()=>{
            const error = {
                error: 'Rate limited',
                status: 429
            };
            const classified = (0, _errorHandling.classifyTryonError)(error);
            const waitAction = classified.recoveryActions.find((action)=>action.type === 'wait_and_retry');
            expect(waitAction).toBeDefined();
            expect(waitAction?.waitTime).toBe(60);
        });
    });
    describe('Context Handling', ()=>{
        it('should include context in classified errors', ()=>{
            const error = new Error('Test error');
            const context = {
                userId: '123',
                imageCount: 2,
                timestamp: '2023-01-01T00:00:00Z'
            };
            const classified = (0, _errorHandling.classifyTryonError)(error, context);
            expect(classified.context).toEqual(context);
        });
        it('should handle undefined context gracefully', ()=>{
            const error = new Error('Test error');
            const classified = (0, _errorHandling.classifyTryonError)(error);
            expect(classified.context).toBeUndefined();
            expect(classified.originalError).toBe(error);
        });
    });
    describe('Error Chaining', ()=>{
        it('should preserve original error information', ()=>{
            const originalError = new Error('Original message');
            originalError.stack = 'Original stack trace';
            const classified = (0, _errorHandling.classifyTryonError)(originalError);
            expect(classified.originalError).toBe(originalError);
            expect(classified.technicalMessage).toContain('Original message');
        });
        it('should handle non-Error objects', ()=>{
            const errorObject = {
                message: 'Custom error',
                code: 'CUSTOM'
            };
            const classified = (0, _errorHandling.classifyTryonError)(errorObject);
            expect(classified.originalError).toBe(errorObject);
            expect(classified.category).toBe(_errorHandling.ErrorCategory.UNKNOWN);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3AvX190ZXN0c19fL2J1c2luZXNzLWxheWVyL3V0aWxzL2Vycm9ySGFuZGxpbmcudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBqZXN0LWVudmlyb25tZW50IGpzZG9tXG4gKi9cbmltcG9ydCB7IFxuICBGaWxlVHlwZU5vdFN1cHBvcnRlZEVycm9yLCBcbiAgRmlsZVRvb0xhcmdlRXJyb3IsIFxuICBDb21wcmVzc2lvbkZhaWxlZEVycm9yIFxufSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvaW1hZ2UnO1xuaW1wb3J0IHsgXG4gIEltYWdlUHJvY2Vzc2luZ0Vycm9yLCBcbiAgSW1hZ2VEaW1lbnNpb25FcnJvciBcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2J1c2luZXNzLWxheWVyL3V0aWxzL2ltYWdlUHJvY2Vzc2luZyc7XG5pbXBvcnQge1xuICBjbGFzc2lmeVRyeW9uRXJyb3IsXG4gIGxvZ0FuZENsYXNzaWZ5RXJyb3IsXG4gIGdldFVzZXJGcmllbmRseUVycm9yTWVzc2FnZSxcbiAgaXNFcnJvclJldHJ5YWJsZSxcbiAgZ2V0RXJyb3JSZWNvdmVyeUFjdGlvbnMsXG4gIGZvcm1hdEVycm9yRm9yRGlzcGxheSxcbiAgc2V0RXJyb3JMb2dnZXIsXG4gIENvbnNvbGVFcnJvckxvZ2dlcixcbiAgRXJyb3JDYXRlZ29yeSxcbiAgRXJyb3JTZXZlcml0eSxcbiAgdHlwZSBDbGFzc2lmaWVkRXJyb3IsXG4gIHR5cGUgRXJyb3JMb2dnZXJcbn0gZnJvbSAnLi4vLi4vLi4vc3JjL2J1c2luZXNzLWxheWVyL3V0aWxzL2Vycm9ySGFuZGxpbmcnO1xuaW1wb3J0IHR5cGUgeyBUcnlvbk11dGF0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9zcmMvYnVzaW5lc3MtbGF5ZXIvdHlwZXMvdHJ5b24udHlwZXMnO1xuXG5kZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgU3lzdGVtJywgKCkgPT4ge1xuICBsZXQgbW9ja0xvZ2dlcjogamVzdC5Nb2NrZWQ8RXJyb3JMb2dnZXI+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tMb2dnZXIgPSB7XG4gICAgICBsb2dFcnJvcjogamVzdC5mbigpXG4gICAgfTtcbiAgICBzZXRFcnJvckxvZ2dlcihtb2NrTG9nZ2VyKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIENsYXNzaWZpY2F0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2xhc3NpZnkgRmlsZVR5cGVOb3RTdXBwb3J0ZWRFcnJvciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBGaWxlVHlwZU5vdFN1cHBvcnRlZEVycm9yKCdJbnZhbGlkIGZpbGUgdHlwZScpO1xuICAgICAgY29uc3QgY2xhc3NpZmllZCA9IGNsYXNzaWZ5VHJ5b25FcnJvcihlcnJvcik7XG5cbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmNhdGVnb3J5KS50b0JlKEVycm9yQ2F0ZWdvcnkuVkFMSURBVElPTik7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5zZXZlcml0eSkudG9CZShFcnJvclNldmVyaXR5LkxPVyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5lcnJvckNvZGUpLnRvQmUoJ0lOVkFMSURfRklMRV9UWVBFJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQudXNlck1lc3NhZ2UpLnRvQ29udGFpbigndmFsaWQgaW1hZ2UgZmlsZScpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQucmVjb3ZlcnlBY3Rpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnNbMF0udHlwZSkudG9CZSgndHJ5X2RpZmZlcmVudF9pbWFnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbGFzc2lmeSBGaWxlVG9vTGFyZ2VFcnJvciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBGaWxlVG9vTGFyZ2VFcnJvcignRmlsZSB0b28gbGFyZ2UnKTtcbiAgICAgIGNvbnN0IGNsYXNzaWZpZWQgPSBjbGFzc2lmeVRyeW9uRXJyb3IoZXJyb3IpO1xuXG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5jYXRlZ29yeSkudG9CZShFcnJvckNhdGVnb3J5LlZBTElEQVRJT04pO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuc2V2ZXJpdHkpLnRvQmUoRXJyb3JTZXZlcml0eS5NRURJVU0pO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuZXJyb3JDb2RlKS50b0JlKCdGSUxFX1RPT19MQVJHRScpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQucmV0cnlhYmxlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnVzZXJNZXNzYWdlKS50b0NvbnRhaW4oJ3RvbyBsYXJnZScpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQucmVjb3ZlcnlBY3Rpb25zKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnNbMF0udHlwZSkudG9CZSgncmVkdWNlX2ltYWdlX3NpemUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xhc3NpZnkgSW1hZ2VEaW1lbnNpb25FcnJvciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBJbWFnZURpbWVuc2lvbkVycm9yKCdJbnZhbGlkIGRpbWVuc2lvbnMnLCAxMDAsIDEwMCk7XG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yKTtcblxuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuY2F0ZWdvcnkpLnRvQmUoRXJyb3JDYXRlZ29yeS5WQUxJREFUSU9OKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnNldmVyaXR5KS50b0JlKEVycm9yU2V2ZXJpdHkuTUVESVVNKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmVycm9yQ29kZSkudG9CZSgnSU5WQUxJRF9ESU1FTlNJT05TJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQudXNlck1lc3NhZ2UpLnRvQ29udGFpbignZGltZW5zaW9ucycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbGFzc2lmeSBJbWFnZVByb2Nlc3NpbmdFcnJvciBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBJbWFnZVByb2Nlc3NpbmdFcnJvcignUHJvY2Vzc2luZyBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNsYXNzaWZpZWQgPSBjbGFzc2lmeVRyeW9uRXJyb3IoZXJyb3IpO1xuXG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5jYXRlZ29yeSkudG9CZShFcnJvckNhdGVnb3J5LklNQUdFX1BST0NFU1NJTkcpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuc2V2ZXJpdHkpLnRvQmUoRXJyb3JTZXZlcml0eS5NRURJVU0pO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuZXJyb3JDb2RlKS50b0JlKCdJTUFHRV9QUk9DRVNTSU5HX0ZBSUxFRCcpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQucmV0cnlhYmxlKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnVzZXJNZXNzYWdlKS50b0NvbnRhaW4oJ3Byb2Nlc3MgdGhlIGltYWdlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsYXNzaWZ5IENvbXByZXNzaW9uRmFpbGVkRXJyb3IgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgQ29tcHJlc3Npb25GYWlsZWRFcnJvcignQ29tcHJlc3Npb24gZmFpbGVkJyk7XG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yKTtcblxuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuY2F0ZWdvcnkpLnRvQmUoRXJyb3JDYXRlZ29yeS5JTUFHRV9QUk9DRVNTSU5HKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnNldmVyaXR5KS50b0JlKEVycm9yU2V2ZXJpdHkuTUVESVVNKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmVycm9yQ29kZSkudG9CZSgnSU1BR0VfUFJPQ0VTU0lOR19GQUlMRUQnKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnJldHJ5YWJsZSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsYXNzaWZ5IHJhdGUgbGltaXQgZXJyb3JzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yOiBUcnlvbk11dGF0aW9uRXJyb3IgPSB7XG4gICAgICAgIGVycm9yOiAnUmF0ZSBsaW1pdGVkJyxcbiAgICAgICAgc3RhdHVzOiA0MjlcbiAgICAgIH07XG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yKTtcblxuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuY2F0ZWdvcnkpLnRvQmUoRXJyb3JDYXRlZ29yeS5SQVRFX0xJTUlUKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnNldmVyaXR5KS50b0JlKEVycm9yU2V2ZXJpdHkuTUVESVVNKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmVycm9yQ29kZSkudG9CZSgnUkFURV9MSU1JVEVEJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnNbMF0udHlwZSkudG9CZSgnd2FpdF9hbmRfcmV0cnknKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnJlY292ZXJ5QWN0aW9uc1swXS53YWl0VGltZSkudG9CZSg2MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsYXNzaWZ5IHNlcnZlciBlcnJvcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3I6IFRyeW9uTXV0YXRpb25FcnJvciA9IHtcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNsYXNzaWZpZWQgPSBjbGFzc2lmeVRyeW9uRXJyb3IoZXJyb3IpO1xuXG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5jYXRlZ29yeSkudG9CZShFcnJvckNhdGVnb3J5LkFQSV9TRVJWRVIpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuc2V2ZXJpdHkpLnRvQmUoRXJyb3JTZXZlcml0eS5ISUdIKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmVycm9yQ29kZSkudG9CZSgnU0VSVkVSX0VSUk9SJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnNbMF0udHlwZSkudG9CZSgncmV0cnknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xhc3NpZnkgY2xpZW50IGVycm9ycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvcjogVHJ5b25NdXRhdGlvbkVycm9yID0ge1xuICAgICAgICBlcnJvcjogJ0JhZCByZXF1ZXN0JyxcbiAgICAgICAgc3RhdHVzOiA0MDBcbiAgICAgIH07XG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yKTtcblxuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuY2F0ZWdvcnkpLnRvQmUoRXJyb3JDYXRlZ29yeS5WQUxJREFUSU9OKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnNldmVyaXR5KS50b0JlKEVycm9yU2V2ZXJpdHkuTUVESVVNKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmVycm9yQ29kZSkudG9CZSgnQ0xJRU5UX0VSUk9SJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbGFzc2lmeSB0aW1lb3V0IGVycm9ycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignUmVxdWVzdCB0aW1lb3V0Jyk7XG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yKTtcblxuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuY2F0ZWdvcnkpLnRvQmUoRXJyb3JDYXRlZ29yeS5USU1FT1VUKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnNldmVyaXR5KS50b0JlKEVycm9yU2V2ZXJpdHkuTUVESVVNKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmVycm9yQ29kZSkudG9CZSgnUkVRVUVTVF9USU1FT1VUJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnMpLnRvQ29udGFpbkVxdWFsKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7IHR5cGU6ICdjaGVja19jb25uZWN0aW9uJyB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xhc3NpZnkgbmV0d29yayBlcnJvcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ05ldHdvcmsgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGNsYXNzaWZpZWQgPSBjbGFzc2lmeVRyeW9uRXJyb3IoZXJyb3IpO1xuXG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5jYXRlZ29yeSkudG9CZShFcnJvckNhdGVnb3J5Lk5FVFdPUkspO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuc2V2ZXJpdHkpLnRvQmUoRXJyb3JTZXZlcml0eS5NRURJVU0pO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuZXJyb3JDb2RlKS50b0JlKCdORVRXT1JLX0VSUk9SJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsYXNzaWZ5IHVua25vd24gZXJyb3JzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdTb21ldGhpbmcgdW5leHBlY3RlZCBoYXBwZW5lZCcpO1xuICAgICAgY29uc3QgY2xhc3NpZmllZCA9IGNsYXNzaWZ5VHJ5b25FcnJvcihlcnJvcik7XG5cbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmNhdGVnb3J5KS50b0JlKEVycm9yQ2F0ZWdvcnkuVU5LTk9XTik7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5zZXZlcml0eSkudG9CZShFcnJvclNldmVyaXR5LkhJR0gpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuZXJyb3JDb2RlKS50b0JlKCdVTktOT1dOX0VSUk9SJyk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5yZXRyeWFibGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY2xhc3NpZmllZC51c2VyTWVzc2FnZSkudG9Db250YWluKCd1bmV4cGVjdGVkIGVycm9yJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBMb2dnaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbG9nIGVycm9ycyB3aXRoIGNsYXNzaWZpY2F0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7IHRlc3Q6ICdjb250ZXh0JyB9O1xuICAgICAgXG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gbG9nQW5kQ2xhc3NpZnlFcnJvcihlcnJvciwgY29udGV4dCk7XG5cbiAgICAgIGV4cGVjdChtb2NrTG9nZ2VyLmxvZ0Vycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgY2xhc3NpZmllZCxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIGRlZmF1bHQgY29uc29sZSBsb2dnZXIgd2hlbiBubyBjdXN0b20gbG9nZ2VyIHNldCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnNvbGVFcnJvclNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG4gICAgICBjb25zdCBjb25zb2xlV2FyblNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIGNvbnN0IGNvbnNvbGVJbmZvU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnaW5mbycpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgICBjb25zdCBsb2dnZXIgPSBuZXcgQ29uc29sZUVycm9yTG9nZ2VyKCk7XG4gICAgICBzZXRFcnJvckxvZ2dlcihsb2dnZXIpO1xuXG4gICAgICAvLyBUZXN0IGNyaXRpY2FsIGVycm9yXG4gICAgICBjb25zdCBjcml0aWNhbEVycm9yID0gY2xhc3NpZnlUcnlvbkVycm9yKG5ldyBFcnJvcignQ3JpdGljYWwnKSk7XG4gICAgICBjcml0aWNhbEVycm9yLnNldmVyaXR5ID0gRXJyb3JTZXZlcml0eS5DUklUSUNBTDtcbiAgICAgIGxvZ2dlci5sb2dFcnJvcihjcml0aWNhbEVycm9yKTtcbiAgICAgIGV4cGVjdChjb25zb2xlRXJyb3JTcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgLy8gVGVzdCBtZWRpdW0gZXJyb3JcbiAgICAgIGNvbnN0IG1lZGl1bUVycm9yID0gY2xhc3NpZnlUcnlvbkVycm9yKG5ldyBFcnJvcignTWVkaXVtJykpO1xuICAgICAgbWVkaXVtRXJyb3Iuc2V2ZXJpdHkgPSBFcnJvclNldmVyaXR5Lk1FRElVTTtcbiAgICAgIGxvZ2dlci5sb2dFcnJvcihtZWRpdW1FcnJvcik7XG4gICAgICBleHBlY3QoY29uc29sZVdhcm5TcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgLy8gVGVzdCBsb3cgZXJyb3JcbiAgICAgIGNvbnN0IGxvd0Vycm9yID0gY2xhc3NpZnlUcnlvbkVycm9yKG5ldyBFcnJvcignTG93JykpO1xuICAgICAgbG93RXJyb3Iuc2V2ZXJpdHkgPSBFcnJvclNldmVyaXR5LkxPVztcbiAgICAgIGxvZ2dlci5sb2dFcnJvcihsb3dFcnJvcik7XG4gICAgICBleHBlY3QoY29uc29sZUluZm9TcHkpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgY29uc29sZUVycm9yU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgICBjb25zb2xlV2FyblNweS5tb2NrUmVzdG9yZSgpO1xuICAgICAgY29uc29sZUluZm9TcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1V0aWxpdHkgRnVuY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IHVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBGaWxlVHlwZU5vdFN1cHBvcnRlZEVycm9yKCdJbnZhbGlkIHR5cGUnKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXRVc2VyRnJpZW5kbHlFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgICAgXG4gICAgICBleHBlY3QobWVzc2FnZSkudG9Db250YWluKCd2YWxpZCBpbWFnZSBmaWxlJyk7XG4gICAgICBleHBlY3QobWVzc2FnZSkubm90LnRvQ29udGFpbignSW52YWxpZCB0eXBlJyk7IC8vIFNob3VsZCBub3QgZXhwb3NlIHRlY2huaWNhbCBtZXNzYWdlXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRldGVybWluZSBpZiBlcnJvcnMgYXJlIHJldHJ5YWJsZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJldHJ5YWJsZUVycm9yID0gbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyk7XG4gICAgICBjb25zdCBub25SZXRyeWFibGVFcnJvciA9IG5ldyBGaWxlVHlwZU5vdFN1cHBvcnRlZEVycm9yKCdJbnZhbGlkIHR5cGUnKTtcblxuICAgICAgZXhwZWN0KGlzRXJyb3JSZXRyeWFibGUocmV0cnlhYmxlRXJyb3IpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGlzRXJyb3JSZXRyeWFibGUobm9uUmV0cnlhYmxlRXJyb3IpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHJlY292ZXJ5IGFjdGlvbnMgZm9yIGVycm9ycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEZpbGVUb29MYXJnZUVycm9yKCdUb28gbGFyZ2UnKTtcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBnZXRFcnJvclJlY292ZXJ5QWN0aW9ucyhlcnJvcik7XG5cbiAgICAgIGV4cGVjdChhY3Rpb25zKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoYWN0aW9uc1swXS50eXBlKS50b0JlKCdyZWR1Y2VfaW1hZ2Vfc2l6ZScpO1xuICAgICAgZXhwZWN0KGFjdGlvbnNbMV0udHlwZSkudG9CZSgndHJ5X2RpZmZlcmVudF9pbWFnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmb3JtYXQgZXJyb3JzIGZvciBkaXNwbGF5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ05ldHdvcmsgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGZvcm1hdEVycm9yRm9yRGlzcGxheShlcnJvcik7XG5cbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQudGl0bGUpLnRvQmUoJ0Nvbm5lY3Rpb24gSXNzdWUnKTtcbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQubWVzc2FnZSkudG9Db250YWluKCdOZXR3b3JrIGNvbm5lY3Rpb24nKTtcbiAgICAgIGV4cGVjdChmb3JtYXR0ZWQuY2FuUmV0cnkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZm9ybWF0dGVkLmFjdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWNvdmVyeSBBY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBhcHByb3ByaWF0ZSByZWNvdmVyeSBhY3Rpb25zIGZvciB2YWxpZGF0aW9uIGVycm9ycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEZpbGVUeXBlTm90U3VwcG9ydGVkRXJyb3IoJ0ludmFsaWQgdHlwZScpO1xuICAgICAgY29uc3QgY2xhc3NpZmllZCA9IGNsYXNzaWZ5VHJ5b25FcnJvcihlcnJvcik7XG5cbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLnJlY292ZXJ5QWN0aW9ucykudG9Db250YWluRXF1YWwoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB0eXBlOiAndHJ5X2RpZmZlcmVudF9pbWFnZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdKUEVHLCBQTkcsIFdlYlAsIG9yIEdJRicpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGF1dG9tYXRlZCByZWNvdmVyeSBhY3Rpb25zIGZvciBuZXR3b3JrIGVycm9ycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJyk7XG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yKTtcblxuICAgICAgY29uc3QgYXV0b21hdGVkQWN0aW9uID0gY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnMuZmluZChcbiAgICAgICAgYWN0aW9uID0+IGFjdGlvbi5hdXRvbWF0ZWQgPT09IHRydWVcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGV4cGVjdChhdXRvbWF0ZWRBY3Rpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoYXV0b21hdGVkQWN0aW9uPy50eXBlKS50b0JlKCdyZXRyeScpO1xuICAgICAgZXhwZWN0KGF1dG9tYXRlZEFjdGlvbj8ud2FpdFRpbWUpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgd2FpdCB0aW1lcyBmb3IgcmF0ZSBsaW1pdGluZycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yOiBUcnlvbk11dGF0aW9uRXJyb3IgPSB7IGVycm9yOiAnUmF0ZSBsaW1pdGVkJywgc3RhdHVzOiA0MjkgfTtcbiAgICAgIGNvbnN0IGNsYXNzaWZpZWQgPSBjbGFzc2lmeVRyeW9uRXJyb3IoZXJyb3IpO1xuXG4gICAgICBjb25zdCB3YWl0QWN0aW9uID0gY2xhc3NpZmllZC5yZWNvdmVyeUFjdGlvbnMuZmluZChcbiAgICAgICAgYWN0aW9uID0+IGFjdGlvbi50eXBlID09PSAnd2FpdF9hbmRfcmV0cnknXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qod2FpdEFjdGlvbikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh3YWl0QWN0aW9uPy53YWl0VGltZSkudG9CZSg2MCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250ZXh0IEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBjb250ZXh0IGluIGNsYXNzaWZpZWQgZXJyb3JzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7IFxuICAgICAgICB1c2VySWQ6ICcxMjMnLCBcbiAgICAgICAgaW1hZ2VDb3VudDogMixcbiAgICAgICAgdGltZXN0YW1wOiAnMjAyMy0wMS0wMVQwMDowMDowMFonXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKGVycm9yLCBjb250ZXh0KTtcblxuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQuY29udGV4dCkudG9FcXVhbChjb250ZXh0KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuZGVmaW5lZCBjb250ZXh0IGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuICAgICAgY29uc3QgY2xhc3NpZmllZCA9IGNsYXNzaWZ5VHJ5b25FcnJvcihlcnJvcik7XG5cbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmNvbnRleHQpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLm9yaWdpbmFsRXJyb3IpLnRvQmUoZXJyb3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgQ2hhaW5pbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBvcmlnaW5hbCBlcnJvciBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSBuZXcgRXJyb3IoJ09yaWdpbmFsIG1lc3NhZ2UnKTtcbiAgICAgIG9yaWdpbmFsRXJyb3Iuc3RhY2sgPSAnT3JpZ2luYWwgc3RhY2sgdHJhY2UnO1xuICAgICAgXG4gICAgICBjb25zdCBjbGFzc2lmaWVkID0gY2xhc3NpZnlUcnlvbkVycm9yKG9yaWdpbmFsRXJyb3IpO1xuXG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5vcmlnaW5hbEVycm9yKS50b0JlKG9yaWdpbmFsRXJyb3IpO1xuICAgICAgZXhwZWN0KGNsYXNzaWZpZWQudGVjaG5pY2FsTWVzc2FnZSkudG9Db250YWluKCdPcmlnaW5hbCBtZXNzYWdlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBub24tRXJyb3Igb2JqZWN0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yT2JqZWN0ID0geyBtZXNzYWdlOiAnQ3VzdG9tIGVycm9yJywgY29kZTogJ0NVU1RPTScgfTtcbiAgICAgIGNvbnN0IGNsYXNzaWZpZWQgPSBjbGFzc2lmeVRyeW9uRXJyb3IoZXJyb3JPYmplY3QpO1xuXG4gICAgICBleHBlY3QoY2xhc3NpZmllZC5vcmlnaW5hbEVycm9yKS50b0JlKGVycm9yT2JqZWN0KTtcbiAgICAgIGV4cGVjdChjbGFzc2lmaWVkLmNhdGVnb3J5KS50b0JlKEVycm9yQ2F0ZWdvcnkuVU5LTk9XTik7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwibW9ja0xvZ2dlciIsImJlZm9yZUVhY2giLCJsb2dFcnJvciIsImplc3QiLCJmbiIsInNldEVycm9yTG9nZ2VyIiwiaXQiLCJlcnJvciIsIkZpbGVUeXBlTm90U3VwcG9ydGVkRXJyb3IiLCJjbGFzc2lmaWVkIiwiY2xhc3NpZnlUcnlvbkVycm9yIiwiZXhwZWN0IiwiY2F0ZWdvcnkiLCJ0b0JlIiwiRXJyb3JDYXRlZ29yeSIsIlZBTElEQVRJT04iLCJzZXZlcml0eSIsIkVycm9yU2V2ZXJpdHkiLCJMT1ciLCJlcnJvckNvZGUiLCJyZXRyeWFibGUiLCJ1c2VyTWVzc2FnZSIsInRvQ29udGFpbiIsInJlY292ZXJ5QWN0aW9ucyIsInRvSGF2ZUxlbmd0aCIsInR5cGUiLCJGaWxlVG9vTGFyZ2VFcnJvciIsIk1FRElVTSIsIkltYWdlRGltZW5zaW9uRXJyb3IiLCJJbWFnZVByb2Nlc3NpbmdFcnJvciIsIklNQUdFX1BST0NFU1NJTkciLCJDb21wcmVzc2lvbkZhaWxlZEVycm9yIiwic3RhdHVzIiwiUkFURV9MSU1JVCIsIndhaXRUaW1lIiwiQVBJX1NFUlZFUiIsIkhJR0giLCJFcnJvciIsIlRJTUVPVVQiLCJ0b0NvbnRhaW5FcXVhbCIsIm9iamVjdENvbnRhaW5pbmciLCJORVRXT1JLIiwiVU5LTk9XTiIsImNvbnRleHQiLCJ0ZXN0IiwibG9nQW5kQ2xhc3NpZnlFcnJvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiY29uc29sZUVycm9yU3B5Iiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiY29uc29sZVdhcm5TcHkiLCJjb25zb2xlSW5mb1NweSIsImxvZ2dlciIsIkNvbnNvbGVFcnJvckxvZ2dlciIsImNyaXRpY2FsRXJyb3IiLCJDUklUSUNBTCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJtZWRpdW1FcnJvciIsImxvd0Vycm9yIiwibW9ja1Jlc3RvcmUiLCJtZXNzYWdlIiwiZ2V0VXNlckZyaWVuZGx5RXJyb3JNZXNzYWdlIiwibm90IiwicmV0cnlhYmxlRXJyb3IiLCJub25SZXRyeWFibGVFcnJvciIsImlzRXJyb3JSZXRyeWFibGUiLCJhY3Rpb25zIiwiZ2V0RXJyb3JSZWNvdmVyeUFjdGlvbnMiLCJmb3JtYXR0ZWQiLCJmb3JtYXRFcnJvckZvckRpc3BsYXkiLCJ0aXRsZSIsImNhblJldHJ5IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZGVzY3JpcHRpb24iLCJzdHJpbmdDb250YWluaW5nIiwiYXV0b21hdGVkQWN0aW9uIiwiZmluZCIsImFjdGlvbiIsImF1dG9tYXRlZCIsInRvQmVEZWZpbmVkIiwid2FpdEFjdGlvbiIsInVzZXJJZCIsImltYWdlQ291bnQiLCJ0aW1lc3RhbXAiLCJ0b0VxdWFsIiwidG9CZVVuZGVmaW5lZCIsIm9yaWdpbmFsRXJyb3IiLCJzdGFjayIsInRlY2huaWNhbE1lc3NhZ2UiLCJlcnJvck9iamVjdCIsImNvZGUiXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDOzs7O3VCQUtNO2lDQUlBOytCQWNBO0FBR1BBLFNBQVMseUJBQXlCO0lBQ2hDLElBQUlDO0lBRUpDLFdBQVc7UUFDVEQsYUFBYTtZQUNYRSxVQUFVQyxLQUFLQyxFQUFFO1FBQ25CO1FBQ0FDLElBQUFBLDZC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