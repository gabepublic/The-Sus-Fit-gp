2c545dbd3909e1fe769c7261aaca4e21
// Test Utilities for Optimistic Updates and Cache Management
// Common utilities and mocks for testing optimistic updates functionality
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    assertOptimisticUpdateCompleted: function() {
        return assertOptimisticUpdateCompleted;
    },
    assertOptimisticUpdateCreated: function() {
        return assertOptimisticUpdateCreated;
    },
    assertOptimisticUpdateRolledBack: function() {
        return assertOptimisticUpdateRolledBack;
    },
    createMockFetchResponse: function() {
        return createMockFetchResponse;
    },
    createMockHistoryEntries: function() {
        return createMockHistoryEntries;
    },
    createQueryClientWrapper: function() {
        return createQueryClientWrapper;
    },
    createTestQueryClient: function() {
        return createTestQueryClient;
    },
    mockConsole: function() {
        return mockConsole;
    },
    mockTryonAPI: function() {
        return mockTryonAPI;
    },
    mockTryonContext: function() {
        return mockTryonContext;
    },
    mockTryonError: function() {
        return mockTryonError;
    },
    mockTryonResponse: function() {
        return mockTryonResponse;
    },
    mockTryonVariables: function() {
        return mockTryonVariables;
    },
    renderHookWithQueryClient: function() {
        return renderHookWithQueryClient;
    },
    wait: function() {
        return wait;
    },
    waitForPromises: function() {
        return waitForPromises;
    }
});
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _reactquery = require("@tanstack/react-query");
const _react1 = require("@testing-library/react");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function createTestQueryClient(options) {
    return new _reactquery.QueryClient({
        defaultOptions: {
            queries: {
                retry: false,
                gcTime: 0,
                staleTime: 0,
                ...options?.defaultOptions?.queries
            },
            mutations: {
                retry: false,
                ...options?.defaultOptions?.mutations
            }
        },
        logger: {
            log: ()=>{},
            warn: ()=>{},
            error: ()=>{}
        }
    });
}
function createQueryClientWrapper(queryClient) {
    const client = queryClient || createTestQueryClient();
    return ({ children })=>_react.default.createElement(_reactquery.QueryClientProvider, {
            client
        }, children);
}
function renderHookWithQueryClient(hook, queryClient) {
    const wrapper = createQueryClientWrapper(queryClient);
    return (0, _react1.renderHook)(hook, {
        wrapper
    });
}
const mockTryonVariables = {
    modelImage: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/mock-model-image',
    apparelImages: [
        'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/mock-apparel-1',
        'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/mock-apparel-2'
    ],
    options: {
        quality: 'high',
        timeout: 10000,
        enableOptimisticUpdates: true,
        metadata: {
            testMode: true,
            timestamp: '2024-01-15T10:30:00Z'
        },
        imageProcessing: {
            targetWidth: 1024,
            targetHeight: 1536,
            maxSizeKB: 1024,
            compressionQuality: 0.9,
            preserveAspectRatio: false
        }
    }
};
const mockTryonResponse = {
    img_generated: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/mock-generated-result',
    metadata: {
        processingTime: 5234,
        modelVersion: 'v2.1.0',
        appliedQuality: 'high',
        timestamp: '2024-01-15T10:30:05Z',
        processingInfo: {
            stepsCompleted: [
                'image-processing',
                'ai-generation',
                'post-processing'
            ],
            totalSteps: 3,
            gpuUsage: 0.85,
            memoryUsage: 0.67
        }
    }
};
const mockTryonContext = {
    variables: mockTryonVariables,
    startTime: Date.now() - 5234,
    retryCount: 0,
    optimisticId: 'test-optimistic-12345',
    imageProcessingResults: {
        modelImageResult: {
            originalSize: 2048576,
            processedSize: 1048576,
            compressionRatio: 0.5,
            processingTime: 123,
            processedImage: mockTryonVariables.modelImage,
            metadata: {
                originalDimensions: {
                    width: 1920,
                    height: 1080
                },
                processedDimensions: {
                    width: 1024,
                    height: 1536
                },
                format: 'jpeg',
                quality: 0.9
            }
        },
        apparelImageResults: [
            {
                originalSize: 1536000,
                processedSize: 768000,
                compressionRatio: 0.5,
                processingTime: 89,
                processedImage: mockTryonVariables.apparelImages[0],
                metadata: {
                    originalDimensions: {
                        width: 1200,
                        height: 800
                    },
                    processedDimensions: {
                        width: 1024,
                        height: 1536
                    },
                    format: 'jpeg',
                    quality: 0.9
                }
            }
        ],
        totalProcessingTime: 212
    }
};
const mockTryonError = {
    error: 'Processing failed: Invalid image format',
    details: 'The provided model image is not in a supported format. Please use JPEG, PNG, or WebP.',
    code: 'INVALID_IMAGE_FORMAT',
    status: 400,
    retryable: false,
    category: 'VALIDATION_ERROR',
    severity: 'HIGH',
    recoveryActions: [
        {
            type: 'USER_ACTION',
            description: 'Convert image to a supported format',
            actionData: {
                supportedFormats: [
                    'jpeg',
                    'png',
                    'webp'
                ]
            }
        }
    ]
};
function createMockFetchResponse(data, status = 200, ok = true) {
    return {
        ok,
        status,
        json: jest.fn().mockResolvedValue(data),
        text: jest.fn().mockResolvedValue(JSON.stringify(data)),
        headers: new Headers(),
        redirected: false,
        statusText: ok ? 'OK' : 'Error',
        type: 'basic',
        url: 'http://localhost:3000/api/tryon',
        body: null,
        bodyUsed: false,
        clone: jest.fn(),
        arrayBuffer: jest.fn(),
        blob: jest.fn(),
        formData: jest.fn()
    };
}
function mockTryonAPI(response, error, delay = 0) {
    const mockResponse = response || mockTryonResponse;
    const mockError = error;
    return jest.spyOn(global, 'fetch').mockImplementation((url)=>{
        const urlString = typeof url === 'string' ? url : url.toString();
        if (urlString.includes('/api/tryon')) {
            return new Promise((resolve, reject)=>{
                setTimeout(()=>{
                    if (mockError) {
                        // Handle basic Error objects by converting them to TryonMutationError format
                        let errorResponse;
                        if (mockError instanceof Error && !('status' in mockError)) {
                            // Convert basic Error to TryonMutationError format
                            errorResponse = {
                                error: 'An error occurred',
                                details: mockError.message,
                                code: 'UNKNOWN_ERROR',
                                status: 400,
                                retryable: false,
                                category: 'NETWORK_ERROR',
                                severity: 'MEDIUM',
                                recoveryActions: []
                            };
                        } else {
                            // Use the error as-is if it's already in TryonMutationError format
                            errorResponse = mockError;
                        }
                        const mockResponse = createMockFetchResponse(errorResponse, errorResponse.status || 500, false);
                        resolve(mockResponse);
                    } else {
                        resolve(createMockFetchResponse(mockResponse));
                    }
                }, delay);
            });
        }
        return Promise.reject(new Error(`Unmocked fetch call to ${urlString}`));
    });
}
function waitForPromises() {
    return new Promise((resolve)=>setTimeout(resolve, 0));
}
function wait(ms) {
    return new Promise((resolve)=>setTimeout(resolve, ms));
}
function createMockHistoryEntries(count = 5) {
    return Array.from({
        length: count
    }, (_, index)=>({
            id: `history-entry-${index}`,
            timestamp: new Date(Date.now() - index * 60000).toISOString(),
            generatedImage: `data:image/jpeg;base64,mock-generated-${index}`,
            modelImage: `data:image/jpeg;base64,mock-model-${index}`,
            apparelImages: [
                `data:image/jpeg;base64,mock-apparel-${index}`
            ],
            processingTime: 3000 + Math.random() * 2000,
            metadata: {
                modelVersion: 'v2.1.0',
                appliedQuality: 'high',
                processingConfig: {
                    imageProcessing: mockTryonVariables.options?.imageProcessing,
                    requestOptions: {
                        timeout: 10000,
                        quality: 'high'
                    }
                }
            },
            tags: index % 2 === 0 ? [
                'casual'
            ] : [
                'formal'
            ],
            notes: `Test entry ${index}`,
            isFavorite: index % 3 === 0
        }));
}
function assertOptimisticUpdateCreated(queryClient, optimisticId, config = {}) {
    const { expectHistory = true, expectProgress = true, expectResult = true } = config;
    if (expectHistory) {
        const historyData = queryClient.getQueryData([
            'tryon-history',
            'entries'
        ]);
        expect(historyData).toBeDefined();
        expect(historyData.entries).toContainEqual(expect.objectContaining({
            id: expect.stringContaining('optimistic_history'),
            tags: expect.arrayContaining([
                'processing',
                'optimistic'
            ])
        }));
    }
    if (expectProgress) {
        const progressData = queryClient.getQueryData([
            'tryon-progress',
            optimisticId
        ]);
        expect(progressData).toBeDefined();
        expect(progressData).toMatchObject({
            id: optimisticId,
            status: 'processing',
            progress: expect.any(Number),
            stage: expect.any(String)
        });
    }
    if (expectResult) {
        const resultData = queryClient.getQueryData([
            'tryon-result',
            optimisticId
        ]);
        expect(resultData).toBeDefined();
        expect(resultData).toMatchObject({
            id: optimisticId,
            status: 'pending',
            variables: expect.any(Object)
        });
    }
}
function assertOptimisticUpdateCompleted(queryClient, optimisticId, expectedResult) {
    // Check history was updated
    const historyData = queryClient.getQueryData([
        'tryon-history',
        'entries'
    ]);
    expect(historyData).toBeDefined();
    const entry = historyData.entries.find((e)=>!e.id.includes('optimistic_history'));
    expect(entry).toBeDefined();
    expect(entry.generatedImage).toBe(expectedResult.img_generated);
    expect(entry.tags).not.toContain('processing');
    expect(entry.tags).not.toContain('optimistic');
    // Check progress was completed
    const progressData = queryClient.getQueryData([
        'tryon-progress',
        optimisticId
    ]);
    expect(progressData).toMatchObject({
        id: optimisticId,
        status: 'completed',
        progress: 100,
        stage: 'completed'
    });
    // Check result was cached
    const resultData = queryClient.getQueryData([
        'tryon-result',
        optimisticId
    ]);
    expect(resultData).toMatchObject({
        id: optimisticId,
        status: 'completed',
        result: expectedResult
    });
}
function assertOptimisticUpdateRolledBack(queryClient, optimisticId, expectedError) {
    // Check history entry was removed
    const historyData = queryClient.getQueryData([
        'tryon-history',
        'entries'
    ]);
    expect(historyData).toBeDefined();
    const optimisticEntry = historyData.entries.find((e)=>e.id.includes('optimistic_history'));
    expect(optimisticEntry).toBeUndefined();
    // Check progress shows error state
    const progressData = queryClient.getQueryData([
        'tryon-progress',
        optimisticId
    ]);
    expect(progressData).toMatchObject({
        id: optimisticId,
        status: 'error',
        progress: 0,
        stage: 'error'
    });
    if (expectedError) {
        expect(progressData.error).toBe(expectedError);
    }
}
function mockConsole() {
    const originalConsole = {
        ...console
    };
    const consoleMocks = {
        log: jest.spyOn(console, 'log').mockImplementation(),
        warn: jest.spyOn(console, 'warn').mockImplementation(),
        error: jest.spyOn(console, 'error').mockImplementation(),
        info: jest.spyOn(console, 'info').mockImplementation()
    };
    return {
        mocks: consoleMocks,
        restore: ()=>{
            Object.assign(console, originalConsole);
        }
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aWxsc3RyZWV0ZXIvV2Vic3Rvcm1Qcm9qZWN0cy92aWJlLWNvZGluZy90aG9zZS1wZW9wbGUvVGhlLVN1cy1GaXQtZ3Avc3JjL2J1c2luZXNzLWxheWVyL3Rlc3RzL3Rlc3RVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUZXN0IFV0aWxpdGllcyBmb3IgT3B0aW1pc3RpYyBVcGRhdGVzIGFuZCBDYWNoZSBNYW5hZ2VtZW50XG4vLyBDb21tb24gdXRpbGl0aWVzIGFuZCBtb2NrcyBmb3IgdGVzdGluZyBvcHRpbWlzdGljIHVwZGF0ZXMgZnVuY3Rpb25hbGl0eVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUXVlcnlDbGllbnQsIFF1ZXJ5Q2xpZW50UHJvdmlkZXIgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgcmVuZGVySG9vayB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBcbiAgVHJ5b25NdXRhdGlvblZhcmlhYmxlcyxcbiAgVHJ5b25NdXRhdGlvblJlc3BvbnNlLFxuICBUcnlvbk11dGF0aW9uQ29udGV4dCxcbiAgVHJ5b25NdXRhdGlvbkVycm9yXG59IGZyb20gJy4uL3R5cGVzL3RyeW9uLnR5cGVzJztcblxuLyoqXG4gKiBDcmVhdGUgYSB0ZXN0IHF1ZXJ5IGNsaWVudCB3aXRoIGFwcHJvcHJpYXRlIHNldHRpbmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZXN0UXVlcnlDbGllbnQob3B0aW9ucz86IHtcbiAgZGVmYXVsdE9wdGlvbnM/OiB7XG4gICAgcXVlcmllcz86IGFueTtcbiAgICBtdXRhdGlvbnM/OiBhbnk7XG4gIH07XG59KTogUXVlcnlDbGllbnQge1xuICByZXR1cm4gbmV3IFF1ZXJ5Q2xpZW50KHtcbiAgICBkZWZhdWx0T3B0aW9uczoge1xuICAgICAgcXVlcmllczoge1xuICAgICAgICByZXRyeTogZmFsc2UsXG4gICAgICAgIGdjVGltZTogMCxcbiAgICAgICAgc3RhbGVUaW1lOiAwLFxuICAgICAgICAuLi5vcHRpb25zPy5kZWZhdWx0T3B0aW9ucz8ucXVlcmllc1xuICAgICAgfSxcbiAgICAgIG11dGF0aW9uczoge1xuICAgICAgICByZXRyeTogZmFsc2UsXG4gICAgICAgIC4uLm9wdGlvbnM/LmRlZmF1bHRPcHRpb25zPy5tdXRhdGlvbnNcbiAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2dlcjoge1xuICAgICAgbG9nOiAoKSA9PiB7fSxcbiAgICAgIHdhcm46ICgpID0+IHt9LFxuICAgICAgZXJyb3I6ICgpID0+IHt9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSB3cmFwcGVyIGNvbXBvbmVudCB3aXRoIFF1ZXJ5Q2xpZW50IGZvciBob29rIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVF1ZXJ5Q2xpZW50V3JhcHBlcihxdWVyeUNsaWVudD86IFF1ZXJ5Q2xpZW50KSB7XG4gIGNvbnN0IGNsaWVudCA9IHF1ZXJ5Q2xpZW50IHx8IGNyZWF0ZVRlc3RRdWVyeUNsaWVudCgpO1xuICBcbiAgcmV0dXJuICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiAoXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChRdWVyeUNsaWVudFByb3ZpZGVyLCB7IGNsaWVudCB9LCBjaGlsZHJlbilcbiAgKTtcbn1cblxuLyoqXG4gKiBSZW5kZXIgaG9vayB3aXRoIHF1ZXJ5IGNsaWVudCB3cmFwcGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJIb29rV2l0aFF1ZXJ5Q2xpZW50PFQ+KFxuICBob29rOiAoKSA9PiBULFxuICBxdWVyeUNsaWVudD86IFF1ZXJ5Q2xpZW50XG4pIHtcbiAgY29uc3Qgd3JhcHBlciA9IGNyZWF0ZVF1ZXJ5Q2xpZW50V3JhcHBlcihxdWVyeUNsaWVudCk7XG4gIHJldHVybiByZW5kZXJIb29rKGhvb2ssIHsgd3JhcHBlciB9KTtcbn1cblxuLyoqXG4gKiBNb2NrIHRyeS1vbiBtdXRhdGlvbiB2YXJpYWJsZXNcbiAqL1xuZXhwb3J0IGNvbnN0IG1vY2tUcnlvblZhcmlhYmxlczogVHJ5b25NdXRhdGlvblZhcmlhYmxlcyA9IHtcbiAgbW9kZWxJbWFnZTogJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRQUFBUUFCQUFEL21vY2stbW9kZWwtaW1hZ2UnLFxuICBhcHBhcmVsSW1hZ2VzOiBbXG4gICAgJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRQUFBUUFCQUFEL21vY2stYXBwYXJlbC0xJyxcbiAgICAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFBQUFRQUJBQUQvbW9jay1hcHBhcmVsLTInXG4gIF0sXG4gIG9wdGlvbnM6IHtcbiAgICBxdWFsaXR5OiAnaGlnaCcsXG4gICAgdGltZW91dDogMTAwMDAsXG4gICAgZW5hYmxlT3B0aW1pc3RpY1VwZGF0ZXM6IHRydWUsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIHRlc3RNb2RlOiB0cnVlLFxuICAgICAgdGltZXN0YW1wOiAnMjAyNC0wMS0xNVQxMDozMDowMFonXG4gICAgfSxcbiAgICBpbWFnZVByb2Nlc3Npbmc6IHtcbiAgICAgIHRhcmdldFdpZHRoOiAxMDI0LFxuICAgICAgdGFyZ2V0SGVpZ2h0OiAxNTM2LFxuICAgICAgbWF4U2l6ZUtCOiAxMDI0LFxuICAgICAgY29tcHJlc3Npb25RdWFsaXR5OiAwLjksXG4gICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBmYWxzZVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBNb2NrIHRyeS1vbiBtdXRhdGlvbiByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgbW9ja1RyeW9uUmVzcG9uc2U6IFRyeW9uTXV0YXRpb25SZXNwb25zZSA9IHtcbiAgaW1nX2dlbmVyYXRlZDogJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRQUFBUUFCQUFEL21vY2stZ2VuZXJhdGVkLXJlc3VsdCcsXG4gIG1ldGFkYXRhOiB7XG4gICAgcHJvY2Vzc2luZ1RpbWU6IDUyMzQsXG4gICAgbW9kZWxWZXJzaW9uOiAndjIuMS4wJyxcbiAgICBhcHBsaWVkUXVhbGl0eTogJ2hpZ2gnLFxuICAgIHRpbWVzdGFtcDogJzIwMjQtMDEtMTVUMTA6MzA6MDVaJyxcbiAgICBwcm9jZXNzaW5nSW5mbzoge1xuICAgICAgc3RlcHNDb21wbGV0ZWQ6IFsnaW1hZ2UtcHJvY2Vzc2luZycsICdhaS1nZW5lcmF0aW9uJywgJ3Bvc3QtcHJvY2Vzc2luZyddLFxuICAgICAgdG90YWxTdGVwczogMyxcbiAgICAgIGdwdVVzYWdlOiAwLjg1LFxuICAgICAgbWVtb3J5VXNhZ2U6IDAuNjdcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogTW9jayB0cnktb24gbXV0YXRpb24gY29udGV4dFxuICovXG5leHBvcnQgY29uc3QgbW9ja1RyeW9uQ29udGV4dDogVHJ5b25NdXRhdGlvbkNvbnRleHQgPSB7XG4gIHZhcmlhYmxlczogbW9ja1RyeW9uVmFyaWFibGVzLFxuICBzdGFydFRpbWU6IERhdGUubm93KCkgLSA1MjM0LFxuICByZXRyeUNvdW50OiAwLFxuICBvcHRpbWlzdGljSWQ6ICd0ZXN0LW9wdGltaXN0aWMtMTIzNDUnLFxuICBpbWFnZVByb2Nlc3NpbmdSZXN1bHRzOiB7XG4gICAgbW9kZWxJbWFnZVJlc3VsdDoge1xuICAgICAgb3JpZ2luYWxTaXplOiAyMDQ4NTc2LCAvLyAyTUJcbiAgICAgIHByb2Nlc3NlZFNpemU6IDEwNDg1NzYsIC8vIDFNQlxuICAgICAgY29tcHJlc3Npb25SYXRpbzogMC41LFxuICAgICAgcHJvY2Vzc2luZ1RpbWU6IDEyMyxcbiAgICAgIHByb2Nlc3NlZEltYWdlOiBtb2NrVHJ5b25WYXJpYWJsZXMubW9kZWxJbWFnZSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIG9yaWdpbmFsRGltZW5zaW9uczogeyB3aWR0aDogMTkyMCwgaGVpZ2h0OiAxMDgwIH0sXG4gICAgICAgIHByb2Nlc3NlZERpbWVuc2lvbnM6IHsgd2lkdGg6IDEwMjQsIGhlaWdodDogMTUzNiB9LFxuICAgICAgICBmb3JtYXQ6ICdqcGVnJyxcbiAgICAgICAgcXVhbGl0eTogMC45XG4gICAgICB9XG4gICAgfSxcbiAgICBhcHBhcmVsSW1hZ2VSZXN1bHRzOiBbXG4gICAgICB7XG4gICAgICAgIG9yaWdpbmFsU2l6ZTogMTUzNjAwMCxcbiAgICAgICAgcHJvY2Vzc2VkU2l6ZTogNzY4MDAwLFxuICAgICAgICBjb21wcmVzc2lvblJhdGlvOiAwLjUsXG4gICAgICAgIHByb2Nlc3NpbmdUaW1lOiA4OSxcbiAgICAgICAgcHJvY2Vzc2VkSW1hZ2U6IG1vY2tUcnlvblZhcmlhYmxlcy5hcHBhcmVsSW1hZ2VzWzBdLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIG9yaWdpbmFsRGltZW5zaW9uczogeyB3aWR0aDogMTIwMCwgaGVpZ2h0OiA4MDAgfSxcbiAgICAgICAgICBwcm9jZXNzZWREaW1lbnNpb25zOiB7IHdpZHRoOiAxMDI0LCBoZWlnaHQ6IDE1MzYgfSxcbiAgICAgICAgICBmb3JtYXQ6ICdqcGVnJyxcbiAgICAgICAgICBxdWFsaXR5OiAwLjlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0sXG4gICAgdG90YWxQcm9jZXNzaW5nVGltZTogMjEyXG4gIH1cbn07XG5cbi8qKlxuICogTW9jayB0cnktb24gbXV0YXRpb24gZXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IG1vY2tUcnlvbkVycm9yOiBUcnlvbk11dGF0aW9uRXJyb3IgPSB7XG4gIGVycm9yOiAnUHJvY2Vzc2luZyBmYWlsZWQ6IEludmFsaWQgaW1hZ2UgZm9ybWF0JyxcbiAgZGV0YWlsczogJ1RoZSBwcm92aWRlZCBtb2RlbCBpbWFnZSBpcyBub3QgaW4gYSBzdXBwb3J0ZWQgZm9ybWF0LiBQbGVhc2UgdXNlIEpQRUcsIFBORywgb3IgV2ViUC4nLFxuICBjb2RlOiAnSU5WQUxJRF9JTUFHRV9GT1JNQVQnLFxuICBzdGF0dXM6IDQwMCxcbiAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgY2F0ZWdvcnk6ICdWQUxJREFUSU9OX0VSUk9SJyBhcyBhbnksXG4gIHNldmVyaXR5OiAnSElHSCcgYXMgYW55LFxuICByZWNvdmVyeUFjdGlvbnM6IFtcbiAgICB7XG4gICAgICB0eXBlOiAnVVNFUl9BQ1RJT04nIGFzIGFueSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQ29udmVydCBpbWFnZSB0byBhIHN1cHBvcnRlZCBmb3JtYXQnLFxuICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICBzdXBwb3J0ZWRGb3JtYXRzOiBbJ2pwZWcnLCAncG5nJywgJ3dlYnAnXVxuICAgICAgfVxuICAgIH1cbiAgXVxufTtcblxuLyoqXG4gKiBDcmVhdGUgbW9jayBmZXRjaCByZXNwb25zZSBmb3IgQVBJIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vY2tGZXRjaFJlc3BvbnNlKFxuICBkYXRhOiBhbnksXG4gIHN0YXR1cyA9IDIwMCxcbiAgb2sgPSB0cnVlXG4pOiBSZXNwb25zZSB7XG4gIHJldHVybiB7XG4gICAgb2ssXG4gICAgc3RhdHVzLFxuICAgIGpzb246IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShkYXRhKSxcbiAgICB0ZXh0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpLFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKCksXG4gICAgcmVkaXJlY3RlZDogZmFsc2UsXG4gICAgc3RhdHVzVGV4dDogb2sgPyAnT0snIDogJ0Vycm9yJyxcbiAgICB0eXBlOiAnYmFzaWMnLFxuICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdHJ5b24nLFxuICAgIGJvZHk6IG51bGwsXG4gICAgYm9keVVzZWQ6IGZhbHNlLFxuICAgIGNsb25lOiBqZXN0LmZuKCksXG4gICAgYXJyYXlCdWZmZXI6IGplc3QuZm4oKSxcbiAgICBibG9iOiBqZXN0LmZuKCksXG4gICAgZm9ybURhdGE6IGplc3QuZm4oKVxuICB9IGFzIHVua25vd24gYXMgUmVzcG9uc2U7XG59XG5cbi8qKlxuICogTW9jayB0aGUgdHJ5LW9uIEFQSSBlbmRwb2ludFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9ja1RyeW9uQVBJKFxuICByZXNwb25zZT86IFRyeW9uTXV0YXRpb25SZXNwb25zZSxcbiAgZXJyb3I/OiBUcnlvbk11dGF0aW9uRXJyb3IgfCBFcnJvcixcbiAgZGVsYXkgPSAwXG4pOiBqZXN0LlNweUluc3RhbmNlIHtcbiAgY29uc3QgbW9ja1Jlc3BvbnNlID0gcmVzcG9uc2UgfHwgbW9ja1RyeW9uUmVzcG9uc2U7XG4gIGNvbnN0IG1vY2tFcnJvciA9IGVycm9yO1xuXG4gIHJldHVybiBqZXN0LnNweU9uKGdsb2JhbCwgJ2ZldGNoJykubW9ja0ltcGxlbWVudGF0aW9uKFxuICAgICh1cmw6IHN0cmluZyB8IFVSTCB8IFJlcXVlc3QpID0+IHtcbiAgICAgIGNvbnN0IHVybFN0cmluZyA9IHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnID8gdXJsIDogdXJsLnRvU3RyaW5nKCk7XG4gICAgICBcbiAgICAgIGlmICh1cmxTdHJpbmcuaW5jbHVkZXMoJy9hcGkvdHJ5b24nKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1vY2tFcnJvcikge1xuICAgICAgICAgICAgICAvLyBIYW5kbGUgYmFzaWMgRXJyb3Igb2JqZWN0cyBieSBjb252ZXJ0aW5nIHRoZW0gdG8gVHJ5b25NdXRhdGlvbkVycm9yIGZvcm1hdFxuICAgICAgICAgICAgICBsZXQgZXJyb3JSZXNwb25zZTtcbiAgICAgICAgICAgICAgaWYgKG1vY2tFcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoJ3N0YXR1cycgaW4gbW9ja0Vycm9yKSkge1xuICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgYmFzaWMgRXJyb3IgdG8gVHJ5b25NdXRhdGlvbkVycm9yIGZvcm1hdFxuICAgICAgICAgICAgICAgIGVycm9yUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgICAgICAgICAgIGRldGFpbHM6IG1vY2tFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgICAgICAgICAgICByZXRyeWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdORVRXT1JLX0VSUk9SJyBhcyBhbnksXG4gICAgICAgICAgICAgICAgICBzZXZlcml0eTogJ01FRElVTScgYXMgYW55LFxuICAgICAgICAgICAgICAgICAgcmVjb3ZlcnlBY3Rpb25zOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBlcnJvciBhcy1pcyBpZiBpdCdzIGFscmVhZHkgaW4gVHJ5b25NdXRhdGlvbkVycm9yIGZvcm1hdFxuICAgICAgICAgICAgICAgIGVycm9yUmVzcG9uc2UgPSBtb2NrRXJyb3IgYXMgVHJ5b25NdXRhdGlvbkVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IGNyZWF0ZU1vY2tGZXRjaFJlc3BvbnNlKGVycm9yUmVzcG9uc2UsIGVycm9yUmVzcG9uc2Uuc3RhdHVzIHx8IDUwMCwgZmFsc2UpO1xuICAgICAgICAgICAgICByZXNvbHZlKG1vY2tSZXNwb25zZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKGNyZWF0ZU1vY2tGZXRjaFJlc3BvbnNlKG1vY2tSZXNwb25zZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYFVubW9ja2VkIGZldGNoIGNhbGwgdG8gJHt1cmxTdHJpbmd9YCkpO1xuICAgIH1cbiAgKTtcbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbGwgcGVuZGluZyBwcm9taXNlcyB0byByZXNvbHZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yUHJvbWlzZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xufVxuXG4vKipcbiAqIFdhaXQgZm9yIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRpbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXQobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIG1vY2sgaGlzdG9yeSBlbnRyaWVzIGZvciB0ZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2NrSGlzdG9yeUVudHJpZXMoY291bnQgPSA1KSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb3VudCB9LCAoXywgaW5kZXgpID0+ICh7XG4gICAgaWQ6IGBoaXN0b3J5LWVudHJ5LSR7aW5kZXh9YCxcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKERhdGUubm93KCkgLSBpbmRleCAqIDYwMDAwKS50b0lTT1N0cmluZygpLFxuICAgIGdlbmVyYXRlZEltYWdlOiBgZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxtb2NrLWdlbmVyYXRlZC0ke2luZGV4fWAsXG4gICAgbW9kZWxJbWFnZTogYGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsbW9jay1tb2RlbC0ke2luZGV4fWAsXG4gICAgYXBwYXJlbEltYWdlczogW2BkYXRhOmltYWdlL2pwZWc7YmFzZTY0LG1vY2stYXBwYXJlbC0ke2luZGV4fWBdLFxuICAgIHByb2Nlc3NpbmdUaW1lOiAzMDAwICsgTWF0aC5yYW5kb20oKSAqIDIwMDAsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIG1vZGVsVmVyc2lvbjogJ3YyLjEuMCcsXG4gICAgICBhcHBsaWVkUXVhbGl0eTogJ2hpZ2gnLFxuICAgICAgcHJvY2Vzc2luZ0NvbmZpZzoge1xuICAgICAgICBpbWFnZVByb2Nlc3Npbmc6IG1vY2tUcnlvblZhcmlhYmxlcy5vcHRpb25zPy5pbWFnZVByb2Nlc3NpbmcsXG4gICAgICAgIHJlcXVlc3RPcHRpb25zOiB7XG4gICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgcXVhbGl0eTogJ2hpZ2gnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHRhZ3M6IGluZGV4ICUgMiA9PT0gMCA/IFsnY2FzdWFsJ10gOiBbJ2Zvcm1hbCddLFxuICAgIG5vdGVzOiBgVGVzdCBlbnRyeSAke2luZGV4fWAsXG4gICAgaXNGYXZvcml0ZTogaW5kZXggJSAzID09PSAwXG4gIH0pKTtcbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCBvcHRpbWlzdGljIHVwZGF0ZSB3YXMgY3JlYXRlZCBjb3JyZWN0bHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE9wdGltaXN0aWNVcGRhdGVDcmVhdGVkKFxuICBxdWVyeUNsaWVudDogUXVlcnlDbGllbnQsXG4gIG9wdGltaXN0aWNJZDogc3RyaW5nLFxuICBjb25maWc6IHtcbiAgICBleHBlY3RIaXN0b3J5PzogYm9vbGVhbjtcbiAgICBleHBlY3RQcm9ncmVzcz86IGJvb2xlYW47XG4gICAgZXhwZWN0UmVzdWx0PzogYm9vbGVhbjtcbiAgfSA9IHt9XG4pIHtcbiAgY29uc3QgeyBleHBlY3RIaXN0b3J5ID0gdHJ1ZSwgZXhwZWN0UHJvZ3Jlc3MgPSB0cnVlLCBleHBlY3RSZXN1bHQgPSB0cnVlIH0gPSBjb25maWc7XG5cbiAgaWYgKGV4cGVjdEhpc3RvcnkpIHtcbiAgICBjb25zdCBoaXN0b3J5RGF0YSA9IHF1ZXJ5Q2xpZW50LmdldFF1ZXJ5RGF0YShbJ3RyeW9uLWhpc3RvcnknLCAnZW50cmllcyddKTtcbiAgICBleHBlY3QoaGlzdG9yeURhdGEpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KChoaXN0b3J5RGF0YSBhcyBhbnkpLmVudHJpZXMpLnRvQ29udGFpbkVxdWFsKFxuICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICBpZDogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ29wdGltaXN0aWNfaGlzdG9yeScpLFxuICAgICAgICB0YWdzOiBleHBlY3QuYXJyYXlDb250YWluaW5nKFsncHJvY2Vzc2luZycsICdvcHRpbWlzdGljJ10pXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBpZiAoZXhwZWN0UHJvZ3Jlc3MpIHtcbiAgICBjb25zdCBwcm9ncmVzc0RhdGEgPSBxdWVyeUNsaWVudC5nZXRRdWVyeURhdGEoWyd0cnlvbi1wcm9ncmVzcycsIG9wdGltaXN0aWNJZF0pO1xuICAgIGV4cGVjdChwcm9ncmVzc0RhdGEpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHByb2dyZXNzRGF0YSkudG9NYXRjaE9iamVjdCh7XG4gICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgc3RhdHVzOiAncHJvY2Vzc2luZycsXG4gICAgICBwcm9ncmVzczogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgc3RhZ2U6IGV4cGVjdC5hbnkoU3RyaW5nKVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGV4cGVjdFJlc3VsdCkge1xuICAgIGNvbnN0IHJlc3VsdERhdGEgPSBxdWVyeUNsaWVudC5nZXRRdWVyeURhdGEoWyd0cnlvbi1yZXN1bHQnLCBvcHRpbWlzdGljSWRdKTtcbiAgICBleHBlY3QocmVzdWx0RGF0YSkudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QocmVzdWx0RGF0YSkudG9NYXRjaE9iamVjdCh7XG4gICAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICB2YXJpYWJsZXM6IGV4cGVjdC5hbnkoT2JqZWN0KVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgb3B0aW1pc3RpYyB1cGRhdGUgd2FzIGNvbXBsZXRlZCBjb3JyZWN0bHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE9wdGltaXN0aWNVcGRhdGVDb21wbGV0ZWQoXG4gIHF1ZXJ5Q2xpZW50OiBRdWVyeUNsaWVudCxcbiAgb3B0aW1pc3RpY0lkOiBzdHJpbmcsXG4gIGV4cGVjdGVkUmVzdWx0OiBUcnlvbk11dGF0aW9uUmVzcG9uc2Vcbikge1xuICAvLyBDaGVjayBoaXN0b3J5IHdhcyB1cGRhdGVkXG4gIGNvbnN0IGhpc3RvcnlEYXRhID0gcXVlcnlDbGllbnQuZ2V0UXVlcnlEYXRhKFsndHJ5b24taGlzdG9yeScsICdlbnRyaWVzJ10pO1xuICBleHBlY3QoaGlzdG9yeURhdGEpLnRvQmVEZWZpbmVkKCk7XG4gIGNvbnN0IGVudHJ5ID0gKGhpc3RvcnlEYXRhIGFzIGFueSkuZW50cmllcy5maW5kKChlOiBhbnkpID0+IFxuICAgICFlLmlkLmluY2x1ZGVzKCdvcHRpbWlzdGljX2hpc3RvcnknKVxuICApO1xuICBleHBlY3QoZW50cnkpLnRvQmVEZWZpbmVkKCk7XG4gIGV4cGVjdChlbnRyeS5nZW5lcmF0ZWRJbWFnZSkudG9CZShleHBlY3RlZFJlc3VsdC5pbWdfZ2VuZXJhdGVkKTtcbiAgZXhwZWN0KGVudHJ5LnRhZ3MpLm5vdC50b0NvbnRhaW4oJ3Byb2Nlc3NpbmcnKTtcbiAgZXhwZWN0KGVudHJ5LnRhZ3MpLm5vdC50b0NvbnRhaW4oJ29wdGltaXN0aWMnKTtcblxuICAvLyBDaGVjayBwcm9ncmVzcyB3YXMgY29tcGxldGVkXG4gIGNvbnN0IHByb2dyZXNzRGF0YSA9IHF1ZXJ5Q2xpZW50LmdldFF1ZXJ5RGF0YShbJ3RyeW9uLXByb2dyZXNzJywgb3B0aW1pc3RpY0lkXSk7XG4gIGV4cGVjdChwcm9ncmVzc0RhdGEpLnRvTWF0Y2hPYmplY3Qoe1xuICAgIGlkOiBvcHRpbWlzdGljSWQsXG4gICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICBwcm9ncmVzczogMTAwLFxuICAgIHN0YWdlOiAnY29tcGxldGVkJ1xuICB9KTtcblxuICAvLyBDaGVjayByZXN1bHQgd2FzIGNhY2hlZFxuICBjb25zdCByZXN1bHREYXRhID0gcXVlcnlDbGllbnQuZ2V0UXVlcnlEYXRhKFsndHJ5b24tcmVzdWx0Jywgb3B0aW1pc3RpY0lkXSk7XG4gIGV4cGVjdChyZXN1bHREYXRhKS50b01hdGNoT2JqZWN0KHtcbiAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgcmVzdWx0OiBleHBlY3RlZFJlc3VsdFxuICB9KTtcbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCBvcHRpbWlzdGljIHVwZGF0ZSB3YXMgcm9sbGVkIGJhY2sgY29ycmVjdGx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPcHRpbWlzdGljVXBkYXRlUm9sbGVkQmFjayhcbiAgcXVlcnlDbGllbnQ6IFF1ZXJ5Q2xpZW50LFxuICBvcHRpbWlzdGljSWQ6IHN0cmluZyxcbiAgZXhwZWN0ZWRFcnJvcj86IHN0cmluZ1xuKSB7XG4gIC8vIENoZWNrIGhpc3RvcnkgZW50cnkgd2FzIHJlbW92ZWRcbiAgY29uc3QgaGlzdG9yeURhdGEgPSBxdWVyeUNsaWVudC5nZXRRdWVyeURhdGEoWyd0cnlvbi1oaXN0b3J5JywgJ2VudHJpZXMnXSk7XG4gIGV4cGVjdChoaXN0b3J5RGF0YSkudG9CZURlZmluZWQoKTtcbiAgY29uc3Qgb3B0aW1pc3RpY0VudHJ5ID0gKGhpc3RvcnlEYXRhIGFzIGFueSkuZW50cmllcy5maW5kKChlOiBhbnkpID0+IFxuICAgIGUuaWQuaW5jbHVkZXMoJ29wdGltaXN0aWNfaGlzdG9yeScpXG4gICk7XG4gIGV4cGVjdChvcHRpbWlzdGljRW50cnkpLnRvQmVVbmRlZmluZWQoKTtcblxuICAvLyBDaGVjayBwcm9ncmVzcyBzaG93cyBlcnJvciBzdGF0ZVxuICBjb25zdCBwcm9ncmVzc0RhdGEgPSBxdWVyeUNsaWVudC5nZXRRdWVyeURhdGEoWyd0cnlvbi1wcm9ncmVzcycsIG9wdGltaXN0aWNJZF0pO1xuICBleHBlY3QocHJvZ3Jlc3NEYXRhKS50b01hdGNoT2JqZWN0KHtcbiAgICBpZDogb3B0aW1pc3RpY0lkLFxuICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICBwcm9ncmVzczogMCxcbiAgICBzdGFnZTogJ2Vycm9yJ1xuICB9KTtcblxuICBpZiAoZXhwZWN0ZWRFcnJvcikge1xuICAgIGV4cGVjdCgocHJvZ3Jlc3NEYXRhIGFzIGFueSkuZXJyb3IpLnRvQmUoZXhwZWN0ZWRFcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBNb2NrIGNvbnNvbGUgbWV0aG9kcyB0byBhdm9pZCB0ZXN0IG91dHB1dCBwb2xsdXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tDb25zb2xlKCkge1xuICBjb25zdCBvcmlnaW5hbENvbnNvbGUgPSB7IC4uLmNvbnNvbGUgfTtcbiAgXG4gIGNvbnN0IGNvbnNvbGVNb2NrcyA9IHtcbiAgICBsb2c6IGplc3Quc3B5T24oY29uc29sZSwgJ2xvZycpLm1vY2tJbXBsZW1lbnRhdGlvbigpLFxuICAgIHdhcm46IGplc3Quc3B5T24oY29uc29sZSwgJ3dhcm4nKS5tb2NrSW1wbGVtZW50YXRpb24oKSxcbiAgICBlcnJvcjogamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKSxcbiAgICBpbmZvOiBqZXN0LnNweU9uKGNvbnNvbGUsICdpbmZvJykubW9ja0ltcGxlbWVudGF0aW9uKClcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIG1vY2tzOiBjb25zb2xlTW9ja3MsXG4gICAgcmVzdG9yZTogKCkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihjb25zb2xlLCBvcmlnaW5hbENvbnNvbGUpO1xuICAgIH1cbiAgfTtcbn0iXSwibmFtZXMiOlsiYXNzZXJ0T3B0aW1pc3RpY1VwZGF0ZUNvbXBsZXRlZCIsImFzc2VydE9wdGltaXN0aWNVcGRhdGVDcmVhdGVkIiwiYXNzZXJ0T3B0aW1pc3RpY1VwZGF0ZVJvbGxlZEJhY2siLCJjcmVhdGVNb2NrRmV0Y2hSZXNwb25zZSIsImNyZWF0ZU1vY2tIaXN0b3J5RW50cmllcyIsImNyZWF0ZVF1ZXJ5Q2xpZW50V3JhcHBlciIsImNyZWF0ZVRlc3RRdWVyeUNsaWVudCIsIm1vY2tDb25zb2xlIiwibW9ja1RyeW9uQVBJIiwibW9ja1RyeW9uQ29udGV4dCIsIm1vY2tUcnlvbkVycm9yIiwibW9ja1RyeW9uUmVzcG9uc2UiLCJtb2NrVHJ5b25WYXJpYWJsZXMiLCJyZW5kZXJIb29rV2l0aFF1ZXJ5Q2xpZW50Iiwid2FpdCIsIndhaXRGb3JQcm9taXNlcyIsIm9wdGlvbnMiLCJRdWVyeUNsaWVudCIsImRlZmF1bHRPcHRpb25zIiwicXVlcmllcyIsInJldHJ5IiwiZ2NUaW1lIiwic3RhbGVUaW1lIiwibXV0YXRpb25zIiwibG9nZ2VyIiwibG9nIiwid2FybiIsImVycm9yIiwicXVlcnlDbGllbnQiLCJjbGllbnQiLCJjaGlsZHJlbiIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsIlF1ZXJ5Q2xpZW50UHJvdmlkZXIiLCJob29rIiwid3JhcHBlciIsInJlbmRlckhvb2siLCJtb2RlbEltYWdlIiwiYXBwYXJlbEltYWdlcyIsInF1YWxpdHkiLCJ0aW1lb3V0IiwiZW5hYmxlT3B0aW1pc3RpY1VwZGF0ZXMiLCJtZXRhZGF0YSIsInRlc3RNb2RlIiwidGltZXN0YW1wIiwiaW1hZ2VQcm9jZXNzaW5nIiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJtYXhTaXplS0IiLCJjb21wcmVzc2lvblF1YWxpdHkiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiaW1nX2dlbmVyYXRlZCIsInByb2Nlc3NpbmdUaW1lIiwibW9kZWxWZXJzaW9uIiwiYXBwbGllZFF1YWxpdHkiLCJwcm9jZXNzaW5nSW5mbyIsInN0ZXBzQ29tcGxldGVkIiwidG90YWxTdGVwcyIsImdwdVVzYWdlIiwibWVtb3J5VXNhZ2UiLCJ2YXJpYWJsZXMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwicmV0cnlDb3VudCIsIm9wdGltaXN0aWNJZCIsImltYWdlUHJvY2Vzc2luZ1Jlc3VsdHMiLCJtb2RlbEltYWdlUmVzdWx0Iiwib3JpZ2luYWxTaXplIiwicHJvY2Vzc2VkU2l6ZSIsImNvbXByZXNzaW9uUmF0aW8iLCJwcm9jZXNzZWRJbWFnZSIsIm9yaWdpbmFsRGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwicHJvY2Vzc2VkRGltZW5zaW9ucyIsImZvcm1hdCIsImFwcGFyZWxJbWFnZVJlc3VsdHMiLCJ0b3RhbFByb2Nlc3NpbmdUaW1lIiwiZGV0YWlscyIsImNvZGUiLCJzdGF0dXMiLCJyZXRyeWFibGUiLCJjYXRlZ29yeSIsInNldmVyaXR5IiwicmVjb3ZlcnlBY3Rpb25zIiwidHlwZSIsImRlc2NyaXB0aW9uIiwiYWN0aW9uRGF0YSIsInN1cHBvcnRlZEZvcm1hdHMiLCJkYXRhIiwib2siLCJqc29uIiwiamVzdCIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ0ZXh0IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJIZWFkZXJzIiwicmVkaXJlY3RlZCIsInN0YXR1c1RleHQiLCJ1cmwiLCJib2R5IiwiYm9keVVzZWQiLCJjbG9uZSIsImFycmF5QnVmZmVyIiwiYmxvYiIsImZvcm1EYXRhIiwicmVzcG9uc2UiLCJkZWxheSIsIm1vY2tSZXNwb25zZSIsIm1vY2tFcnJvciIsInNweU9uIiwiZ2xvYmFsIiwibW9ja0ltcGxlbWVudGF0aW9uIiwidXJsU3RyaW5nIiwidG9TdHJpbmciLCJpbmNsdWRlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0VGltZW91dCIsImVycm9yUmVzcG9uc2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJtcyIsImNvdW50IiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImluZGV4IiwiaWQiLCJ0b0lTT1N0cmluZyIsImdlbmVyYXRlZEltYWdlIiwiTWF0aCIsInJhbmRvbSIsInByb2Nlc3NpbmdDb25maWciLCJyZXF1ZXN0T3B0aW9ucyIsInRhZ3MiLCJub3RlcyIsImlzRmF2b3JpdGUiLCJjb25maWciLCJleHBlY3RIaXN0b3J5IiwiZXhwZWN0UHJvZ3Jlc3MiLCJleHBlY3RSZXN1bHQiLCJoaXN0b3J5RGF0YSIsImdldFF1ZXJ5RGF0YSIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwiZW50cmllcyIsInRvQ29udGFpbkVxdWFsIiwib2JqZWN0Q29udGFpbmluZyIsInN0cmluZ0NvbnRhaW5pbmciLCJhcnJheUNvbnRhaW5pbmciLCJwcm9ncmVzc0RhdGEiLCJ0b01hdGNoT2JqZWN0IiwicHJvZ3Jlc3MiLCJhbnkiLCJOdW1iZXIiLCJzdGFnZSIsIlN0cmluZyIsInJlc3VsdERhdGEiLCJPYmplY3QiLCJleHBlY3RlZFJlc3VsdCIsImVudHJ5IiwiZmluZCIsImUiLCJ0b0JlIiwibm90IiwidG9Db250YWluIiwicmVzdWx0IiwiZXhwZWN0ZWRFcnJvciIsIm9wdGltaXN0aWNFbnRyeSIsInRvQmVVbmRlZmluZWQiLCJvcmlnaW5hbENvbnNvbGUiLCJjb25zb2xlIiwiY29uc29sZU1vY2tzIiwiaW5mbyIsIm1vY2tzIiwicmVzdG9yZSIsImFzc2lnbiJdLCJtYXBwaW5ncyI6IkFBQUEsNkRBQTZEO0FBQzdELDBFQUEwRTs7Ozs7Ozs7Ozs7O0lBdVYxREEsK0JBQStCO2VBQS9CQTs7SUEvQ0FDLDZCQUE2QjtlQUE3QkE7O0lBb0ZBQyxnQ0FBZ0M7ZUFBaENBOztJQTVNQUMsdUJBQXVCO2VBQXZCQTs7SUE0RkFDLHdCQUF3QjtlQUF4QkE7O0lBL05BQyx3QkFBd0I7ZUFBeEJBOztJQTlCQUMscUJBQXFCO2VBQXJCQTs7SUEyWUFDLFdBQVc7ZUFBWEE7O0lBL01BQyxZQUFZO2VBQVpBOztJQTFGSEMsZ0JBQWdCO2VBQWhCQTs7SUF5Q0FDLGNB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